/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 0.0.0
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(t){var n=t.keditor,e=t.edmEditor,a=n.log;n.components.button={settingEnabled:!0,settingTitle:"Button Settings",initSettingForm:function(n,i){return a('init "button" settings',n),t.ajax({url:"/keditor/edmComponentButtonSettings.html",type:"get",dataType:"HTML",success:function(a){n.html(a),n=n.find(".form-horizontal"),e.initDefaultComponentControls(n,i);var o=n.find(".button-color-picker");e.initSimpleColorPicker(o,function(t){var n=i.getSettingComponent().find(".button-wrapper");n.attr("bgcolor",t),e.setStyles("background-color",t,n)});var r=n.find("#button-border-radius");r.on("change",function(){e.setStyles("border-radius",this.value+"px",i.getSettingComponent().find(".button-wrapper"))}),n.find(".button-inner-padding").each(function(){var n=t(this),a=n.attr("data-css");e.initPaddingControl(n,function(t){e.setStyles(a,t+"px",i.getSettingComponent().find(".button-inner"))})});var s=n.find("#button-text");s.on("change",function(){var t=this.value||"";t=t.trim(),i.getSettingComponent().find(".button-wrapper a").text(t)});var l=n.find("#button-link");l.on("change",function(){var t=this.value||"";t=t.trim(),i.getSettingComponent().find(".button-wrapper a").attr("href",t)}),n.find(".btn-browse-file").mselect({mselectAll:!0,pagePath:i.options.pagePath,basePath:i.options.basePath,onSelectFile:function(t,n,e,a){l.val("http://"+window.location.host+"/_hashes/files/"+a).trigger("change")}});var c=n.find(".button-color-text-picker");e.initSimpleColorPicker(c,function(t){var n=i.getSettingComponent().find(".button-wrapper a");e.setStyles("color",t,n)});var d=n.find("#button-font-size");d.on("change",function(){e.setStyles("font-size",(this.value>0?this.value:0)+"px",i.getSettingComponent().find(".button-wrapper .button-inner"))});var f=n.find("#button-font-family");f.on("change",function(){e.setStyles("font-family",this.value,i.getSettingComponent().find(".button-wrapper .button-inner"))}),n.find(".btn-style").each(function(){var n=t(this),e=n.attr("data-prop");n.on("click",function(t){t.preventDefault();var a=n.attr("data-value");n.hasClass("active")?(n.removeClass("active"),a=""):n.addClass("active"),i.getSettingComponent().find(".button-wrapper a").get(0).style[e]=a})});var u=n.find(".btn-align");u.each(function(){var n=t(this),e=n.attr("data-value");n.on("click",function(t){if(t.preventDefault(),!n.hasClass("active")){var a=i.getSettingComponent().find(".button-wrapper");u.removeClass("active"),n.addClass("active"),"full"===e?a.attr("width","100%").attr("align","center"):a.removeAttr("width").attr("align",e)}})})}})},showSettingForm:function(n,i,o){a('showSettingForm "button" component',i),e.showDefaultComponentControls(n,i,o);var r=i.find(".button-wrapper"),s=r.find(".button-inner"),l=s.find("a"),c=n.find(".button-color-picker");c.val(r.css("background-color")||"").trigger("update");var d=n.find("#button-border-radius"),f=r.css("border-radius");d.val(f?f.replace("px",""):""),n.find(".button-inner-padding").each(function(){var n=t(this),e=n.attr("data-css"),a=s.css(e);n.val(a?a.replace("px",""):"0")});var u=n.find("#button-text");u.val(l.text());var p=n.find("#button-link");p.val(l.attr("href"));var v=n.find(".button-color-text-picker");v.val(l.css("color")||"").trigger("update");var g=n.find("#button-font-size"),b=s.css("font-size");g.val(b?b.replace("px",""):"");var h=n.find("#button-font-family");h.val(s.css("font-family").toLowerCase().replace(/,\s/g,",").replace(/"/g,""));var m=n.find(".btn-bold"),C=l.css("font-weight");m["700"===C||"bold"===C?"addClass":"removeClass"]("active");var S=n.find(".btn-italic");S["italic"===l.css("font-style")?"addClass":"removeClass"]("active");var w=r.attr("align");"100%"===r.attr("width")&&(w="full"),n.find(".btn-align").removeClass("active").filter("[data-value="+w+"]").addClass("active")}}}(jQuery);
//# sourceMappingURL=keditor-edm-component-button-0.0.0.min.js.map
