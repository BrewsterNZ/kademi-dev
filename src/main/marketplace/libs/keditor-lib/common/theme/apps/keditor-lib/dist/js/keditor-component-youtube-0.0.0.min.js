/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 0.0.0
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(e){var t=e.keditor,n=t.log;t.components.youtube={getContent:function(e,t){n('getContent "youtube" component',e);var o=e.children(".keditor-component-content");return o.find(".youtube-cover").remove(),o.html()},settingEnabled:!0,settingTitle:"Youtube Settings",initSettingForm:function(t,o){return n('init "youtube" settings',t),e.ajax({url:"/theme/apps/keditor-lib/componentYoutubeSettings.html",type:"get",dataType:"HTML",success:function(e){t.html(e);var i=t.find(".btn-youtube-edit");i.on("click",function(e){e.preventDefault();var t=prompt("Please enter Youtube URL in here:"),n=/^(?:http(?:s)?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com\/(?:(?:watch)?\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\/))([^\?&\"'>]+)/,i=t.match(n);i&&i[1]?o.getSettingComponent().find(".embed-responsive-item").attr("src","https://www.youtube.com/embed/"+i[1]):alert("Your Youtube URL is invalid!")});var u=t.find(".btn-youtube-169");u.on("click",function(e){e.preventDefault(),o.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-4by3").addClass("embed-responsive-16by9")});var r=t.find(".btn-youtube-43");r.on("click",function(e){e.preventDefault(),o.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-16by9").addClass("embed-responsive-4by3")});var s=t.find("#youtube-autoplay");s.on("click",function(){var e=o.getSettingComponent().find(".embed-responsive-item"),t=e.attr("src"),i=t.replace(/(\?.+)+/,"")+"?autoplay="+(s.is(":checked")?1:0);n("Current url: "+t,"New url: "+i),e.attr("src",i)})}})},showSettingForm:function(e,t,o){n('showSettingForm "youtube" component',t);var i=t.find(".embed-responsive-item"),u=e.find("#youtube-autoplay"),r=i.attr("src");u.prop("checked",r.indexOf("autoplay=1")!==-1)}}}(jQuery);
//# sourceMappingURL=keditor-component-youtube-0.0.0.min.js.map
