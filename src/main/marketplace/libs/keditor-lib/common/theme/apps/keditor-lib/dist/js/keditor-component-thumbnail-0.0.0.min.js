/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 0.0.0
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(n){var t=n.keditor,o=n.contentEditor,e=t.log;t.components.thumbnail={init:function(n,t,o,i){e('init "thumbnail" component',o);var a=i.options,c=o.children(".keditor-component-content"),r=c.find(".caption");r.addClass("clearfix");var d=r.find(".caption-inner");0===d.length&&(r.html('<div class="caption-inner">'+r.html()+"</div>"),d=r.find(".caption-inner")),d.attr("id")||d.attr("id",i.generateId("component-text-content-inner")),d.prop("contenteditable",!0),d.on("input",function(e){"function"==typeof a.onComponentChanged&&a.onComponentChanged.call(n,e,o),"function"==typeof a.onContainerChanged&&a.onContainerChanged.call(n,e,t),"function"==typeof a.onContentChanged&&a.onContentChanged.call(n,e)});var m=d.ckeditor(a.ckeditorOptions).editor;m.on("instanceReady",function(){e("CKEditor is ready",o),"function"==typeof a.onComponentReady&&a.onComponentReady.call(n,o,m)})},getContent:function(n,t){e('getContent "thumbnail" component',n);var o=n.find(".keditor-component-content"),i=o.find(".caption"),a=i.find(".caption-inner"),c=a.attr("id"),r=CKEDITOR.instances[c];return r&&i.html(r.getData()),o.html()},destroy:function(n,t){e('destroy "text" component',n);var o=n.find(".caption-inner").attr("id"),i=CKEDITOR.instances[o];i&&i.destroy()},settingEnabled:!0,settingTitle:"Thumbnail Settings",initSettingForm:function(t,i){return e('initSettingForm "thumbnail" component'),n.ajax({url:"/theme/apps/keditor-lib/componentThumbnailSettings.html",type:"get",dataType:"HTML",success:function(n){t.html(n),o.initMselectImage(t.find(".photo-edit"),i,function(n,t,o,e){var a=i.getSettingComponent().find(".thumbnail img");a.attr("src","/_hashes/files/"+e)})}})},showSettingForm:function(n,t,o){e('showSettingForm "thumbnail" component',t)}}}(jQuery);
//# sourceMappingURL=keditor-component-thumbnail-0.0.0.min.js.map
