{"version":3,"sources":["keditor-component-text-0.0.0.js"],"names":["$","KEditor","keditor","contentEditor","flog","log","CKEDITOR","disableAutoInline","dtd","$removeEmpty","components","init","contentArea","container","component","options","componentContent","find","ckeditorPlace","length","contentHtml","html","wrap","attr","generateId","prop","on","e","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","ckeditorOptions","onComponentReady","iframeMode","setTimeout","id","parents","css","getContent","componentTextContent","children","instances","getData","destroy","settingEnabled","settingTitle","initSettingForm","form","ajax","url","type","dataType","success","resp","initMSelectImage","relUrl","hash","isAsset","target","getSettingComponent","imageUrl","window","location","host","preventDefault","colorPicker","initColorPicker","color","textColorPicker","this","value","each","txt","styleName","paddingValue","get","trim","style","isNaN","marginValue","height","minHeight","maxHeight","width","minWidth","maxWidth","showSettingForm","backgroundImage","replace","val","backgroundRepeat","backgroundPosition","backgroundSize","backgroundColor","colorpicker","jQuery"],"mappings":"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","file":"keditor-component-text-0.0.0.min.js","sourcesContent":["(function ($) {\r\n    var KEditor = $.keditor;\r\n    var contentEditor = $.contentEditor;\r\n    var flog = KEditor.log;\r\n    \r\n    CKEDITOR.disableAutoInline = true;\r\n    CKEDITOR.dtd.$removeEmpty['i'] = false;\r\n    \r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"text\" component', component);\r\n            \r\n            var options = keditor.options;\r\n            \r\n            var componentContent = component.find('.keditor-component-content');\r\n            var ckeditorPlace = componentContent.find('.keditor-component-text-content-inner');\r\n            \r\n            if (ckeditorPlace.length === 0) {\r\n                var contentHtml = componentContent.html();\r\n                ckeditorPlace = $('<div class=\"keditor-component-text-content-inner clearfix\"></div>');\r\n                componentContent.html(ckeditorPlace);\r\n                ckeditorPlace.html(contentHtml);\r\n                ckeditorPlace.wrap('<div class=\"keditor-component-text-content\"></div>');\r\n            }\r\n            \r\n            if (!ckeditorPlace.attr('id')) {\r\n                ckeditorPlace.attr('id', keditor.generateId('component-text-content-inner'));\r\n            }\r\n            \r\n            ckeditorPlace.prop('contenteditable', true);\r\n            ckeditorPlace.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(keditor, e, component, contentArea);\r\n                }\r\n                \r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(keditor, e, container, contentArea);\r\n                }\r\n                \r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(keditor, e, contentArea);\r\n                }\r\n            });\r\n            \r\n            var editor = ckeditorPlace.ckeditor(options.ckeditorOptions).editor;\r\n            editor.on('instanceReady', function (e) {\r\n                flog('CKEditor is ready', component);\r\n                \r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n                if (options.iframeMode){\r\n                    e.editor.on('focus', function (e) {\r\n                        setTimeout(function () {\r\n                            $('#'+e.editor.id + '_top').parents('.'+e.editor.id).css('top', 0).css('position', 'fixed');\r\n                        }, 0);\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        \r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"text\" component', component);\r\n            \r\n            var componentContent = component.find('.keditor-component-content');\r\n            var componentTextContent = componentContent.find('.keditor-component-text-content');\r\n            \r\n            var id = componentTextContent.children().attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                componentTextContent.html('<div class=\"keditor-component-text-content-inner clearfix\">' + editor.getData() + '</div>');\r\n            }\r\n            \r\n            return componentContent.html();\r\n        },\r\n        \r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n            \r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Text Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"text\" component');\r\n            \r\n            return $.ajax({\r\n                url: '/theme/apps/keditor-lib/componentTextSettings.html',\r\n                type: 'get',\r\n                dataType: 'HTML',\r\n                success: function (resp) {\r\n                    form.html(resp);\r\n                    \r\n                    // =================================================================================\r\n                    // Backgrounds\r\n                    // =================================================================================\r\n                    initMSelectImage(form.find('.background-image-edit'), keditor, function (url, relUrl, type, hash, isAsset) {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        var imageUrl = 'http://' + window.location.host + '/_hashes/files/' + hash;\r\n                        if (isAsset){\r\n                            imageUrl = url;\r\n                        }\r\n                        target.css('background-image', 'url(\"' + imageUrl + '\")');\r\n                        form.find('.background-image-previewer').attr('src', imageUrl);\r\n                    });\r\n                    form.find('.background-image-delete').on('click', function (e) {\r\n                        e.preventDefault();\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('background-image', '');\r\n                        form.find('.background-image-previewer').attr('src', '/static/images/photo_holder.png');\r\n                    });\r\n                    \r\n                    var colorPicker = form.find('.txt-bg-color');\r\n                    contentEditor.initColorPicker(colorPicker, function (color) {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('background-color', color);\r\n                    });\r\n\r\n                    var textColorPicker = form.find('.txt-text-color');\r\n                    contentEditor.initColorPicker(textColorPicker, function (color) {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('color', color);\r\n                    });\r\n                    \r\n                    form.find('.select-bg-repeat').on('change', function () {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        \r\n                        target.css('background-repeat', this.value);\r\n                    });\r\n                    \r\n                    form.find('.select-bg-size').on('change', function () {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        \r\n                        target.css('background-size', this.value);\r\n                    });\r\n                    \r\n                    form.find('.select-bg-position').on('change', function () {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        \r\n                        target.css('background-position', this.value);\r\n                    });\r\n                    \r\n                    // =================================================================================\r\n                    // Padding\r\n                    // =================================================================================\r\n                    form.find('.txt-padding').each(function () {\r\n                        var txt = $(this);\r\n                        var styleName = txt.attr('data-style-name');\r\n                        \r\n                        txt.on('change', function () {\r\n                            var paddingValue = this.value || '';\r\n                            var target = keditor.getSettingComponent().find('.keditor-component-text-content').get(0);\r\n                            \r\n                            if (paddingValue.trim() === '') {\r\n                                target.style[styleName] = '';\r\n                            } else {\r\n                                if (isNaN(paddingValue)) {\r\n                                    paddingValue = 0;\r\n                                    this.value = paddingValue;\r\n                                }\r\n                                target.style[styleName] = paddingValue + 'px';\r\n                            }\r\n                        });\r\n                    });\r\n                    \r\n                    // =================================================================================\r\n                    // Margin\r\n                    // =================================================================================\r\n                    form.find('.txt-margin').each(function () {\r\n                        var txt = $(this);\r\n                        var styleName = txt.attr('data-style-name');\r\n                        \r\n                        txt.on('change', function () {\r\n                            var marginValue = this.value || '';\r\n                            var target = keditor.getSettingComponent().find('.keditor-component-text-content').get(0);\r\n                            \r\n                            if (marginValue.trim() === '') {\r\n                                target.style[styleName] = '';\r\n                            } else {\r\n                                if (isNaN(marginValue)) {\r\n                                    marginValue = 0;\r\n                                    this.value = marginValue;\r\n                                }\r\n                                target.style[styleName] = marginValue + 'px';\r\n                            }\r\n                        });\r\n                    });\r\n                    \r\n                    // =================================================================================\r\n                    // Width and Height\r\n                    // =================================================================================\r\n                    form.find('.txt-height').on('change', function () {\r\n                        var height = this.value || '';\r\n                        if (isNaN(height)) {\r\n                            height = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('height', height);\r\n                    });\r\n                    \r\n                    form.find('.txt-min-height').on('change', function () {\r\n                        var minHeight = this.value || '';\r\n                        if (isNaN(minHeight)) {\r\n                            minHeight = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('min-height', minHeight + 'px');\r\n                    });\r\n                    \r\n                    form.find('.txt-max-height').on('change', function () {\r\n                        var maxHeight = this.value || '';\r\n                        if (isNaN(maxHeight)) {\r\n                            maxHeight = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('max-height', maxHeight + 'px');\r\n                    });\r\n                    \r\n                    form.find('.txt-width').on('change', function () {\r\n                        var width = this.value || '';\r\n                        if (isNaN(width)) {\r\n                            width = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('width', width);\r\n                    });\r\n                    \r\n                    form.find('.txt-min-width').on('change', function () {\r\n                        var minWidth = this.value || '';\r\n                        if (isNaN(minWidth)) {\r\n                            minWidth = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('min-width', minWidth + 'px');\r\n                    });\r\n                    \r\n                    form.find('.txt-max-width').on('change', function () {\r\n                        var maxWidth = this.value || '';\r\n                        if (isNaN(maxWidth)) {\r\n                            maxWidth = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('max-width', maxWidth + 'px');\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"text\" component', component);\r\n            \r\n            var target = component.find('.keditor-component-text-content').get(0);\r\n            \r\n            var imageUrl = target.style.backgroundImage;\r\n            imageUrl = (imageUrl || '').replace(/^url\\(['\"]+(.+)['\"]+\\)$/, '$1');\r\n            form.find('.background-image-previewer').attr('src', imageUrl !== 'none' && imageUrl !== '' ? imageUrl : '/static/images/photo_holder.png');\r\n            \r\n            form.find('.select-bg-repeat').val(target.style.backgroundRepeat || 'repeat');\r\n            form.find('.select-bg-position').val(target.style.backgroundPosition || '0% 0%');\r\n            form.find('.select-bg-size').val(target.style.backgroundSize || 'auto');\r\n\r\n            if (target.style.backgroundColor){\r\n                form.find('.txt-bg-color').colorpicker('setValue', target.style.backgroundColor);\r\n            }\r\n            if (target.style.color){\r\n                form.find('.txt-text-color').colorpicker('setValue', target.style.color);\r\n            }\r\n\r\n            form.find('.txt-padding').each(function () {\r\n                var txt = $(this);\r\n                var styleName = txt.attr('data-style-name');\r\n                \r\n                txt.val((target.style[styleName] || '').replace('px', ''));\r\n            });\r\n            form.find('.txt-margin').each(function () {\r\n                var txt = $(this);\r\n                var styleName = txt.attr('data-style-name');\r\n                \r\n                txt.val((target.style[styleName] || '').replace('px', ''));\r\n            });\r\n            \r\n            form.find('.txt-height').val((target.style.height || '').replace('px', ''));\r\n            form.find('.txt-min-height').val((target.style.minHeight || '').replace('px', ''));\r\n            form.find('.txt-max-height').val((target.style.maxHeight || '').replace('px', ''));\r\n            form.find('.txt-width').val((target.style.width || '').replace('px', ''));\r\n            form.find('.txt-min-with').val((target.style.minWidth || '').replace('px', ''));\r\n            form.find('.txt-max-with').val((target.style.maxWidth || '').replace('px', ''));\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n"]}