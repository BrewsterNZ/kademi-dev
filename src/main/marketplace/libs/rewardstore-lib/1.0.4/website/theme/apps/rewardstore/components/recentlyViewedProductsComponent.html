#if ($page && $recentlyViewedRewardProducts && $recentlyViewedRewardProducts.size() > 0)
#set ($app = $applications.get("rewardstore-lib"))
#set ($recentlyViewedRewardProducts = $app.call("getRecentlyViewedRewardProducts", $page, $numberOfProducts))
<div class="row">
    <ul class="recentlyViewedRewardProducts">
        #foreach($p in $recentlyViewedRewardProducts)
        #set ($prodUrl = "/$reward/$p.parent.name/$p.name")

        #set($bg = "/static/images/photo_holder.png")
        #if( $p.primaryImageHref )
        #set($bg = $p.primaryImageHref)
        #end
        <li class="slickItem" >
            <a class="embed-responsive embed-responsive-4by3" href="$!prodUrl" title="$!p.title">
                <div style="background-image: url($bg);" class="embed-responsive-item"></div>
            </a>
            <a href="$!prodUrl">$!p.title</a>
        </li>
        #end
    </ul>
</div>
#else
#fakeUI()
#end


#macro(fakeUI)
<div class="row">
    <ul class="recentlyViewedRewardProducts">
        #set ($fakeArr = [1,2,3,4,5,6,7,8,9,10])
        #foreach($p in $fakeArr)

        #set($bg = "/static/images/photo_holder.png")
        <li class="slickItem" >
            <a class="embed-responsive embed-responsive-4by3" href="$!prodUrl" title="$!p.title">
                <div style="background-image: url($bg);" class="embed-responsive-item"></div>
            </a>
            <a href="$!prodUrl">Sample product $p</a>
        </li>
        #end
    </ul>
</div>
#end