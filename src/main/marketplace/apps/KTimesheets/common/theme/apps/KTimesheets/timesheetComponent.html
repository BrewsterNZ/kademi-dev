
#set( $timesheet = $services.timesheetManager.timesheet )


<table class="table table-striped timesheet-table" id="the-timesheet">
    <thead>
        <tr>
            <th>Item</th>

            #foreach( $day in $timesheet.days )
            <th>$formatter.formatDate($day)</th>
            #end
        </tr>
        <tr>
            <th></th>

            #foreach( $day in $timesheet.days )
            <th>$formatter.getDayOfWeekName($day)</th>
            #end
        </tr>
    </thead>

    <tbody>
        #foreach( $item in $timesheet.workItems )
        <tr>
            <td>
                #if( $item.class.simpleName == "Task" )
                <a href="/tasks/$item.id">$item.title</a>
                <input type="hidden" class="form-control timesheet-item" name="item" value="$item.id" />
                #elseif( $item.class.simpleName == "Lead" )
                <a href="/leads/$item.id">$item.title</a>
                <input type="hidden" class="form-control timesheet-item" name="item" value="$item.id" />
                #else
                $item
                <input type="hidden" class="form-control timesheet-item" name="item" value="$item" />
                #end
            </td>
            #foreach( $day in $timesheet.days )
            <td>
                <input type="numeric" class="form-control timesheet-hours" name="hours" step="0.1" value="$!timesheet.getHours($day, $item)" data-day="$formatter.formatDate($day)"/>
            </td>
            #end
        </tr>
        #end


        #foreach( $cnt in [1, 2, 3, 4, 5])
        <tr>
            <td>
                <input type="text" class="form-control timesheet-item" name="item" />
            </td>
            #foreach( $day in $timesheet.days )
            <td>
                <input type="numeric" class="form-control timesheet-hours" disabled name="hours" step="0.1" data-day="$formatter.formatDate($day)" />
            </td>
            #end
        </tr>
        #end
    </tbody>
    <tfoot>

    </tfoot>
</table>

<table class="table">
#foreach( $entry in $timesheet.entries )
<tr>
    <td>$entry.id</td>
    <td>
        $!entry.task / $!entry.lead / $!entry.label
    </td>
    <td>$entry.workedDate</td>
    <td>$entry.hours</td>
</tr>
#end
</table>