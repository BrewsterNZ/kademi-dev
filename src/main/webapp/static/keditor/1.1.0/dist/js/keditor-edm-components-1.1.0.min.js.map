{"version":3,"sources":["keditor-edm-components-1.1.0.js"],"names":["$","KEditor","keditor","flog","log","components","init","contentArea","container","component","options","getContent","componentContent","children","html","destroy","settingEnabled","settingTitle","initSettingForm","form","self","this","append","photoEdit","find","mselect","contentTypes","bs3Modal","pagePath","window","location","pathname","replace","onSelectFile","url","img","settingComponent","attr","showSettingForm","inputAlt","on","value","val","hideSettingForm","jQuery","spacerHeight","css","title","allowedContent","bodyId","templates_replaceContent","toolbarGroups","name","groups","extraPlugins","removePlugins","removeButtons","enterMode","CKEDITOR","ENTER_DIV","forceEnterMode","filebrowserBrowseUrl","filebrowserUploadUrl","format_tags","stylesSet","stylesPath","line_height","prop","e","onComponentChanged","call","onContainerChanged","onContentChanged","skin","editorSkin","templates_files","templatesPath","editor","ckeditor","onComponentReady","id","instances","getData"],"mappings":"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","file":"keditor-edm-components-1.1.0.min.js","sourcesContent":["/**\r\n * KEditor Photo Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['photo'] = {\r\n        init: function (contentArea, container, component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"photo\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            return componentContent.html();\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Photo Settings',\r\n\r\n        initSettingForm: function (form, options) {\r\n            flog('initSettingForm \"photo\" component');\r\n            var self = this;\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-alt\" class=\"col-sm-12\">Alt text</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"text\" id=\"photo-alt\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var photoEdit = form.find('#photo-edit');\r\n            photoEdit.mselect({\r\n                contentTypes: ['image'],\r\n                bs3Modal: true,\r\n                pagePath: window.location.pathname.replace('contenteditor',''),\r\n                onSelectFile: function(url) {\r\n                    var img = KEditor.settingComponent.find('img');\r\n                    img.attr('src', url);\r\n                    self.showSettingForm(form, KEditor.settingComponent, options);\r\n                }\r\n            });\r\n\r\n            var inputAlt = form.find('#photo-alt');\r\n            inputAlt.on('change', function () {\r\n                KEditor.settingComponent.find('img').attr('alt', this.value);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, options) {\r\n            flog('showSettingForm \"photo\" component', component);\r\n\r\n            var inputAlt = form.find('#photo-alt');\r\n            inputAlt.val(component.find('img').attr('alt') || '');\r\n        },\r\n\r\n        hideSettingForm: function (form) {\r\n            // Do nothing\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Spacer Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['spacer'] = {\r\n        init: function (contentArea, container, component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"spacer\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            return componentContent.html();\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Spacer Settings',\r\n\r\n        initSettingForm: function (form, options) {\r\n            flog('initSettingForm \"spacer\" component');\r\n            var self = this;\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"spacer-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"spacer-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var spacerHeight = form.find('#spacer-height');\r\n            spacerHeight.on('change', function () {\r\n                KEditor.settingComponent.find('.spacer').attr('height', this.value).css('height', this.value);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, options) {\r\n            flog('showSettingForm \"spacer\" component', component);\r\n\r\n            var spacerHeight = form.find('#spacer-height');\r\n            spacerHeight.val(component.find('.spacer').attr('height'));\r\n        },\r\n\r\n        hideSettingForm: function (form) {\r\n            // Do nothing\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Text Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        options: {\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes are allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']},\r\n                {name: 'about', groups: ['about']}\r\n            ],\r\n            extraPlugins: 'sourcedialog,lineheight',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            enterMode: CKEDITOR.ENTER_DIV,\r\n            forceEnterMode: true,\r\n            filebrowserBrowseUrl: '/static/fckfilemanager/browser/default/browser.html?Type=Image&Connector=/fck_connector.html',\r\n            filebrowserUploadUrl: '/uploader/upload',\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            stylesSet: 'myStyles:' + stylesPath,\r\n            line_height: '1;1.2;1.5;2;2.2;2.5'\r\n        },\r\n\r\n        init: function (contentArea, container, component, options) {\r\n            flog('init \"text\" component', component);\r\n            var self = this;\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            self.options.skin = editorSkin;\r\n            self.options.templates_files = [templatesPath];\r\n\r\n            var editor = componentContent.ckeditor(self.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"text\" component', component);\r\n\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var id = componentContent.attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                return editor.getData();\r\n            } else {\r\n                return componentContent.html();\r\n            }\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}