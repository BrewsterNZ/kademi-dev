{"version":3,"sources":["keditor-edm-component-line-0.0.0.js"],"names":["$","KEditor","keditor","edmEditor","flog","log","components","settingEnabled","settingTitle","initSettingForm","form","ajax","url","type","dataType","success","resp","html","find","initDefaultComponentControls","lineHeight","on","getSettingComponent","css","this","value","lineWidth","attr","prop","lineColorPicker","initSimpleColorPicker","color","wrapper","div","setStyles","showSettingForm","component","height","val","replace","width","trigger","showDefaultComponentControls","jQuery"],"mappings":"CAOA,SAAWA,GACP,GAAIC,GAAUD,EAAEE,QACZC,EAAYH,EAAEG,UACdC,EAAOH,EAAQI,GAEnBJ,GAAQK,WAAiB,MACrBC,gBAAgB,EAEhBC,aAAc,gBAEdC,gBAAiB,SAAUC,EAAMR,GAG7B,MAFAE,GAAK,uBAAwBM,GAEtBV,EAAEW,MACLC,IAAK,gDACLC,KAAM,MACNC,SAAU,OACVC,QAAS,SAAUC,GACfN,EAAKO,KAAKD,GAEVN,EAAOA,EAAKQ,KAAK,oBACjBf,EAAUgB,6BAA6BT,EAAMR,EAE7C,IAAIkB,GAAaV,EAAKQ,KAAK,eAC3BE,GAAWC,GAAG,SAAU,WACpBnB,EAAQoB,sBAAsBJ,KAAK,gBAAgBK,IAAI,SAAUC,KAAKC,QAG1E,IAAIC,GAAYhB,EAAKQ,KAAK,cAC1BQ,GAAUL,GAAG,SAAU,WACnBnB,EAAQoB,sBAAsBJ,KAAK,kBAAkBS,KAAK,QAASH,KAAKC,SAG5Ef,EAAKQ,KAAK,gBAAgBG,GAAG,QAAS,WAClCK,EAAUE,KAAK,WAAYJ,KAAKC,OAE5BD,KAAKC,OACLvB,EAAQoB,sBAAsBJ,KAAK,kBAAkBS,KAAK,QAAS,SAI3E,IAAIE,GAAkBnB,EAAKQ,KAAK,qBAChCf,GAAU2B,sBAAsBD,EAAiB,SAAUE,GACvD,GAAIC,GAAU9B,EAAQoB,sBAAsBJ,KAAK,YAC7Ce,EAAMD,EAAQd,KAAK,MAEvBf,GAAU+B,UAAU,mBAAoBH,EAAOE,SAM/DE,gBAAiB,SAAUzB,EAAM0B,EAAWlC,GACxCE,EAAK,mCAAoCgC,EAEzC,IAAIhB,GAAaV,EAAKQ,KAAK,gBACvBmB,EAASD,EAAUlB,KAAK,gBAAgBK,IAAI,SAChDH,GAAWkB,IAAID,EAASA,EAAOE,QAAQ,KAAM,IAAM,IAEnD,IAAIb,GAAYhB,EAAKQ,KAAK,eACtBsB,EAAQJ,EAAUlB,KAAK,kBAAkBS,KAAK,QAClDjB,GAAKQ,KAAK,gBAA0B,SAAVsB,EAAmB,SAAW,OAAO,6BAA6BC,QAAQ,SACpGf,EAAUY,IAAc,SAAVE,EAAmB,GAAKA,EAAQA,EAAMD,QAAQ,KAAM,IAAM,KAExEpC,EAAUuC,6BAA6BhC,EAAM0B,EAAWlC,EAExD,IAAI8B,GAAUI,EAAUlB,KAAK,YACzBe,EAAMD,EAAQd,KAAK,OACnBW,EAAkBnB,EAAKQ,KAAK,qBAChCW,GAAgBS,IAAIL,EAAIV,IAAI,qBAAuB,IAAIkB,QAAQ,aAIxEE","file":"keditor-edm-component-line-0.0.0.min.js","sourcesContent":["/**\r\n * KEditor Line Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var edmEditor = $.edmEditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['line'] = {\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Line Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"line\" settings', form);\r\n    \r\n            return $.ajax({\r\n                url: '/static/keditor/edmComponentLineSettings.html',\r\n                type: 'get',\r\n                dataType: 'HTML',\r\n                success: function (resp) {\r\n                    form.html(resp);\r\n    \r\n                    form = form.find('.form-horizontal');\r\n                    edmEditor.initDefaultComponentControls(form, keditor);\r\n    \r\n                    var lineHeight = form.find('#line-height');\r\n                    lineHeight.on('change', function () {\r\n                        keditor.getSettingComponent().find('.wrapper div').css('height', this.value);\r\n                    });\r\n    \r\n                    var lineWidth = form.find('#line-width');\r\n                    lineWidth.on('change', function () {\r\n                        keditor.getSettingComponent().find('.wrapper table').attr('width', this.value);\r\n                    });\r\n                    \r\n                    form.find('[name=width]').on('click', function () {\r\n                        lineWidth.prop('disabled', this.value);\r\n                        \r\n                        if (this.value) {\r\n                            keditor.getSettingComponent().find('.wrapper table').attr('width', '100%');\r\n                        }\r\n                    });\r\n    \r\n                    var lineColorPicker = form.find('.line-color-picker');\r\n                    edmEditor.initSimpleColorPicker(lineColorPicker, function (color) {\r\n                        var wrapper = keditor.getSettingComponent().find('.wrapper');\r\n                        var div = wrapper.find('div');\r\n        \r\n                        edmEditor.setStyles('background-color', color, div);\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"line\" component', component);\r\n\r\n            var lineHeight = form.find('#line-height');\r\n            var height = component.find('.wrapper div').css('height');\r\n            lineHeight.val(height ? height.replace('px', '') : '0');\r\n\r\n            var lineWidth = form.find('#line-width');\r\n            var width = component.find('.wrapper table').attr('width');\r\n            form.find('[name=width]')[width === '100%' ? 'filter' : 'not']('[value=\"line-full-width\"]').trigger('click');\r\n            lineWidth.val(width === '100%' ? '' : width ? width.replace('px', '') : '0');\r\n            \r\n            edmEditor.showDefaultComponentControls(form, component, keditor);\r\n\r\n            var wrapper = component.find('.wrapper');\r\n            var div = wrapper.find('div');\r\n            var lineColorPicker = form.find('.line-color-picker');\r\n            lineColorPicker.val(div.css('background-color') || '').trigger('update');\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"]}