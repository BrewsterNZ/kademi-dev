/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 0.0.0
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(t){var a=t.keditor,e=a.log;a.components.ksvgmap={init:function(a,n,i,o){var r=i.find("script");r.length&&r.remove(),i.attr("data-height")&&i.find(".ksvgmap").css("height",+i.attr("data-height")),t.getScriptOnce("/static/jquery-jvectormap/jquery-jvectormap-2.0.3.min.js",function(){t.getScriptOnce("/static/jquery-jvectormap/jquery-jvectormap-au-mill.js",function(){i.find(".ksvgmap").vectorMap({map:"au_mill",backgroundColor:"#fff",zoomButtons:!1,focusOn:{x:.5,y:.5,scale:1},regionStyle:{initial:{fill:"#efefef"},hover:{fill:"#00aa90"}},onRegionTipShow:function(t,a,e){i.attr("data-"+e)&&a.html(a.html()+" - "+i.attr("data-"+e))}});var t=setInterval(function(){try{var a=i.find(".ksvgmap").vectorMap("get","mapObject");a.updateSize(),clearInterval(t)}catch(n){e("trying to get jvectormap object")}},50)})})},getContent:function(a,n){e('getContent "svgmap" component',a);var i=a.children(".keditor-component-content"),o='<script>$(function(){$(document.body).hasClass("content-editor-page")||$.getScriptOnce("/static/jquery-jvectormap/jquery-jvectormap-2.0.3.min.js",function(){$.getScriptOnce("/static/jquery-jvectormap/jquery-jvectormap-au-mill.js",function(){$(".ksvgmap").each(function(){var a=$(this).parents("[data-type=component-ksvgmap]");a.hasClass("ksvgInit")||(a.addClass("ksvgInit"),$(this).vectorMap({map:"au_mill",backgroundColor:"#fff",zoomButtons:!1,scale:5,regionStyle:{initial:{fill:"#efefef"},hover:{fill:"#00aa90"}},onRegionTipShow:function(b,c,d){a.attr("data-"+d)&&c.html("<span class=\'vectormap-tip-region-name\'>"+c.html()+"</span><span class=\'vectormap-tip-separator\'> - </span><span class=\'vectormap-tip-region-data\'>"+a.attr("data-"+d)+"</span>")}}))})})})});</script>',r='<link rel="stylesheet" href="/static/jquery-jvectormap/jquery-jvectormap-2.0.3.css">';a.find(".jvectormap-container").remove();var s=t(document.body).find('[data-type="component-ksvgmap"]:not(.keditor-snippet)');return s.length>0&&t(s[s.length-1]).attr("id")===a.attr("id")&&(t(r).insertBefore(a.find(".ksvgmap")),t(o).insertAfter(a.find(".ksvgmap"))),i.html()},settingEnabled:!0,settingTitle:"SVGMap Settings",initSettingForm:function(a,n){return e('init "svgmap" settings',a),t.ajax({url:"/static/keditor/componentKsvgMapSettings.html",type:"get",dataType:"HTML",success:function(t){a.html(t);var e=n.getSettingComponent();a.find(".state").on("change",function(t){var n=e.attr("data-"+this.value);a.find(".stateMessage").val(n)}),a.find(".stateMessage").on("change",function(t){var n=a.find(".state").val();e.attr("data-"+n,this.value)}),a.find(".height").on("change",function(t){e.attr("data-height",this.value),e.find(".ksvgmap").css("height",this.value);var a=e.find(".ksvgmap").vectorMap("get","mapObject");a.updateSize()})}})},showSettingForm:function(t,a,e){var n=a.attr("data-height"),i=t.find(".state").val();t.find(".height").val(n),t.find(".stateMessage").val(a.attr("data-"+i))}}}(jQuery);
//# sourceMappingURL=keditor-component-ksvgmap-0.0.0.min.js.map
