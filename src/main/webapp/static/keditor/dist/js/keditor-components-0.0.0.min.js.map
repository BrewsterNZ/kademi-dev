{"version":3,"sources":["keditor-components-0.0.0.js"],"names":["$","KEditor","keditor","flog","log","components","settingEnabled","settingTitle","options","toolbarGroups","name","groups","title","allowedContent","bodyId","templates_replaceContent","enterMode","forceEnterMode","format_tags","removePlugins","removeButtons","minimumChangeMilliseconds","init","contentArea","container","component","self","this","id","generateId","componentContent","children","find","attr","panels","each","index","item","p","itemId","panelCollapseId","html","collapse","removeClass","prop","on","e","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","onComponentReady","document","off","preventDefault","confirm","panelsCount","length","parents","remove","Msg","error","clone","first","append","getContent","h","parent","replaceWith","addClass","initSettingForm","form","showSettingForm","destroy","CKEDITOR","instances","jQuery","img","componentId","hasClass","wrap","src","width","autostart","instance","getScriptOnce","jwplayer","key","buildJWAudioPlayerPreview","btnAudioFileInput","mselect","contentTypes","bs3Modal","pagePath","window","location","pathname","replace","onSelectFile","url","refreshAudioPlayerPreview","autoplayToggle","checked","audioWidth","val","value","resizeAudioPlayerPreview","playerInstance","setup","file","height","flashplayer","html5player","primary","onReady","load","play","resize","carousel","basePath","substr","lastIndexOf","carouselAddImage","carouselImageWrap","relUrl","type","hash","addImageToList","addImageToCarousel","getSettingComponent","sortable","handle","items","axis","tolerance","sort","update","rearrangeItems","body","btn","closest","siblings","refreshCarousel","comp","isWrap","pause","interval","cls","carouselImageItem","script","removeAttr","place","maptype","trigger","apiKey","mapjs","google","maps","places","not","data","event","initAutocomplete","input","i","setInterval","clearInterval","keyCode","iframe","alert","btn169","btn43","ratio169","ratio43","firstLoad","googleMapInitialized","setTimeout","mapdiv","map","Map","zoom","mapTypeId","searchBox","SearchBox","addListener","setBounds","getBounds","markers","getPlaces","forEach","marker","setMap","bounds","LatLngBounds","geometry","console","icon","size","Size","origin","Point","anchor","scaledSize","push","Marker","position","viewport","union","extend","fitBounds","initKeditorMapSetting","initColorPicker","target","onChangeHandle","colorPicker","previewer","colorpicker","format","align","colorSelectors","transparent","colorHex","color","toHex","trim","css","buttonColorPicker","paddingSettings","paddingValue","paddingProp","isNaN","marginSettings","photoEdit","inputAlign","panel","inputResponsive","cbbStyle","inputWidth","inputHeight","newWidth","newHeight","Math","round","ratio","algin","disableAutoInline","dtd","$removeEmpty","getData","aspectratio","repeat","controls","getScript","buildJWVideoPlayerPreview","posterHref","btnVideoFileInput","refreshVideoPlayerPreview","loopToggle","showcontrolsToggle","androidhls","playlist","image","sources","btnEdit","inputData","prompt","vimeoRegex","match","chkAutoplay","embedItem","currentUrl","newUrl","is","indexOf","youtubeRegex"],"mappings":"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","file":"keditor-components-0.0.0.min.js","sourcesContent":["/**\r\n * KEditor Jumbotron Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['accordion'] = {\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Accordion Settings',\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']}\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n        init: function(contentArea, container, component, keditor){\r\n            var self = this;\r\n            var options = self.options;\r\n            var id = keditor.generateId('accordion');\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.accordionWrap .panel-group').attr('id', id);\r\n            componentContent.find('.accordionWrap a[data-toggle]').attr('data-parent', '#' + id);\r\n\r\n\r\n            var panels = componentContent.find('.panel');\r\n            panels.each(function(index, item){\r\n                var p = $(item);\r\n                var itemId = keditor.generateId('heading'+index);\r\n                var panelCollapseId = keditor.generateId('collapse'+index);\r\n                p.find('.panel-heading').attr('id', itemId);\r\n                p.find('.panel-collapse').attr('aria-labelledby', itemId).attr('id', panelCollapseId);\r\n                var title = p.find('a[data-toggle]').html();\r\n                p.find('a[data-toggle]').attr('href', '#'+panelCollapseId).html('<div>'+title+'</div>');\r\n            });\r\n\r\n            componentContent.find('.accordionWrap .panel-collapse').collapse('show');\r\n            componentContent.find('.panel-footer, .btnAddAccordionItem').removeClass('hide');\r\n            componentContent.find('.panel-title a div').prop('contenteditable', true);\r\n            componentContent.find('.panel-collapse .panel-body').prop('contenteditable', true);\r\n\r\n            componentContent.find('.panel-title a div, .panel-collapse .panel-body').on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.find('.panel-title a div, .panel-collapse .panel-body').ckeditor(self.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n\r\n            $(document).off('click', '.btnDeleteAccordionItem').on('click', '.btnDeleteAccordionItem', function(e){\r\n                e.preventDefault();\r\n\r\n                if (confirm('Are you sure you want to delete this item?')){\r\n                    var panelsCount = componentContent.find('.panel').length;\r\n                    if (panelsCount > 1) {\r\n                        $(this).parents('.panel').remove();\r\n                    } else {\r\n                        Msg.error('You cant delete the last item');\r\n                    }\r\n                }\r\n            });\r\n\r\n            $(document).off('click', '.btnAddAccordionItem').on('click', '.btnAddAccordionItem', function(e){\r\n                e.preventDefault();\r\n                var clone = componentContent.find('.panel').first().clone();\r\n                var itemId = keditor.generateId('heading');\r\n                var panelCollapseId = keditor.generateId('collapse');\r\n                clone.find('.panel-heading').attr('id', itemId);\r\n                clone.find('.panel-collapse').attr('aria-labelledby', itemId).attr('id', panelCollapseId);\r\n                clone.find('a[data-toggle]').attr('href', '#'+panelCollapseId);\r\n                componentContent.find('.accordionWrap .panel-group').append(clone);\r\n                var editor = clone.find('.panel-title a div, .panel-collapse .panel-body').ckeditor(self.options).editor;\r\n                editor.on('instanceReady', function () {\r\n                    flog('CKEditor is ready', component);\r\n\r\n                    if (typeof options.onComponentReady === 'function') {\r\n                        options.onComponentReady.call(contentArea, component, editor);\r\n                    }\r\n                });\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.panel-title a div').each(function(){\r\n                var h = $(this).html();\r\n                $(this).parent('a').html(h);\r\n            });\r\n            componentContent.find('.panel-collapse .panel-body').each(function(){\r\n                var h = $(this).html();\r\n                $(this).replaceWith('<div class=\"panel-body\">'+h+'</div>');\r\n            });\r\n            componentContent.find('.panel-footer, .btnAddAccordionItem').addClass('hide');\r\n            return componentContent.html();\r\n        },\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"jumbotron\" component');\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n            '           <label class=\"col-sm-12\">Heading</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '            <textarea class=\"form-control\" name=\"accordHeading\"></textarea> ' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '           <label class=\"col-sm-12\">Content</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '            <textarea class=\"form-control\" name=\"accordContent\"></textarea> ' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"accordion\" component', component);\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n\r\n/**\r\n * KEditor Audio Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['audio'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"audio\" component', component);\r\n\r\n            this.component = component;\r\n            var img = component.find('img[data-src]');\r\n            var componentId = '';\r\n            if (!img.attr('id')) {\r\n                componentId = keditor.generateId('component-audio');\r\n                img.attr('id', componentId);\r\n            } else {\r\n                componentId = img.attr('id');\r\n            }\r\n            if (!img.parent().hasClass('audio-wrapper')) {\r\n                img.wrap('<div class=\"audio-wrapper\"></div>');\r\n            }\r\n            this.src = img.attr('data-src');\r\n            this.width = img.attr('data-width');\r\n            this.autostart = img.attr('data-autostart') === 'true';\r\n            var instance = this;\r\n            $.getScriptOnce('/static/jwplayer/6.10/jwplayer.js', function () {\r\n                jwplayer.key = 'cXefLoB9RQlBo/XvVncatU90OaeJMXMOY/lamKrzOi0=';\r\n                instance.buildJWAudioPlayerPreview(componentId);\r\n            });\r\n\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"audio\" component', component);\r\n\r\n            var img = component.find('img[data-src]');\r\n            var componentId = img.attr('id');\r\n\r\n            var html = '<img data-componentId=\"' + componentId + '\" src=\"/theme/apps/content/preview/audio.png\" data-autostart=\"' + this.autostart + '\" data-width=\"' + this.width + '\" data-src=\"' + this.src + '\" data-kaudio=\"' + this.src + '\" />';\r\n            return html;\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Audio settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"audio\" settings', form);\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"audioFileInput\" class=\"col-sm-12\">Audio file</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<div class=\"audio-toolbar\">' +\r\n                '<a href=\"#\" class=\"btn-audioFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n                '<input id=\"audioFileInput\" type=\"file\" style=\"display: none\">' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"audio-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"checkbox\" id=\"audio-autoplay\" />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"audio-width\" class=\"col-sm-12\">Width (px)</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"number\" id=\"audio-width\" min=\"200\" max=\"500\" class=\"form-control\" value=\"300\" />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"audio\" component', form, component);\r\n\r\n            var instance = this;\r\n            var btnAudioFileInput = form.find('.btn-audioFileInput');\r\n            btnAudioFileInput.mselect({\r\n                contentTypes: ['audio'],\r\n                bs3Modal: true,\r\n                pagePath: window.location.pathname.replace('contenteditor', ''),\r\n                onSelectFile: function (url) {\r\n                    instance.src = url;\r\n                    instance.refreshAudioPlayerPreview();\r\n                }\r\n            });\r\n\r\n            var img = component.find('img[data-src]');\r\n            var componentId = img.attr('id');\r\n\r\n            var autoplayToggle = form.find('#audio-autoplay');\r\n            if (this.autostart) {\r\n                autoplayToggle.prop('checked', true);\r\n            }\r\n            autoplayToggle.on('click', function (e) {\r\n                instance.autostart = this.checked;\r\n                instance.buildJWAudioPlayerPreview(componentId);\r\n            });\r\n\r\n            var audioWidth = form.find('#audio-width');\r\n            audioWidth.val(this.width);\r\n            audioWidth.on('change', function () {\r\n                instance.width = this.value;\r\n                instance.resizeAudioPlayerPreview();\r\n            });\r\n        },\r\n\r\n        buildJWAudioPlayerPreview: function (componentId) {\r\n            var width = this.width;\r\n            var src = this.src;\r\n            var autostart = this.autostart;\r\n            var playerInstance = jwplayer(componentId);\r\n            playerInstance.setup({\r\n                file: src,\r\n                width: width,\r\n                height: 30,\r\n                autostart: autostart,\r\n                flashplayer: \"/static/jwplayer/6.10/jwplayer.flash.swf\",\r\n                html5player: \"/static/jwplayer/6.10/jwplayer.html5.js\",\r\n                primary: \"flash\"\r\n            });\r\n            playerInstance.onReady(function () {\r\n                log('jwplayer preview init done');\r\n            });\r\n        },\r\n\r\n        refreshAudioPlayerPreview: function () {\r\n            var instance = this;\r\n            var playerInstance = jwplayer(instance.componentId);\r\n            var src = instance.src;\r\n            playerInstance.load([{\r\n                file: src\r\n            }]);\r\n            playerInstance.play();\r\n        },\r\n\r\n        resizeAudioPlayerPreview: function () {\r\n            var instance = this;\r\n            var playerInstance = jwplayer(instance.componentId);\r\n            var width = instance.width;\r\n\r\n            playerInstance.resize(width, 30);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * Created by Anh on 7/27/2016.\r\n */\r\n/**\r\n * KEditor Carousel Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['carousel'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"carousel\" component', component);\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var carousel = componentContent.find('.carousel');\r\n            var id = keditor.generateId('component-carousel');\r\n            carousel.attr('id', id);\r\n            carousel.find('.carousel-indicators li').attr('data-target', id);\r\n            carousel.find('.carousel-control').attr('href', '#' + id);\r\n        },\r\n        getContent: function (component, keditor) {\r\n            var componentContent = component.children('.keditor-component-content');\r\n            return componentContent.html();\r\n        },\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Carousel settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <div class=\"carouselImageWrap\"></div>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary carouselAddImage\"><i class=\"fa fa-plus\"></i> Add Image</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-responsive\" class=\"col-sm-12\">Cycle continuously</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" class=\"carouselWrap\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-align\" class=\"col-sm-12\">Pause</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select class=\"form-control carouselPause\">' +\r\n                '               <option selected value=\"\">No</option>' +\r\n                '               <option value=\"hover\">Hover</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Interval</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" class=\"form-control carouselInterval\" value=\"5000\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var basePath = window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/') + 1);\r\n            var carouselAddImage = form.find('.carouselAddImage');\r\n            var carouselImageWrap = form.find('.carouselImageWrap');\r\n            var self = this;\r\n\r\n            carouselAddImage.mselect({\r\n                contentTypes: ['image'],\r\n                bs3Modal: true,\r\n                pagePath: basePath,\r\n                basePath: basePath,\r\n                onSelectFile: function (url, relUrl, type, hash) {\r\n                    flog('keditor carousel selected a file', url, hash);\r\n                    self.addImageToList(form, url, hash);\r\n                    self.addImageToCarousel(keditor.getSettingComponent(), url, hash);\r\n                }\r\n            });\r\n\r\n            carouselImageWrap.sortable({\r\n                handle: '.btn-sort-image',\r\n                items: '> .carouselImageItem',\r\n                axis: 'y',\r\n                tolerance: 'pointer',\r\n                sort: function () {\r\n                    $(this).removeClass('ui-state-default');\r\n                },\r\n                update: function () {\r\n                    self.rearrangeItems(keditor.getSettingComponent(),form);\r\n                }\r\n            });\r\n\r\n            $(document.body).on('click', '.carouselImageItem a.btn-remove-image', function (e) {\r\n                e.preventDefault();\r\n\r\n                if (confirm('Are you sure that you want to delete this image?')) {\r\n                    var btn = $(this);\r\n                    var hash = btn.closest('.btn-group').siblings('[data-hash]').attr('data-hash');\r\n\r\n                    self.refreshCarousel(keditor.getSettingComponent(), hash);\r\n                    btn.closest('.carouselImageItem').remove();\r\n                }\r\n            });\r\n\r\n            form.find('.carouselPause').on('change', function (e) {\r\n                e.preventDefault();\r\n                var comp = keditor.getSettingComponent().find('.carousel');\r\n                comp.attr('data-pause', this.value);\r\n            });\r\n\r\n            form.find('.carouselInterval').on('change', function (e) {\r\n                e.preventDefault();\r\n                var comp = keditor.getSettingComponent().find('.carousel');\r\n                comp.attr('data-interval', this.value);\r\n            });\r\n\r\n            form.find('.carouselWrap').on('click', function (e) {\r\n                var comp = keditor.getSettingComponent().find('.carousel');\r\n                if (this.checked) {\r\n                    comp.attr('data-wrap', 'true');\r\n                } else {\r\n                    comp.attr('data-wrap', 'false');\r\n                }\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            var self = this;\r\n            form.find('.carouselImageWrap').html('');\r\n            component.find('.carousel-inner > .item').each(function (index, item) {\r\n                var url = $(item).find('img').attr('src');\r\n                var hash = $(item).attr('data-hash');\r\n                self.addImageToList(form, url, hash);\r\n            });\r\n\r\n            var isWrap = component.find('.carousel').attr('data-wrap');\r\n            var pause = component.find('.carousel').attr('data-pause');\r\n            var interval = component.find('.carousel').attr('data-interval');\r\n\r\n            form.find('.carouselPause').val(pause);\r\n            form.find('.carouselInterval').val(interval);\r\n            form.find('.carouselWrap').prop('checked', isWrap === 'true');\r\n        },\r\n\r\n        addImageToCarousel: function (component, url, hash) {\r\n            var carousel = component.find('.carousel');\r\n            var index = carousel.find('.carousel-indicators').children().length;\r\n            var cls = index === 0 ? 'active' : '';\r\n            carousel.find('.carousel-indicators').append('<li data-target=\"' + carousel.attr('id') + '\" data-slide-to=\"' + index + '\" class=\"' + cls + '\"></li>');\r\n\r\n            carousel.find('.carousel-inner').append(\r\n                '<div data-hash=\"' + hash + '\" class=\"item ' + cls + '\">' +\r\n                '   <img src=\"' + url + '\" alt=\"\" width=\"100%\" height=\"\" />' +\r\n                '   <div class=\"carousel-caption\"></div>' +\r\n                '</div>'\r\n            );\r\n        },\r\n\r\n        addImageToList: function (form, src, hash) {\r\n            form.find('.carouselImageWrap').append(\r\n                '<div class=\"carouselImageItem\">' +\r\n                '   <img class=\"img-responsive\" src=\"' + src + '\" data-hash=\"' + hash + '\" />' +\r\n                '   <div class=\"btn-group btn-group-sm\">' +\r\n                '       <a class=\"btn btn-info btn-sort-image\" href=\"#\"><i class=\"fa fa-sort\"></i></a>' +\r\n                '       <a title=\"Delete this image\" class=\"btn btn-danger btn-remove-image\" href=\"#\"><i class=\"fa fa-trash\"></i></a>' +\r\n                '   </div>' +\r\n                '</div>'\r\n            );\r\n        },\r\n\r\n        refreshCarousel: function (component, hash) {\r\n            component.find('[data-hash=' + hash + ']').remove();\r\n            if (!component.find('.carousel-inner .item.active').length) {\r\n                component.find('.carousel-inner .item:first-child').addClass('active');\r\n            }\r\n            component.find('.carousel-indicators li:last-child').remove();\r\n        },\r\n\r\n        rearrangeItems: function (component, form) {\r\n            var self = this;\r\n            var carousel = component.find('.carousel');\r\n            carousel.find('.carousel-inner').html('');\r\n            carousel.find('.carousel-indicators').html('');\r\n\r\n            form.find('.carouselImageWrap').find('.carouselImageItem').each(function () {\r\n                var carouselImageItem = $(this);\r\n                var img = carouselImageItem.find('img');\r\n\r\n                self.addImageToCarousel(component, img.attr('src'), img.attr('data-hash'));\r\n            });\r\n        }\r\n    }\r\n\r\n})(jQuery);\r\n/**\r\n * KEditor Google Map Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['googlemap'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            var script = component.find('script');\r\n            if (script.length) {\r\n                script.remove();\r\n            }\r\n            component.removeAttr('data-firstLoad');\r\n            var place = component.attr('data-place');\r\n            var maptype = component.attr('data-maptype');\r\n            if (place && maptype === 'manually') {\r\n                $(window).on('load', function () {\r\n                    component.find('.btn-component-setting').trigger('click');\r\n                });\r\n            }\r\n        },\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"googlemap\" component', component);\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.googlemap-cover').remove();\r\n            var place = component.attr('data-place');\r\n            var maptype = component.attr('data-maptype');\r\n            component.find('.kgooglemap').html('');\r\n            var script = '<script>$(function(){if(!$(document.body).hasClass(\"content-editor-page\")){var apiKey=\"AIzaSyBUcuZxwpBXCPztG7ot-rITXJbycPuS7gs\";var s=document.createElement(\"script\");s.type=\"text/javascript\";s.async=true;s.defer=true;s.src=\"https://maps.googleapis.com/maps/api/js?key=\"+apiKey+\"&callback=kgooglemapInit&libraries=places\";$(\"head\").append(s);window.kgooglemapInit=function(){var mapdiv=$(\".kgooglemap\").not(\".hide\");mapdiv.each(function(){var parent=$(this).parents(\"[data-type=component-googlemap]\");if(parent.attr(\"data-maptype\")!==\"manually\")return;var map=new google.maps.Map(this,{zoom:13,mapTypeId:\"roadmap\"});var place=parent.attr(\"data-place\");var input=parent.find(\"input\")[0];input.value=place;var searchBox=new google.maps.places.SearchBox(input);map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);setTimeout(function(){google.maps.event.trigger(input,\"focus\");google.maps.event.trigger(input,\"keydown\",{keyCode:13});},500);map.addListener(\"bounds_changed\",function(){searchBox.setBounds(map.getBounds());});var markers=[];searchBox.addListener(\"places_changed\",function(){var places=searchBox.getPlaces();if(places.length==0){return;}markers.forEach(function(marker){marker.setMap(null);});markers=[];var bounds=new google.maps.LatLngBounds();places.forEach(function(place){if(!place.geometry){console.log(\"Returned place contains no geometry\");return;}var icon={url:place.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};markers.push(new google.maps.Marker({map:map,icon:icon,title:place.name,position:place.geometry.location}));if(place.geometry.viewport){bounds.union(place.geometry.viewport);}else{bounds.extend(place.geometry.location);}});map.fitBounds(bounds);});})}}});</script>';\r\n            component.find('.embed-responsive').append(script);\r\n            return componentContent.html();\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Google Map Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"googlemap\" component');\r\n            var apiKey = 'AIzaSyBUcuZxwpBXCPztG7ot-rITXJbycPuS7gs';\r\n            var mapjs = '<script src=\"https://maps.googleapis.com/maps/api/js?key=' + apiKey + '&callback=initKeditorMapSetting&libraries=places\" async defer></script>';\r\n            if (window.google && window.google.maps && google.maps.places){\r\n                mapjs = '';\r\n            }\r\n            form.append(\r\n                mapjs +\r\n                '<form class=\"form-horizontal\" onsubmit=\"return false;\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Map type</label>' +\r\n                '       <div class=\"radio-inline\">' +\r\n                '           <label class=\"radio-inline\"><input checked type=\"radio\" name=\"mapType\" class=\"mapType\" value=\"embed\"> Embed</label>' +\r\n                '           <label class=\"radio-inline\"><input type=\"radio\" name=\"mapType\" class=\"mapType\" value=\"manually\"> Manually</label>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group embed\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <textarea class=\"form-control\" name=\"mapEmbedCode\" placeholder=\"Embed code\"></textarea>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group manually hide\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input class=\"form-control\" name=\"mapAddress\" placeholder=\"Enter address\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n            form.find('.mapType').on('click', function (e) {\r\n                if (this.checked) {\r\n                    $('.' + this.value).removeClass('hide');\r\n                    var cls = form.find('.mapType').not(this).val();\r\n                    $('.' + cls).addClass('hide');\r\n                    var comp = keditor.getSettingComponent();\r\n                    comp.attr('data-maptype', this.value);\r\n                    if (this.value === 'manually') {\r\n                        comp.find('iframe').addClass('hide');\r\n                        comp.find('.kgooglemap').removeClass('hide');\r\n                        if (comp.find('.kgooglemap').data('map')) {\r\n                            google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\r\n                        } else {\r\n                            self.initAutocomplete(comp, form);\r\n                            var input = form.find('[name=mapAddress]')[0];\r\n                            var i = setInterval(function(){\r\n                                if (comp.find('.kgooglemap').data('map')){\r\n                                    clearInterval(i);\r\n                                    google.maps.event.trigger(input, 'focus')\r\n                                    google.maps.event.trigger(input, 'keydown', {\r\n                                        keyCode: 13\r\n                                    });\r\n                                }\r\n                            },100);\r\n                        }\r\n                    } else {\r\n                        comp.find('iframe').removeClass('hide');\r\n                        comp.find('.kgooglemap').addClass('hide');\r\n                    }\r\n                }\r\n            });\r\n\r\n            var self = this;\r\n            form.find('[name=mapEmbedCode]').on('change', function () {\r\n                var iframe = $(this.value);\r\n                var src = iframe.attr('src');\r\n                if (iframe.length > 0 && src && src.length > 0) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', src);\r\n                } else {\r\n                    alert('Your Google Map embed code is invalid!');\r\n                }\r\n            });\r\n\r\n\r\n            var btn169 = form.find('.btn-googlemap-169');\r\n            var btn43 = form.find('.btn-googlemap-43');\r\n\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n                $(this).addClass('btn-primary').removeClass('btn-default');\r\n                btn43.removeClass('btn-primary').addClass('btn-default');\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n                var comp = keditor.getSettingComponent();\r\n                if (comp.attr('maptype') === 'manually') {\r\n                    if (comp.find('.kgooglemap').data('map')) {\r\n                        google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\r\n                    }\r\n                }\r\n            });\r\n\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n                $(this).addClass('btn-primary').removeClass('btn-default');\r\n                btn169.removeClass('btn-primary').addClass('btn-default');\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n                var comp = keditor.getSettingComponent();\r\n                if (comp.attr('maptype') === 'manually') {\r\n                    if (comp.find('.kgooglemap').data('map')) {\r\n                        google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        showSettingForm: function (form, component, keditor) {\r\n            var self = this;\r\n            var maptype = component.attr('data-maptype');\r\n            var place = component.attr('data-place');\r\n            var ratio169 = component.find('.embed-responsive').hasClass('embed-responsive-16by9');\r\n            var ratio43 = component.find('.embed-responsive').hasClass('embed-responsive-4by3');\r\n            if (ratio43){\r\n                form.find('.btn-googlemap-43').addClass('btn-primary').removeClass('btn-default');\r\n            }\r\n            if (ratio169){\r\n                form.find('.btn-googlemap-169').addClass('btn-primary').removeClass('btn-default');\r\n            }\r\n            form.find('.mapType[value=' + maptype + ']').prop('checked', true);\r\n            var src = component.find('iframe').attr('src');\r\n            var iframe = '<iframe class=\"embed-responsive-item\" src=\"' + src + '\"></iframe>';\r\n            if (!place){\r\n                place = 'Hanoi, Vietnam';\r\n            }\r\n            form.find('[name=mapAddress]').val(place);\r\n            form.find('[name=mapEmbedCode]').val(iframe);\r\n            var firstLoad = component.attr('data-firstLoad');\r\n            if (maptype === 'manually') {\r\n                form.find('.manually').removeClass('hide').siblings('.embed').addClass('hide');\r\n\r\n                if (!firstLoad && place) {\r\n                    var i = setInterval(function () {\r\n                        if (window.googleMapInitialized) {\r\n                            clearInterval(i);\r\n                            self.initAutocomplete(component, form);\r\n                            setTimeout(function () {\r\n                                var input = form.find('[name=mapAddress]')[0];\r\n                                google.maps.event.trigger(input, 'focus')\r\n                                google.maps.event.trigger(input, 'keydown', {\r\n                                    keyCode: 13\r\n                                });\r\n                                component.attr('data-firstLoad', 'false');\r\n                            }, 1000);\r\n                        }\r\n                    }, 100);\r\n                }\r\n            } else {\r\n                form.find('.manually').addClass('hide').siblings('.embed').removeClass('hide');\r\n            }\r\n        },\r\n\r\n        initAutocomplete: function (component, form) {\r\n            if (!window.googleMapInitialized) {\r\n                alert('google map is not initialized');\r\n                return;\r\n            }\r\n            var mapdiv = component.find('.kgooglemap')[0];\r\n            var map = new google.maps.Map(mapdiv, {\r\n                zoom: 13,\r\n                mapTypeId: 'roadmap'\r\n            });\r\n            // Create the search box and link it to the UI element.\r\n            var input = form.find('[name=mapAddress]')[0];\r\n            var searchBox = new google.maps.places.SearchBox(input);\r\n            //map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\r\n\r\n            // Bias the SearchBox results towards current map's viewport.\r\n            map.addListener('bounds_changed', function () {\r\n                searchBox.setBounds(map.getBounds());\r\n            });\r\n\r\n            var markers = [];\r\n            // Listen for the event fired when the user selects a prediction and retrieve\r\n            // more details for that place.\r\n\r\n            searchBox.addListener('places_changed', function () {\r\n                var places = searchBox.getPlaces();\r\n\r\n                if (places.length == 0) {\r\n                    return;\r\n                }\r\n\r\n                // Clear out the old markers.\r\n                markers.forEach(function (marker) {\r\n                    marker.setMap(null);\r\n                });\r\n                markers = [];\r\n                // For each place, get the icon, name and location.\r\n                var bounds = new google.maps.LatLngBounds();\r\n                places.forEach(function (place) {\r\n                    if (!place.geometry) {\r\n                        console.log(\"Returned place contains no geometry\");\r\n                        return;\r\n                    }\r\n\r\n                    var icon = {\r\n                        url: place.icon,\r\n                        size: new google.maps.Size(71, 71),\r\n                        origin: new google.maps.Point(0, 0),\r\n                        anchor: new google.maps.Point(17, 34),\r\n                        scaledSize: new google.maps.Size(25, 25)\r\n                    };\r\n\r\n                    // Create a marker for each place.\r\n                    markers.push(new google.maps.Marker({\r\n                        map: map,\r\n                        icon: icon,\r\n                        title: place.name,\r\n                        position: place.geometry.location\r\n                    }));\r\n\r\n                    if (place.geometry.viewport) {\r\n                        // Only geocodes have viewport.\r\n                        bounds.union(place.geometry.viewport);\r\n                    } else {\r\n                        bounds.extend(place.geometry.location);\r\n                    }\r\n                });\r\n                map.fitBounds(bounds);\r\n                component.attr('data-place', input.value);\r\n            });\r\n\r\n            component.find('.kgooglemap').data('map', map);\r\n        }\r\n    };\r\n\r\n    window.initKeditorMapSetting = function () {\r\n        window.googleMapInitialized = true;\r\n    }\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Jumbotron Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['jumbotron'] = {\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Jumbotron Settings',\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']}\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n        init: function(contentArea, container, component, keditor){\r\n            var self = this;\r\n            var options = self.options;\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.ckeditor(self.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"jumbotron\" component');\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '    <div class=\"form-group\">' +\r\n                '       <div class=\"col-md-12\">' +\r\n                '           <label>Background Color</label>' +\r\n                '           <div class=\"input-group button-color-picker\">' +\r\n                '               <span class=\"input-group-addon\"><i></i></span>' +\r\n                '               <input type=\"text\" value=\"\" name=\"button-color\" class=\"form-control\" />' +\r\n                '           </div>' +\r\n                '       </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Rounded</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <div class=\"radio\"><label><input type=\"radio\" name=\"rounded\" value=\"true\" checked> Yes</label></div>' +\r\n                '           <div class=\"radio\"><label><input type=\"radio\" name=\"rounded\" value=\"false\"> No</label></div>' +\r\n                '       </div>' +\r\n                '    </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-md-12\"><label>Inner Padding (in px)</label>' +\r\n                '           <div class=\"row row-sm text-center\">' +\r\n                '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n                '                   <input type=\"number\" value=\"\" name=\"padding-top\" class=\"paddingSettings form-control\"/>' +\r\n                '                   <small>top</small>' +\r\n                '               </div>' +\r\n                '           </div>' +\r\n                '           <div class=\"row row-sm text-center\">' +\r\n                '               <div class=\"col-xs-4\">' +\r\n                '                   <input type=\"number\" value=\"\" name=\"padding-left\" class=\"paddingSettings form-control\"/> ' +\r\n                '                   <small>left</small>' +\r\n                '               </div>' +\r\n                '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n                '                   <input type=\"number\" value=\"\" name=\"padding-right\" class=\"paddingSettings form-control\"/>' +\r\n                '                   <small>right</small>' +\r\n                '               </div>' +\r\n                '           </div> '+\r\n                '           <div class=\"row row-sm text-center\">' +\r\n                '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n                '                   <input type=\"number\" value=\"\" name=\"padding-bottom\" class=\"paddingSettings form-control\"/>' +\r\n                '                   <small>bottom</small>' +\r\n                '               </div>' +\r\n                '           </div>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-md-12\"><label>Margins (in px)</label>' +\r\n                '           <div class=\"row row-sm text-center\">' +\r\n                '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n                '                   <input type=\"number\" value=\"\" name=\"margin-top\" class=\"marginSettings form-control\"/>' +\r\n                '                   <small>top</small>' +\r\n                '               </div>' +\r\n                '           </div>' +\r\n                '           <div class=\"row row-sm text-center\">' +\r\n                '               <div class=\"col-xs-4\">' +\r\n                '                   <input type=\"number\" value=\"\" name=\"margin-left\" class=\"marginSettings form-control\"/> ' +\r\n                '                   <small>left</small>' +\r\n                '               </div>' +\r\n                '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n                '                   <input type=\"number\" value=\"\" name=\"margin-right\" class=\"marginSettings form-control\"/>' +\r\n                '                   <small>right</small>' +\r\n                '               </div>' +\r\n                '           </div> '+\r\n                '           <div class=\"row row-sm text-center\">' +\r\n                '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n                '                   <input type=\"number\" value=\"\" name=\"margin-bottom\" class=\"marginSettings form-control\"/>' +\r\n                '                   <small>bottom</small>' +\r\n                '               </div>' +\r\n                '           </div>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            form.find('[name=rounded]').on('click', function (e) {\r\n                var comp = keditor.getSettingComponent();\r\n                if (this.value == 'false') {\r\n                    comp.find('.jumbotron').css('border-radius', '0');\r\n                } else {\r\n                    comp.find('.jumbotron').css('border-radius', '');\r\n                }\r\n            });\r\n\r\n            var buttonColorPicker = form.find('.button-color-picker');\r\n            initColorPicker(buttonColorPicker, function (color) {\r\n                var comp = keditor.getSettingComponent();\r\n\r\n                if (color && color !== 'transparent') {\r\n                    comp.find('.jumbotron').css('background-color', color);\r\n                    comp.attr('data-bgcolor', color);\r\n                } else {\r\n                    comp.find('.jumbotron').css('background-color', '');\r\n\r\n                    form.find('.button-color').val('');\r\n                }\r\n            });\r\n\r\n            var paddingSettings = form.find('.paddingSettings');\r\n            paddingSettings.on('change', function () {\r\n                var paddingValue = this.value || '';\r\n                var component = keditor.getSettingComponent();\r\n                var paddingProp = $(this).attr('name');\r\n                if (paddingValue.trim() === '') {\r\n                    component.find('.jumbotron').css(paddingProp, '');\r\n                } else {\r\n                    if (isNaN(paddingValue)) {\r\n                        paddingValue = 0;\r\n                        this.value = paddingValue;\r\n                    }\r\n                    component.find('.jumbotron').css(paddingProp, paddingValue + 'px');\r\n                }\r\n            });\r\n\r\n            var marginSettings = form.find('.marginSettings');\r\n            marginSettings.on('change', function () {\r\n                var paddingValue = this.value || '';\r\n                var component = keditor.getSettingComponent();\r\n                var paddingProp = $(this).attr('name');\r\n                if (paddingValue.trim() === '') {\r\n                    component.find('.jumbotron').css(paddingProp, '');\r\n                } else {\r\n                    if (isNaN(paddingValue)) {\r\n                        paddingValue = 0;\r\n                        this.value = paddingValue;\r\n                    }\r\n                    component.find('.jumbotron').css(paddingProp, paddingValue + 'px');\r\n                }\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"jumbotron\" component', component);\r\n            form.find('[name=button-color]').val(component.attr('data-bgcolor')).trigger('change');\r\n            form.find('.paddingSettings').each(function(){\r\n                $(this).val(component.find('.jumbotron').css($(this).attr('name')).replace('px',''));\r\n            });\r\n            form.find('.marginSettings').each(function(){\r\n                $(this).val(component.find('.jumbotron').css($(this).attr('name')).replace('px',''));\r\n            });\r\n            form.find('[name=showButton][value=false]').prop('checked', component.find('a').hasClass('hide'));\r\n            form.find('[name=rounded][value=false]').prop('checked', component.find('.jumbotron').css('border-radius').replace('px', '') === '0');\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n    function initColorPicker(target, onChangeHandle) {\r\n        target.each(function () {\r\n            var colorPicker = $(this);\r\n            var input = colorPicker.find('input');\r\n            var previewer = colorPicker.find('.input-group-addon i');\r\n\r\n            colorPicker.colorpicker({\r\n                format: 'hex',\r\n                container: colorPicker.parent(),\r\n                component: '.input-group-addon',\r\n                align: 'left',\r\n                colorSelectors: {\r\n                    'transparent': 'transparent'\r\n                }\r\n            }).on('changeColor.colorpicker', function (e) {\r\n                var colorHex = e.color.toHex();\r\n\r\n                if (!input.val() || input.val().trim().length === 0) {\r\n                    colorHex = '';\r\n                    previewer.css('background-color', '');\r\n                }\r\n\r\n                if (typeof onChangeHandle === 'function') {\r\n                    onChangeHandle(colorHex);\r\n                }\r\n            });\r\n\r\n        });\r\n    }\r\n})(jQuery);\r\n\r\n\r\n/**\r\n * KEditor Photo Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['photo'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"photo\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var img = componentContent.find('img');\r\n\r\n            img.css('display', 'inline-block');\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Photo Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"photo\" component');\r\n            \r\n            var self = this;\r\n            var options = keditor.options;\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-align\" class=\"col-sm-12\">Align</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-align\" class=\"form-control\">' +\r\n                '               <option value=\"left\">Left</option>' +\r\n                '               <option value=\"center\">Center</option>' +\r\n                '               <option value=\"right\">Right</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-style\" class=\"col-sm-12\">Style</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-style\" class=\"form-control\">' +\r\n                '               <option value=\"\">None</option>' +\r\n                '               <option value=\"img-rounded\">Rounded</option>' +\r\n                '               <option value=\"img-circle\">Circle</option>' +\r\n                '               <option value=\"img-thumbnail\">Thumbnail</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-responsive\" class=\"col-sm-12\">Responsive</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"photo-responsive\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-width\" class=\"col-sm-12\">Width</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-width\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var basePath = window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/') + 1);\r\n            var photoEdit = form.find('#photo-edit');\r\n            photoEdit.mselect({\r\n                contentTypes: ['image'],\r\n                bs3Modal: true,\r\n                pagePath: basePath,\r\n                basePath: basePath,\r\n                onSelectFile: function(url) {\r\n                    var img = keditor.getSettingComponent().find('img');\r\n                    img.attr('src', url);\r\n                    self.showSettingForm(form, keditor.getSettingComponent(), options);\r\n                }\r\n            });\r\n\r\n            var inputAlign = form.find('#photo-align');\r\n            inputAlign.on('change', function () {\r\n                var panel = keditor.getSettingComponent().find('.photo-panel');\r\n                panel.css('text-align', this.value);\r\n            });\r\n\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            inputResponsive.on('click', function () {\r\n                keditor.getSettingComponent().find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\r\n            });\r\n\r\n            var cbbStyle = form.find('#photo-style');\r\n            cbbStyle.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var val = this.value;\r\n\r\n                img.removeClass('img-rounded img-circle img-thumbnail');\r\n                if (val) {\r\n                    img.addClass(val);\r\n                }\r\n            });\r\n\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            inputWidth.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var newWidth = +this.value;\r\n                var newHeight = Math.round(newWidth / self.ratio);\r\n\r\n                if (newWidth <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newWidth;\r\n                }\r\n\r\n                img.css({\r\n                    'width': newWidth,\r\n                    'height': newHeight\r\n                });\r\n                inputHeight.val(newHeight);\r\n            });\r\n            inputHeight.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var newHeight = +this.value;\r\n                var newWidth = Math.round(newHeight * self.ratio);\r\n\r\n                if (newHeight <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newHeight;\r\n                }\r\n\r\n                img.css({\r\n                    'height': newHeight,\r\n                    'width': newWidth\r\n                });\r\n                inputWidth.val(newWidth);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"photo\" component', component);\r\n\r\n            var self = this;\r\n            var inputAlign = form.find('#photo-align');\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            var cbbStyle = form.find('#photo-style');\r\n\r\n            var panel = component.find('.photo-panel');\r\n            var img = panel.find('img');\r\n\r\n            var algin = panel.css('text-align');\r\n            if (algin !== 'right' || algin !== 'center') {\r\n                algin = 'left';\r\n            }\r\n\r\n            if (img.hasClass('img-rounded')) {\r\n                cbbStyle.val('img-rounded');\r\n            } else if (img.hasClass('img-circle')) {\r\n                cbbStyle.val('img-circle');\r\n            } else if (img.hasClass('img-thumbnail')) {\r\n                cbbStyle.val('img-thumbnail');\r\n            } else {\r\n                cbbStyle.val('');\r\n            }\r\n\r\n            inputAlign.val(algin);\r\n            inputResponsive.prop('checked', img.hasClass('img-responsive'));\r\n            inputWidth.val(img.width());\r\n            inputHeight.val(img.height());\r\n\r\n            $('<img />').attr('src', img.attr('src')).load(function() {\r\n                self.ratio = this.width / this.height;\r\n                self.width = this.width;\r\n                self.height = this.height;\r\n            });\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Text Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    CKEDITOR.disableAutoInline = true;\r\n    CKEDITOR.dtd.$removeEmpty['i'] = false;\r\n\r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']}\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"text\" component', component);\r\n\r\n            var self = this;\r\n            var options = keditor.options;\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.ckeditor(self.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"text\" component', component);\r\n\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var id = componentContent.attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                return editor.getData();\r\n            } else {\r\n                return componentContent.html();\r\n            }\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Video Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['video'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"video\" component', component);\r\n\r\n            this.component = component;\r\n            var img = component.find('img[data-video-src]');\r\n            if (!img.attr('id')) {\r\n                this.componentId = keditor.generateId('component-video');\r\n                img.attr('id', this.componentId);\r\n            } else {\r\n                this.componentId = img.attr('id');\r\n            }\r\n\r\n            if (!img.parent().hasClass('video-wrapper')) {\r\n                img.wrap('<div class=\"video-wrapper\"></div>');\r\n            }\r\n            this.src = img.attr('data-video-src');\r\n            this.aspectratio = img.attr('data-aspectratio');\r\n            this.repeat = img.attr('data-repeat') === 'true';\r\n            this.controls = img.attr('data-controls') === 'true';\r\n            this.autostart = img.attr('data-autostart') === 'true';\r\n            var instance = this;\r\n            $.getScript('/static/jwplayer/6.10/jwplayer.js', function () {\r\n                jwplayer.key = 'cXefLoB9RQlBo/XvVncatU90OaeJMXMOY/lamKrzOi0=';\r\n                instance.buildJWVideoPlayerPreview();\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"video\" component, component');\r\n            var posterHref = this.src + '/alt-640-360.png';\r\n            var html = '<img id=\"' + this.componentId + '\" class=\"video-jw\" src=\"' + posterHref + '\" data-autostart=\"' + this.autostart + '\" data-aspectratio=\"' + this.aspectratio + '\" data-video-src=\"' + this.src + '\" data-repeat=\"' + this.repeat + '\" data-controls=\"' + this.controls + '\" />';\r\n            return html;\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Video Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"video\" settings', form);\r\n            var self = this;\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"videoFileInput\" class=\"col-sm-12\">Video file</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<div class=\"video-toolbar\">' +\r\n                '<a href=\"#\" class=\"btn-videoFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n                '<input id=\"videoFileInput\" type=\"file\" style=\"display: none\">' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"video-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"checkbox\" id=\"video-autoplay\" />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"video-loop\" class=\"col-sm-12\">Repeat</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"checkbox\" id=\"video-loop\" />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"video-showcontrols\" class=\"col-sm-12\">Show Controls</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"checkbox\" id=\"video-showcontrols\" checked />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"\" class=\"col-sm-12\">Ratio</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"4:3\" checked /> 4:3' +\r\n                '</div>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"16:9\" /> 16:9' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"video\" component', form, component);\r\n\r\n            var instance = this;\r\n            var btnVideoFileInput = form.find('.btn-videoFileInput');\r\n            btnVideoFileInput.mselect({\r\n                contentTypes: ['video'],\r\n                bs3Modal: true,\r\n                pagePath: window.location.pathname.replace('contenteditor', ''),\r\n                onSelectFile: function (url) {\r\n                    instance.src = url;\r\n                    instance.refreshVideoPlayerPreview();\r\n                }\r\n            });\r\n\r\n            var autoplayToggle = form.find('#video-autoplay');\r\n            if (this.autostart) {\r\n                autoplayToggle.prop('checked', true);\r\n            }\r\n            autoplayToggle.on('click', function (e) {\r\n                instance.autostart = this.checked;\r\n                instance.buildJWVideoPlayerPreview();\r\n            });\r\n\r\n\r\n            var loopToggle = form.find('#video-loop');\r\n            if (this.repeat) {\r\n                loopToggle.prop('checked', true);\r\n            }\r\n            loopToggle.on('click', function (e) {\r\n                instance.repeat = this.checked;\r\n                instance.buildJWVideoPlayerPreview();\r\n            });\r\n\r\n            var ratio = form.find('.video-ratio');\r\n            form.find('.video-ratio[value=\"' + this.aspectratio + '\"]').prop('checked', true);\r\n            ratio.on('click', function (e) {\r\n                if (this.checked) {\r\n                    instance.aspectratio = this.value;\r\n                    instance.buildJWVideoPlayerPreview();\r\n                }\r\n            });\r\n\r\n            var showcontrolsToggle = form.find('#video-showcontrols');\r\n            if (this.controls) {\r\n                showcontrolsToggle.prop('checked', true);\r\n            }\r\n            showcontrolsToggle.on('click', function (e) {\r\n                instance.controls = this.checked;\r\n                instance.buildJWVideoPlayerPreview();\r\n            });\r\n        },\r\n\r\n        buildJWVideoPlayerPreview: function () {\r\n            var src = this.src;\r\n            var autostart = this.autostart;\r\n            var repeat = this.repeat;\r\n            var aspectratio = this.aspectratio;\r\n            var controls = this.controls;\r\n            var playerInstance = jwplayer(this.componentId);\r\n            var posterHref = src + '/alt-640-360.png';\r\n\r\n            flog(\"buildJWPlayer\", src, \"aspectratio=\", aspectratio);\r\n            playerInstance.setup({\r\n                autostart: autostart,\r\n                repeat: repeat,\r\n                controls: controls,\r\n                aspectratio: aspectratio,\r\n                flashplayer: \"/static/jwplayer/6.10/jwplayer.flash.swf\",\r\n                html5player: \"/static/jwplayer/6.10/jwplayer.html5.js\",\r\n                width: \"100%\",\r\n                androidhls: true, //enable hls on android 4.1+\r\n                playlist: [{\r\n                    image: posterHref,\r\n                    sources: [{\r\n                        file: src\r\n                    }\r\n                        , {\r\n                            file: src + \"/../alt-640-360.webm\"\r\n                        }, {\r\n                            file: src + \"/../alt-640-360.m4v\"\r\n                        }]\r\n                }]\r\n                , primary: \"flash\"\r\n            });\r\n            playerInstance.onReady(function () {\r\n                flog('jwplayer preview init done');\r\n\r\n            });\r\n        },\r\n\r\n        refreshVideoPlayerPreview: function () {\r\n            var playerInstance = jwplayer(this.componentId);\r\n            var src = this.src;\r\n            playerInstance.load([{\r\n                file: src\r\n            }]);\r\n            playerInstance.play();\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Vimeo Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['vimeo'] = {\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"vimeo\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.vimeo-cover').remove();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Vimeo Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"vimeo\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-vimeo-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"vimeo-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-vimeo-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Vimeo URL in here:');\r\n                var vimeoRegex = /https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/;\r\n                var match = inputData.match(vimeoRegex);\r\n                if (match && match[1]) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://player.vimeo.com/video/' + match[1] + '?byline=0&portrait=0&badge=0');\r\n                } else {\r\n                    alert('Your Vimeo URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-vimeo-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-vimeo-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#vimeo-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?byline=0&portrait=0&badge=0&autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"vimeo\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#vimeo-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Youtube Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['youtube'] = {\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"youtube\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.youtube-cover').remove();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Youtube Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"youtube\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-youtube-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"youtube-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-youtube-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Youtube URL in here:');\r\n                var youtubeRegex = /^(?:http(?:s)?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\\/))([^\\?&\\\"'>]+)/;\r\n                var match = inputData.match(youtubeRegex);\r\n                if (match && match[1]) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://www.youtube.com/embed/' + match[1]);\r\n                } else {\r\n                    alert('Your Youtube URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-youtube-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-youtube-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"youtube\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}