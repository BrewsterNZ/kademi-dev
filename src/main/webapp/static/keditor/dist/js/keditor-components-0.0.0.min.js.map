{"version":3,"sources":["keditor-components-0.0.0.js"],"names":["$","KEditor","keditor","flog","log","components","settingEnabled","settingTitle","init","contentArea","container","component","options","id","generateId","componentContent","children","find","attr","panels","each","index","item","p","itemId","panelCollapseId","title","html","indexOf","collapse","removeClass","prop","on","e","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","ckeditorOptions","onComponentReady","document","off","preventDefault","confirm","panelsCount","length","this","parents","remove","Msg","error","clone","first","append","getContent","h","parent","replaceWith","panelTitle","panelCollapse","addClass","destroy","CKEDITOR","instances","initSettingForm","form","ajax","url","type","dataType","success","resp","comp","getSettingComponent","checked","old","value","showSettingForm","val","jQuery","img","componentId","hasClass","wrap","src","width","autostart","instance","getScriptOnce","jwplayer","key","buildJWAudioPlayerPreview","btnAudioFileInput","mselect","contentTypes","bs3Modal","pagePath","window","location","pathname","replace","onSelectFile","refreshAudioPlayerPreview","autoplayToggle","audioWidth","resizeAudioPlayerPreview","playerInstance","setup","file","height","flashplayer","html5player","primary","onReady","load","play","resize","carousel","self","images","push","hash","css","i","image","addItemToCarousel","eq","editingItemId","basePath","substr","lastIndexOf","carouselAddImage","carouselItemsWrap","relUrl","addItemToList","caption","refreshCarousel","sortable","handle","items","axis","tolerance","sort","update","editorContent","initModalContent","modalContent","editorCaption","initModalCaption","modalCaption","modal","body","btn","closest","siblings","carouselItem","txtCarouselContent","setData","trigger","txtCarouselCaption","isNaN","appendTo","contentOptions","extend","removePlugins","extraPlugins","carouselContent","getData","content","captionOptions","toolbarGroups","toolbarSets","carouselCaption","carouselImg","slice","isWrap","pause","interval","data","carouselInner","cls","backgroundUrl","itemStr","editCaption","Date","getTime","txtContent","txtCaption","initFormBuilder","formBuilderArea","formData","formContent","prepend","btnEditForm","btnPreviewForm","formBuilder","disableInjectedStyle","showActionButtons","disableFields","disabledAttrs","typeUserDisabledAttrs","checkbox-group","show","hide","renderForm","formRender","actions","div","dataGrid","split","label","input","subDiv","layout","script","removeAttr","place","maptype","apiKey","mapjs","google","maps","places","not","event","initAutocomplete","setInterval","clearInterval","keyCode","iframe","alert","btn169","btn43","ratio169","ratio43","firstLoad","googleMapInitialized","setTimeout","mapdiv","map","Map","zoom","mapTypeId","searchBox","SearchBox","addListener","setBounds","getBounds","markers","getPlaces","forEach","marker","setMap","bounds","LatLngBounds","geometry","console","icon","size","Size","origin","Point","anchor","scaledSize","Marker","name","position","viewport","union","fitBounds","initKeditorMapSetting","contentEditor","buttonColorPicker","initSimpleColorPicker","color","paddingSettings","paddingValue","paddingProp","trim","marginSettings","vectorMap","backgroundColor","zoomButtons","focusOn","x","y","scale","regionStyle","initial","fill","hover","onRegionTipShow","el","code","updateSize","arr","insertBefore","insertAfter","currentState","defaultState","txtLink","link","pattern","RegExp","span","next","formGroup","test","cbbTarget","chkLinkable","is","unwrap","photoEdit","relativeUrl","fileType","inputAlign","panel","inputVAlign","inputResponsive","cbbStyle","inputWidth","inputHeight","newWidth","newHeight","Math","round","ratio","a","algin","valign","disableAutoInline","dtd","$removeEmpty","ckeditorPlace","contentHtml","componentTextContent","target","imageUrl","host","colorPicker","txt","styleName","get","style","marginValue","maxHeight","maxWidth","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","wrapper","buildJWVideoPlayerPreview","selectPicker","selectpicker","borderStyle","txtBorderWidth","borderWidth","previewer","colorpicker","format","align","colorSelectors","transparent","colorHex","toHex","borderColor","btnVideoFileInput","refreshVideoPlayerPreview","loopToggle","showcontrolsToggle","isBorderEnabled","chkBorder","filter","jquery","repeat","aspectratio","controls","posterHref","androidhls","playlist","sources","btnEdit","inputData","prompt","vimeoRegex","match","chkAutoplay","embedItem","currentUrl","newUrl","youtubeRegex"],"mappings":"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","file":"keditor-components-0.0.0.min.js","sourcesContent":["/**\r\n * KEditor accordion Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['accordion'] = {\r\n        settingEnabled: true,\r\n        settingTitle: 'Accordion Settings',\r\n\r\n        init: function (contentArea, container, component, keditor) {\r\n            var options = keditor.options;\r\n            var id = keditor.generateId('accordion');\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.accordionWrap .panel-group').attr('id', id);\r\n            componentContent.find('.accordionWrap a[data-toggle]').attr('data-parent', '#' + id);\r\n\r\n\r\n            var panels = componentContent.find('.panel');\r\n            panels.each(function (index, item) {\r\n                var p = $(item);\r\n                var itemId = keditor.generateId('heading' + index);\r\n                var panelCollapseId = keditor.generateId('collapse' + index);\r\n                p.find('.panel-heading').attr('id', itemId);\r\n                p.find('.panel-collapse').attr('aria-labelledby', itemId).attr('id', panelCollapseId);\r\n                var title = p.find('a[data-toggle]').html();\r\n                p.find('a[data-toggle]').attr('href', '#' + panelCollapseId).attr('aria-controls', '#' + panelCollapseId);\r\n                if (title.indexOf('<div>') === -1) {\r\n                    p.find('a[data-toggle]').html('<div>' + title + '</div>');\r\n                }\r\n            });\r\n\r\n            componentContent.find('.accordionWrap .panel-collapse').collapse('show');\r\n            componentContent.find('.panel-footer, .btnAddAccordionItem').removeClass('hide');\r\n            componentContent.find('.panel-title a div').prop('contenteditable', true);\r\n            componentContent.find('.panel-collapse .panel-body').prop('contenteditable', true);\r\n\r\n            componentContent.find('.panel-title a div, .panel-collapse .panel-body').on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.find('.panel-title a div, .panel-collapse .panel-body').ckeditor(options.ckeditorOptions).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n\r\n            $(document).off('click', '.btnDeleteAccordionItem').on('click', '.btnDeleteAccordionItem', function (e) {\r\n                e.preventDefault();\r\n\r\n                if (confirm('Are you sure you want to delete this item?')) {\r\n                    var panelsCount = componentContent.find('.panel').length;\r\n                    if (panelsCount > 1) {\r\n                        $(this).parents('.panel').remove();\r\n                    } else {\r\n                        Msg.error('You cant delete the last item');\r\n                    }\r\n                }\r\n            });\r\n\r\n            $(document).off('click', '.btnAddAccordionItem').on('click', '.btnAddAccordionItem', function (e) {\r\n                e.preventDefault();\r\n                var clone = componentContent.find('.panel').first().clone();\r\n                var itemId = keditor.generateId('heading');\r\n                var panelCollapseId = keditor.generateId('collapse');\r\n                clone.find('.panel-heading').attr('id', itemId);\r\n                clone.find('.panel-collapse').attr('aria-labelledby', itemId).attr('id', panelCollapseId);\r\n                clone.find('a[data-toggle]').attr('href', '#' + panelCollapseId);\r\n                componentContent.find('.accordionWrap .panel-group').append(clone);\r\n                var editor = clone.find('.panel-title a div, .panel-collapse .panel-body').ckeditor(options.ckeditorOptions).editor;\r\n                editor.on('instanceReady', function () {\r\n                    flog('CKEditor is ready', component);\r\n\r\n                    if (typeof options.onComponentReady === 'function') {\r\n                        options.onComponentReady.call(contentArea, component, editor);\r\n                    }\r\n                });\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.panel-title a div').each(function () {\r\n                var h = $(this).html();\r\n                $(this).parent('a').html(h);\r\n            });\r\n            componentContent.find('.panel-collapse .panel-body').each(function () {\r\n                var h = $(this).html();\r\n                $(this).replaceWith('<div class=\"panel-body\">' + h + '</div>');\r\n            });\r\n            if (component.attr('data-initial-collapsed') == 'true'){\r\n                componentContent.find('.panel').each(function () {\r\n                    var panelTitle = $(this).find('.panel-heading a');\r\n                    var panelCollapse = $(this).find('.panel-collapse');\r\n                    panelCollapse.addClass('collapse').attr('aria-expanded', 'false').removeClass('in');\r\n                    panelTitle.addClass('collapsed').attr('aria-expanded', 'false');\r\n                });\r\n            }\r\n            componentContent.find('.panel-footer, .btnAddAccordionItem').addClass('hide');\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        },\r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"accordion\" settings', form);\r\n\r\n            return $.ajax({\r\n                url: '/static/keditor/componentAccordionSettings.html',\r\n                type: 'get',\r\n                dataType: 'HTML',\r\n                success: function (resp) {\r\n                    form.html(resp);\r\n\r\n                    form.find('.collapsedAll').on('click', function () {\r\n                        var comp = keditor.getSettingComponent();\r\n                        comp.attr('data-initial-collapsed', this.checked);\r\n                    });\r\n\r\n                    form.find('.panelStyle').on('change', function (e) {\r\n                        var comp = keditor.getSettingComponent();\r\n                        var old = comp.attr('data-panel-style') || 'panel-default';\r\n                        comp.attr('data-panel-style', this.value);\r\n                        comp.find('.panel').removeClass(old).addClass(this.value);\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            form.find('.collapsedAll').prop('checked', component.attr('data-initial-collapsed') == 'true');\r\n            form.find('.panelStyle').val(component.attr('data-panel-style'));\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n\r\n/**\n * KEditor Audio Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['audio'] = {\n        init: function (contentArea, container, component, keditor) {\n            flog('init \"audio\" component', component);\n            \n            this.component = component;\n            var img = component.find('img[data-src]');\n            var componentId = '';\n            if (!img.attr('id')) {\n                componentId = keditor.generateId('component-audio');\n                img.attr('id', componentId);\n            } else {\n                componentId = img.attr('id');\n            }\n            if (!img.parent().hasClass('audio-wrapper')) {\n                img.wrap('<div class=\"audio-wrapper\"></div>');\n            }\n            this.src = img.attr('data-src');\n            this.width = img.attr('data-width');\n            this.autostart = img.attr('data-autostart') === 'true';\n            var instance = this;\n            $.getScriptOnce('/static/jwplayer/6.10/jwplayer.js', function () {\n                jwplayer.key = 'cXefLoB9RQlBo/XvVncatU90OaeJMXMOY/lamKrzOi0=';\n                instance.buildJWAudioPlayerPreview(componentId);\n            });\n            \n        },\n        \n        getContent: function (component, keditor) {\n            flog('getContent \"audio\" component', component);\n            \n            var img = component.find('img[data-src]');\n            var componentId = img.attr('id');\n            \n            var html = '<img data-componentId=\"' + componentId + '\" src=\"/theme/apps/content/preview/audio.png\" data-autostart=\"' + this.autostart + '\" data-width=\"' + this.width + '\" data-src=\"' + this.src + '\" data-kaudio=\"' + this.src + '\" />';\n            return html;\n        },\n        \n        settingEnabled: true,\n        \n        settingTitle: 'Audio settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"audio\" settings', form);\n            \n            return $.ajax({\n                url: '/static/keditor/componentAudioSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"audio\" component', form, component);\n            \n            var instance = this;\n            var btnAudioFileInput = form.find('.btn-audioFileInput');\n            btnAudioFileInput.mselect({\n                contentTypes: ['audio'],\n                bs3Modal: true,\n                pagePath: window.location.pathname.replace('contenteditor', ''),\n                onSelectFile: function (url) {\n                    instance.src = url;\n                    instance.refreshAudioPlayerPreview();\n                }\n            });\n            \n            var img = component.find('img[data-src]');\n            var componentId = img.attr('id');\n            \n            var autoplayToggle = form.find('#audio-autoplay');\n            if (this.autostart) {\n                autoplayToggle.prop('checked', true);\n            }\n            autoplayToggle.on('click', function (e) {\n                instance.autostart = this.checked;\n                instance.buildJWAudioPlayerPreview(componentId);\n            });\n            \n            var audioWidth = form.find('#audio-width');\n            audioWidth.val(this.width);\n            audioWidth.on('change', function () {\n                instance.width = this.value;\n                instance.resizeAudioPlayerPreview();\n            });\n        },\n        \n        buildJWAudioPlayerPreview: function (componentId) {\n            var width = this.width;\n            var src = this.src;\n            var autostart = this.autostart;\n            var playerInstance = jwplayer(componentId);\n            playerInstance.setup({\n                file: src,\n                width: width,\n                height: 30,\n                autostart: autostart,\n                flashplayer: \"/static/jwplayer/6.10/jwplayer.flash.swf\",\n                html5player: \"/static/jwplayer/6.10/jwplayer.html5.js\",\n                primary: \"flash\"\n            });\n            playerInstance.onReady(function () {\n                log('jwplayer preview init done');\n            });\n        },\n        \n        refreshAudioPlayerPreview: function () {\n            var instance = this;\n            var playerInstance = jwplayer(instance.componentId);\n            var src = instance.src;\n            playerInstance.load([{\n                file: src\n            }]);\n            playerInstance.play();\n        },\n        \n        resizeAudioPlayerPreview: function () {\n            var instance = this;\n            var playerInstance = jwplayer(instance.componentId);\n            var width = instance.width;\n            \n            playerInstance.resize(width, 30);\n        }\n    };\n    \n})(jQuery);\n\r\n/**\r\n * Created by Anh on 7/27/2016.\r\n */\r\n/**\r\n * KEditor Carousel Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['carousel'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"carousel\" component', component);\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var carousel = componentContent.find('.carousel');\r\n            \r\n            if (carousel.find('.carousel-img').length === 0 && carousel.find('.carousel-content').length === 0) {\r\n                var self = this;\r\n                var images = [];\r\n                \r\n                carousel.addClass('carousel-fixed-height');\r\n                carousel.find('.carousel-inner .item').each(function () {\r\n                    var item = $(this);\r\n                    \r\n                    images.push({\r\n                        src: item.find('img').attr('src'),\r\n                        hash: item.attr('data-hash')\r\n                    });\r\n                });\r\n                \r\n                carousel.attr('data-height', 300).css('height', 300);\r\n                carousel.find('.carousel-inner').html('');\r\n                carousel.find('.carousel-indicators').html('');\r\n                \r\n                $.each(images, function (i, image) {\r\n                    self.addItemToCarousel(component, {\r\n                        src: image.src,\r\n                        hash: image.hash\r\n                    });\r\n                });\r\n            }\r\n            \r\n            var id = keditor.generateId('component-carousel');\r\n            carousel.attr('id', id);\r\n            carousel.find('.carousel-indicators li').attr('data-target', '#' + id);\r\n            carousel.find('.carousel-control').attr('href', '#' + id);\r\n        },\r\n        getContent: function (component, keditor) {\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.carousel-inner').children().removeClass('active').eq(0).addClass('active');\r\n            \r\n            return componentContent.html();\r\n        },\r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Carousel settings',\r\n        \r\n        editingItemId: '',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"carousel\" settings', form);\r\n            \r\n            var self = this;\r\n            return $.ajax({\r\n                url: '/static/keditor/componentCarouselSettings.html',\r\n                type: 'get',\r\n                dataType: 'HTML',\r\n                success: function (resp) {\r\n                    form.html(resp);\r\n                    \r\n                    var basePath = window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/') + 1);\r\n                    var carouselAddImage = form.find('.carouselAddImage');\r\n                    var carouselItemsWrap = form.find('.carouselItemsWrap');\r\n                    \r\n                    carouselAddImage.mselect({\r\n                        contentTypes: ['image'],\r\n                        bs3Modal: true,\r\n                        pagePath: basePath,\r\n                        basePath: basePath,\r\n                        onSelectFile: function (url, relUrl, type, hash) {\r\n                            flog('Keditor carousel selected a file', url, hash);\r\n                            self.addItemToList(form, {\r\n                                src: url,\r\n                                hash: hash,\r\n                                caption: ''\r\n                            });\r\n                            \r\n                            self.refreshCarousel(keditor.getSettingComponent(), form);\r\n                            self.editingItemId = '';\r\n                        }\r\n                    });\r\n                    \r\n                    carouselItemsWrap.sortable({\r\n                        handle: '.btn-sort-item',\r\n                        items: '> .carouselItem',\r\n                        axis: 'y',\r\n                        tolerance: 'pointer',\r\n                        sort: function () {\r\n                            $(this).removeClass('ui-state-default');\r\n                        },\r\n                        update: function () {\r\n                            self.refreshCarousel(keditor.getSettingComponent(), form);\r\n                        }\r\n                    });\r\n                    \r\n                    // Content modal\r\n                    var editorContent = self.initModalContent(form, keditor)\r\n                    var modalContent = $('#modal-carousel-content');\r\n                    \r\n                    // Caption modal\r\n                    var editorCaption = self.initModalCaption(form, keditor)\r\n                    var modalCaption = $('#modal-carousel-caption');\r\n                    \r\n                    form.find('.carouselAddImage').on('click', function (e) {\r\n                        e.preventDefault();\r\n                    });\r\n                    \r\n                    form.find('.carouselAddContent').on('click', function (e) {\r\n                        e.preventDefault();\r\n                        modalContent.modal('show');\r\n                    });\r\n                    \r\n                    $(document.body).on('click', '.carouselItem a.btn-remove-item', function (e) {\r\n                        e.preventDefault();\r\n                        \r\n                        if (confirm('Are you sure that you want to delete this image?')) {\r\n                            var btn = $(this);\r\n                            var hash = btn.closest('.btn-group').siblings('[data-hash]').attr('data-hash');\r\n                            \r\n                            self.refreshCarousel(keditor.getSettingComponent(), hash);\r\n                            btn.closest('.carouselItem').remove();\r\n                        }\r\n                    });\r\n                    \r\n                    $(document.body).on('click', '.carouselItem a.btn-edit-item', function (e) {\r\n                        e.preventDefault();\r\n                        \r\n                        var carouselItem = $(this).closest('.carouselItem');\r\n                        self.editingItemId = carouselItem.attr('id');\r\n                        var txtCarouselContent = carouselItem.find('.txt-carousel-content');\r\n                        \r\n                        if (txtCarouselContent.length > 0) {\r\n                            editorContent.setData(txtCarouselContent.val() || '');\r\n                            form.find('.carouselAddContent').trigger('click');\r\n                        } else {\r\n                            form.find('.carouselAddImage').trigger('click');\r\n                        }\r\n                    });\r\n                    \r\n                    \r\n                    $(document.body).on('click', '.carouselItem a.btn-edit-caption-item', function (e) {\r\n                        e.preventDefault();\r\n                        \r\n                        var carouselItem = $(this).closest('.carouselItem');\r\n                        self.editingItemId = carouselItem.attr('id');\r\n                        var txtCarouselCaption = carouselItem.find('.txt-carousel-caption');\r\n                        \r\n                        editorCaption.setData(txtCarouselCaption.val() || '');\r\n                        modalCaption.modal('show');\r\n                    });\r\n                    \r\n                    form.find('.carouselHeight').on('change', function (e) {\r\n                        var value = this.value;\r\n                        \r\n                        if (isNaN(value) || +value < 200) {\r\n                            value = 200;\r\n                            this.value = 200;\r\n                        }\r\n                        \r\n                        var carousel = keditor.getSettingComponent().find('.carousel');\r\n                        carousel.attr('data-height', value);\r\n                        carousel.css('height', value);\r\n                    });\r\n                    \r\n                    form.find('.carouselPause').on('change', function (e) {\r\n                        e.preventDefault();\r\n                        var comp = keditor.getSettingComponent().find('.carousel');\r\n                        comp.attr('data-pause', this.value);\r\n                    });\r\n                    \r\n                    form.find('.carouselInterval').on('change', function (e) {\r\n                        e.preventDefault();\r\n                        var comp = keditor.getSettingComponent().find('.carousel');\r\n                        comp.attr('data-interval', this.value);\r\n                    });\r\n                    \r\n                    form.find('.carouselWrap').on('click', function (e) {\r\n                        var comp = keditor.getSettingComponent().find('.carousel');\r\n                        if (this.checked) {\r\n                            comp.attr('data-wrap', 'true');\r\n                        } else {\r\n                            comp.attr('data-wrap', 'false');\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        \r\n        initModalContent: function (form, keditor) {\r\n            var self = this;\r\n            \r\n            var modalContent = $(\r\n                '<div class=\"modal fade\" tabindex=\"-1\" id=\"modal-carousel-content\">' +\r\n                '    <div class=\"modal-dialog modal-lg\">' +\r\n                '        <div class=\"modal-content\">' +\r\n                '            <div class=\"modal-header\">' +\r\n                '                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>' +\r\n                '                <h4 class=\"modal-title\">Edit content</h4>' +\r\n                '            </div>' +\r\n                '            <div class=\"modal-body\">' +\r\n                '                <textarea id=\"modal-carousel-content-body\" class=\"form-control\" rows=\"12\"></textarea>' +\r\n                '            </div>' +\r\n                '            <div class=\"modal-footer\">' +\r\n                '                <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>' +\r\n                '                <button type=\"button\" class=\"btn btn-primary btn-carousel-save-content\">Save</button>' +\r\n                '            </div>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '</div>'\r\n            ).appendTo(document.body);\r\n            \r\n            var contentOptions = $.extend({}, keditor.options.ckeditorOptions);\r\n            contentOptions.removePlugins = contentOptions.removePlugins.replace(',autogrow', '') + ',sourcedialog';\r\n            contentOptions.extraPlugins = contentOptions.extraPlugins + ',autogrow';\r\n            var editorContent = $('#modal-carousel-content-body').ckeditor(contentOptions).editor;\r\n            \r\n            modalContent.on('hidden.bs.modal', function () {\r\n                editorContent.setData('');\r\n                self.editingItemId = '';\r\n            });\r\n            \r\n            modalContent.find('.btn-carousel-save-content').on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                flog('Keditor carousel add content');\r\n                \r\n                var carouselContent = editorContent.getData() || '';\r\n                self.addItemToList(form, {\r\n                    content: carouselContent\r\n                });\r\n                \r\n                self.refreshCarousel(keditor.getSettingComponent(), form);\r\n                modalContent.modal('hide');\r\n            });\r\n            \r\n            return editorContent;\r\n        },\r\n        \r\n        initModalCaption: function (form, keditor) {\r\n            var self = this;\r\n            \r\n            var modalCaption = $(\r\n                '<div class=\"modal fade\" tabindex=\"-1\" id=\"modal-carousel-caption\">' +\r\n                '    <div class=\"modal-dialog modal-lg\">' +\r\n                '        <div class=\"modal-content\">' +\r\n                '            <div class=\"modal-header\">' +\r\n                '                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>' +\r\n                '                <h4 class=\"modal-title\">Edit caption</h4>' +\r\n                '            </div>' +\r\n                '            <div class=\"modal-body\">' +\r\n                '                <textarea id=\"modal-carousel-caption-body\" class=\"form-control\" rows=\"12\"></textarea>' +\r\n                '            </div>' +\r\n                '            <div class=\"modal-footer\">' +\r\n                '                <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>' +\r\n                '                <button type=\"button\" class=\"btn btn-primary btn-carousel-save-caption\">Save</button>' +\r\n                '            </div>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '</div>'\r\n            ).appendTo(document.body);\r\n            \r\n            var captionOptions = $.extend({}, keditor.options.ckeditorOptions);\r\n            captionOptions.removePlugins = captionOptions.removePlugins.replace(',autogrow', '') + ',sourcedialog';\r\n            captionOptions.extraPlugins = captionOptions.extraPlugins + ',autogrow';\r\n            captionOptions.toolbarGroups = toolbarSets['Lite'];\r\n            var editorCaption = $('#modal-carousel-caption-body').ckeditor(captionOptions).editor;\r\n            \r\n            modalCaption.on('hidden.bs.modal', function () {\r\n                editorCaption.setData('');\r\n                self.editingItemId = '';\r\n            });\r\n            \r\n            modalCaption.find('.btn-carousel-save-caption').on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                flog('Keditor carousel add content');\r\n                \r\n                var carouselCaption = editorCaption.getData() || '';\r\n                var item = form.find('#' + self.editingItemId).find('.img-responsive');\r\n                self.addItemToList(form, {\r\n                    src: item.attr('src'),\r\n                    hash: item.attr('data-hash'),\r\n                    caption: carouselCaption\r\n                });\r\n                \r\n                self.refreshCarousel(keditor.getSettingComponent(), form);\r\n                modalCaption.modal('hide');\r\n            });\r\n            \r\n            return editorCaption;\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            var self = this;\r\n            self.editingItemId = '';\r\n            form.find('.carouselItemsWrap').html('');\r\n            component.find('.carousel-inner > .item').each(function () {\r\n                var item = $(this);\r\n                var carouselImg = item.find('.carousel-img');\r\n                var carouselContent = item.find('.carousel-content');\r\n                \r\n                if (carouselContent.length > 0) {\r\n                    self.addItemToList(form, {\r\n                        content: carouselContent.html()\r\n                    });\r\n                } else {\r\n                    var url = carouselImg.css('background-image');\r\n                    url = url.slice(4, -1).replace(/['\"]/g, '');\r\n                    var hash = $(item).attr('data-hash');\r\n                    var caption = item.find('.carousel-caption');\r\n                    \r\n                    self.addItemToList(form, {\r\n                        src: url,\r\n                        hash: hash,\r\n                        caption: caption.html() || ''\r\n                    });\r\n                }\r\n            });\r\n            \r\n            var isWrap = component.find('.carousel').attr('data-wrap');\r\n            var pause = component.find('.carousel').attr('data-pause');\r\n            var interval = component.find('.carousel').attr('data-interval');\r\n            var height = component.find('.carousel').attr('data-height');\r\n            \r\n            form.find('.carouselPause').val(pause);\r\n            form.find('.carouselInterval').val(interval);\r\n            form.find('.carouselWrap').prop('checked', isWrap === 'true');\r\n            form.find('.carouselHeight').val(height);\r\n        },\r\n        \r\n        addItemToCarousel: function (component, data) {\r\n            flog('addItemToCarousel', component, data);\r\n            \r\n            var carousel = component.find('.carousel');\r\n            var carouselInner = carousel.find('.carousel-inner');\r\n            var id = carousel.attr('id');\r\n            var index = carouselInner.children().length;\r\n            var cls = index === 0 ? 'active' : '';\r\n            var backgroundUrl = \"background-image: url('\" + data.src + \"')\";\r\n            \r\n            carousel.find('.carousel-indicators').append(\r\n                '<li data-target=\"#' + id + '\" data-slide-to=\"' + index + '\" class=\"' + cls + '\"></li>'\r\n            );\r\n            \r\n            var itemStr = '';\r\n            if (data.content) {\r\n                itemStr += '<div class=\"item ' + cls + '\">';\r\n                itemStr += '   <div class=\"carousel-content clearfix\">' + data.content + '</div>';\r\n                itemStr += '   <div class=\"carousel-caption\"></div>';\r\n                itemStr += '</div>';\r\n            } else {\r\n                itemStr += '<div data-hash=\"' + data.hash + '\" class=\"item ' + cls + '\">';\r\n                itemStr += '   <div class=\"carousel-img\" style=\"' + backgroundUrl + '\"></div>';\r\n                itemStr += '   <div class=\"carousel-caption\">' + data.caption + '</div>';\r\n                itemStr += '</div>';\r\n            }\r\n            \r\n            carouselInner.append(itemStr);\r\n        },\r\n        \r\n        addItemToList: function (form, data) {\r\n            flog('addItemToList', form, data);\r\n            \r\n            var editCaption = '';\r\n            \r\n            var itemStr = '';\r\n            if (data.content) {\r\n                itemStr += '<img class=\"img-responsive\" src=\"/static/keditor/componentCarouselContent.png\" />';\r\n                itemStr += '<textarea style=\"display: none\" class=\"txt-carousel-content\">' + data.content + '</textarea>';\r\n            } else {\r\n                itemStr += '<img class=\"img-responsive\" src=\"' + data.src + '\" data-hash=\"' + data.hash + '\" />';\r\n                itemStr += '<textarea style=\"display: none\" class=\"txt-carousel-caption\">' + data.caption + '</textarea>';\r\n                editCaption = '<a title=\"Edit caption\" class=\"btn btn-success btn-edit-caption-item\" href=\"#\"><i class=\"fa fa-file\"></i></a>';\r\n            }\r\n            \r\n            itemStr += '   <div class=\"btn-group btn-group-xs\">';\r\n            itemStr += '       <a title=\"Reorder item\" class=\"btn btn-info btn-sort-item\" href=\"#\"><i class=\"fa fa-sort\"></i></a>';\r\n            itemStr += '       <a title=\"Edit item\" class=\"btn btn-primary btn-edit-item\" href=\"#\"><i class=\"fa fa-edit\"></i></a>' + editCaption;\r\n            itemStr += '       <a title=\"Delete item\" class=\"btn btn-danger btn-remove-item\" href=\"#\"><i class=\"fa fa-trash\"></i></a>';\r\n            itemStr += '   </div>';\r\n            \r\n            if (this.editingItemId) {\r\n                form.find('#' + this.editingItemId).html(itemStr);\r\n                this.editingItemId = '';\r\n            } else {\r\n                form.find('.carouselItemsWrap').append(\r\n                    '<div class=\"carouselItem\" id=\"carouselItem-' + (new Date()).getTime() + '\">' + itemStr + '</div>'\r\n                );\r\n            }\r\n        },\r\n        \r\n        refreshCarousel: function (component, form) {\r\n            var self = this;\r\n            var carousel = component.find('.carousel');\r\n            carousel.find('.carousel-inner').html('');\r\n            carousel.find('.carousel-indicators').html('');\r\n            \r\n            form.find('.carouselItemsWrap').find('.carouselItem').each(function () {\r\n                var carouselItem = $(this);\r\n                var txtContent = carouselItem.find('.txt-carousel-content');\r\n                var txtCaption = carouselItem.find('.txt-carousel-caption');\r\n                var img = carouselItem.find('img');\r\n                \r\n                if (txtContent.length === 0) {\r\n                    self.addItemToCarousel(component, {\r\n                        src: img.attr('src'),\r\n                        hash: img.attr('data-hash'),\r\n                        caption: txtCaption.val()\r\n                    });\r\n                } else {\r\n                    self.addItemToCarousel(component, {\r\n                        content: txtContent.val()\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n})(jQuery);\r\n/**\r\n * KEditor Form Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['form'] = {\r\n        initFormBuilder: function (component) {\r\n            var self = this;\r\n            \r\n            $.getScriptOnce('/static/formBuilder/2.5.3/form-builder.min.js', function () {\r\n                $.getScriptOnce('/static/formBuilder/2.5.3/form-render.min.js', function () {\r\n                    var formBuilderArea = component.find('.form-builder-area');\r\n                    var formData = component.find('.form-data');\r\n                    var formContent = component.find('.form-content');\r\n                    \r\n                    component.find('.keditor-component-content').prepend(\r\n                        '<p class=\"form-builder-tools\" style=\"text-align: right;\">' +\r\n                        '    <a href=\"#\" class=\"btn btn-primary btn-preview-form\">Preview form</a> ' +\r\n                        '    <a href=\"#\" class=\"btn btn-info btn-edit-form disabled\">Edit form</a>' +\r\n                        '</p>'\r\n                    );\r\n                    \r\n                    var btnEditForm = component.find('.btn-edit-form');\r\n                    var btnPreviewForm = component.find('.btn-preview-form');\r\n                    \r\n                    formBuilderArea.formBuilder({\r\n                        disableInjectedStyle: true,\r\n                        showActionButtons: false,\r\n                        dataType: 'json',\r\n                        formData: formData.html(),\r\n                        disableFields: [\r\n                            'autocomplete',\r\n                            'paragraph',\r\n                            'header'\r\n                        ],\r\n                        disabledAttrs: ['access'],\r\n                        \r\n                        typeUserDisabledAttrs: {\r\n                            'checkbox-group': [\r\n                                'toggle',\r\n                                'inline'\r\n                            ]\r\n                        }\r\n                    });\r\n                    \r\n                    btnEditForm.on('click', function (e) {\r\n                        e.preventDefault();\r\n                        \r\n                        if (!btnEditForm.hasClass('disabled')) {\r\n                            formBuilderArea.show();\r\n                            formContent.hide();\r\n                            btnEditForm.addClass('disabled');\r\n                            btnPreviewForm.removeClass('disabled');\r\n                        }\r\n                    });\r\n                    \r\n                    btnPreviewForm.on('click', function (e) {\r\n                        e.preventDefault();\r\n                        \r\n                        if (!btnPreviewForm.hasClass('disabled')) {\r\n                            self.renderForm(component);\r\n                            \r\n                            formBuilderArea.hide();\r\n                            formContent.show();\r\n                            btnEditForm.removeClass('disabled');\r\n                            btnPreviewForm.addClass('disabled');\r\n                        }\r\n                    });\r\n                })\r\n            });\r\n        },\r\n        \r\n        renderForm: function (component, formBuilder) {\r\n            var formContent = component.find('.form-content');\r\n            \r\n            if (!formBuilder) {\r\n                var formBuilderArea = component.find('.form-builder-area');\r\n                formBuilder = formBuilderArea.data('formBuilder');\r\n            }\r\n            \r\n            formContent.formRender({\r\n                dataType: 'json',\r\n                formData: formBuilder.actions.getData('json')\r\n            });\r\n            \r\n            if (formContent.hasClass('form-horizontal')) {\r\n                formContent.children('div').each(function () {\r\n                    var div = $(this);\r\n                    var dataGrid = formContent.attr('data-grid') || '4-8';\r\n                    dataGrid = dataGrid.split('-');\r\n                    \r\n                    if (div.attr('class')) {\r\n                        if (div.hasClass('fb-button')) {\r\n                            div.find('button').wrap('<div class=\"col-sm-' + dataGrid[1] + ' col-sm-offset-' + dataGrid[0] + '\"></div>');\r\n                        } else {\r\n                            var label = div.children('label');\r\n                            var input = div.children('input, select, textarea');\r\n                            var subDiv = div.children('div');\r\n                            \r\n                            label.addClass('control-label col-sm-' + dataGrid[0]);\r\n                            \r\n                            if (subDiv.length > 0) {\r\n                                subDiv.addClass('col-sm-' + dataGrid[1]);\r\n                            } else {\r\n                                input.addClass('form-control').wrap('<div class=\"col-sm-' + dataGrid[1] + '\"></div>');\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        \r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"form\" component', component);\r\n            \r\n            var componentContent = component.find('.keditor-component-content');\r\n            var formBuilder = component.find('.form-builder-area');\r\n            var formContent = component.find('.form-content');\r\n            var formData = component.find('.form-data');\r\n            \r\n            if (formData.length === 0) {\r\n                componentContent.append('<div class=\"form-data\" style=\"display: none !important;\"></div>')\r\n            }\r\n            \r\n            if (formContent.length === 0) {\r\n                componentContent.append('<form class=\"form-content\" style=\"display: none !important;\"></form>')\r\n            } else {\r\n                formContent.hide()\r\n            }\r\n            \r\n            if (formBuilder.length === 0) {\r\n                formBuilder = $('<div class=\"form-builder-area clearfix\"></div>');\r\n                componentContent.append(formBuilder);\r\n            }\r\n            \r\n            this.initFormBuilder(component);\r\n        },\r\n        \r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"form\" component', component);\r\n            \r\n            var self = this;\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var formData = component.find('.form-data');\r\n            var formBuilderArea = $('#' + component.attr('id')).find('.form-builder-area');\r\n            var formBuilder = formBuilderArea.data('formBuilder');\r\n            \r\n            self.renderForm(component, formBuilder);\r\n            formData.html(formBuilder.actions.getData('json'));\r\n            component.find('.form-builder-area, .form-builder-tools').remove();\r\n            component.find('.form-content').show();\r\n            \r\n            return componentContent.html();\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Form Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"form\" component');\r\n            \r\n            var self = this;\r\n            \r\n            return $.ajax({\r\n                url: '/static/keditor/componentFormSettings.html',\r\n                type: 'get',\r\n                dataType: 'HTML',\r\n                success: function (resp) {\r\n                    form.html(resp);\r\n                    \r\n                    form.find('.txt-form-action').on('change', function () {\r\n                        var component = keditor.getSettingComponent();\r\n                        var formContent = component.find('.form-content');\r\n                        \r\n                        formContent.attr('action', this.value);\r\n                    });\r\n                    \r\n                    form.find('.select-method').on('change', function () {\r\n                        var component = keditor.getSettingComponent();\r\n                        var formContent = component.find('.form-content');\r\n                        \r\n                        formContent.attr('action', this.value);\r\n                    });\r\n                    \r\n                    form.find('.select-enctype').on('change', function () {\r\n                        var component = keditor.getSettingComponent();\r\n                        var formContent = component.find('.form-content');\r\n                        \r\n                        formContent.attr('enctype', this.value);\r\n                    });\r\n                    \r\n                    form.find('.select-layout').on('change', function () {\r\n                        var component = keditor.getSettingComponent();\r\n                        var formContent = component.find('.form-content');\r\n                        \r\n                        formContent.removeClass('form-inline form-horizontal');\r\n                        if (this.value) {\r\n                            formContent.addClass(this.value);\r\n                        }\r\n                        self.renderForm(component);\r\n                        form.find('.select-grid-wrapper').css('display', this.value === 'form-horizontal' ? 'block' : 'none');\r\n                    });\r\n                    \r\n                    form.find('.select-grid').on('change', function () {\r\n                        var component = keditor.getSettingComponent();\r\n                        var formContent = component.find('.form-content');\r\n                        \r\n                        formContent.attr('data-grid', this.value);\r\n                        self.renderForm(component);\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"form\" component', component);\r\n            var formContent = component.find('.form-content');\r\n            \r\n            var layout = '';\r\n            if (formContent.hasClass('form-inline')) {\r\n                layout = 'form-inline';\r\n            } else if (formContent.hasClass('form-horizontal')) {\r\n                layout = 'form-horizontal';\r\n            }\r\n            \r\n            form.find('.txt-form-action').val(formContent.attr('action') || '');\r\n            form.find('.select-method').val(formContent.attr('method') || 'get');\r\n            form.find('.select-enctype').val(formContent.attr('enctype'));\r\n            form.find('.select-layout').val(layout);\r\n            form.find('.select-grid-wrapper').css('display', layout === 'form-horizontal' ? 'block' : 'none');\r\n            form.find('.select-grid').val(formContent.attr('data-grid') || '4-8');\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n\r\n/**\n * KEditor Google Map Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['googlemap'] = {\n        init: function (contentArea, container, component, keditor) {\n            var script = component.find('script');\n            if (script.length) {\n                script.remove();\n            }\n            component.removeAttr('data-firstLoad');\n            var place = component.attr('data-place');\n            var maptype = component.attr('data-maptype');\n            if (place && maptype === 'manually') {\n                $(window).on('load', function () {\n                    component.find('.btn-component-setting').trigger('click');\n                });\n            }\n        },\n        getContent: function (component, keditor) {\n            flog('getContent \"googlemap\" component', component);\n            var componentContent = component.children('.keditor-component-content');\n            componentContent.find('.googlemap-cover').remove();\n            var place = component.attr('data-place');\n            var maptype = component.attr('data-maptype');\n            component.find('.kgooglemap').html('');\n            var script = '<script>$(function(){if(!$(document.body).hasClass(\"content-editor-page\")){var apiKey=\"AIzaSyBUcuZxwpBXCPztG7ot-rITXJbycPuS7gs\";var s=document.createElement(\"script\");s.type=\"text/javascript\";s.async=true;s.defer=true;s.src=\"https://maps.googleapis.com/maps/api/js?key=\"+apiKey+\"&callback=kgooglemapInit&libraries=places\";$(\"head\").append(s);window.kgooglemapInit=function(){var mapdiv=$(\".kgooglemap\").not(\".hide\");mapdiv.each(function(){var parent=$(this).parents(\"[data-type=component-googlemap]\");if(parent.attr(\"data-maptype\")!==\"manually\")return;var map=new google.maps.Map(this,{zoom:13,mapTypeId:\"roadmap\"});var place=parent.attr(\"data-place\");var input=parent.find(\"input\")[0];input.value=place;var searchBox=new google.maps.places.SearchBox(input);map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);setTimeout(function(){google.maps.event.trigger(input,\"focus\");google.maps.event.trigger(input,\"keydown\",{keyCode:13});},500);map.addListener(\"bounds_changed\",function(){searchBox.setBounds(map.getBounds());});var markers=[];searchBox.addListener(\"places_changed\",function(){var places=searchBox.getPlaces();if(places.length==0){return;}markers.forEach(function(marker){marker.setMap(null);});markers=[];var bounds=new google.maps.LatLngBounds();places.forEach(function(place){if(!place.geometry){console.log(\"Returned place contains no geometry\");return;}var icon={url:place.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};markers.push(new google.maps.Marker({map:map,icon:icon,title:place.name,position:place.geometry.location}));if(place.geometry.viewport){bounds.union(place.geometry.viewport);}else{bounds.extend(place.geometry.location);}});map.fitBounds(bounds);});})}}});</script>';\n            component.find('.embed-responsive').append(script);\n            return componentContent.html();\n        },\n        \n        settingEnabled: true,\n        \n        settingTitle: 'Google Map Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"googlemap\" settings', form);\n            var self = this;\n            \n            return $.ajax({\n                url: '/static/keditor/componentGoogleMapSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    var apiKey = 'AIzaSyBUcuZxwpBXCPztG7ot-rITXJbycPuS7gs';\n                    var mapjs = '<script src=\"https://maps.googleapis.com/maps/api/js?key=' + apiKey + '&callback=initKeditorMapSetting&libraries=places\" async defer></script>';\n                    if (window.google && window.google.maps && google.maps.places) {\n                        mapjs = '';\n                    }\n                    \n                    form.append(\n                        mapjs + resp\n                    );\n                    \n                    form.find('.mapType').on('click', function (e) {\n                        if (this.checked) {\n                            $('.' + this.value).removeClass('hide');\n                            var cls = form.find('.mapType').not(this).val();\n                            $('.' + cls).addClass('hide');\n                            var comp = keditor.getSettingComponent();\n                            comp.attr('data-maptype', this.value);\n                            if (this.value === 'manually') {\n                                comp.find('iframe').addClass('hide');\n                                comp.find('.kgooglemap').removeClass('hide');\n                                if (comp.find('.kgooglemap').data('map')) {\n                                    google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\n                                } else {\n                                    self.initAutocomplete(comp, form);\n                                    var input = form.find('[name=mapAddress]')[0];\n                                    var i = setInterval(function () {\n                                        if (comp.find('.kgooglemap').data('map')) {\n                                            clearInterval(i);\n                                            google.maps.event.trigger(input, 'focus')\n                                            google.maps.event.trigger(input, 'keydown', {\n                                                keyCode: 13\n                                            });\n                                        }\n                                    }, 100);\n                                }\n                            } else {\n                                comp.find('iframe').removeClass('hide');\n                                comp.find('.kgooglemap').addClass('hide');\n                            }\n                        }\n                    });\n                    \n                    form.find('[name=mapEmbedCode]').on('change', function () {\n                        var iframe = $(this.value);\n                        var src = iframe.attr('src');\n                        if (iframe.length > 0 && src && src.length > 0) {\n                            keditor.getSettingComponent().find('.embed-responsive-item').attr('src', src);\n                        } else {\n                            alert('Your Google Map embed code is invalid!');\n                        }\n                    });\n                    \n                    var btn169 = form.find('.btn-googlemap-169');\n                    var btn43 = form.find('.btn-googlemap-43');\n                    \n                    btn169.on('click', function (e) {\n                        e.preventDefault();\n                        $(this).addClass('btn-primary').removeClass('btn-default');\n                        btn43.removeClass('btn-primary').addClass('btn-default');\n                        keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\n                        var comp = keditor.getSettingComponent();\n                        if (comp.attr('maptype') === 'manually') {\n                            if (comp.find('.kgooglemap').data('map')) {\n                                google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\n                            }\n                        }\n                    });\n                    \n                    btn43.on('click', function (e) {\n                        e.preventDefault();\n                        $(this).addClass('btn-primary').removeClass('btn-default');\n                        btn169.removeClass('btn-primary').addClass('btn-default');\n                        keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\n                        var comp = keditor.getSettingComponent();\n                        if (comp.attr('maptype') === 'manually') {\n                            if (comp.find('.kgooglemap').data('map')) {\n                                google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\n                            }\n                        }\n                    });\n                }\n            });\n        },\n        showSettingForm: function (form, component, keditor) {\n            var self = this;\n            var maptype = component.attr('data-maptype');\n            var place = component.attr('data-place');\n            var ratio169 = component.find('.embed-responsive').hasClass('embed-responsive-16by9');\n            var ratio43 = component.find('.embed-responsive').hasClass('embed-responsive-4by3');\n            if (ratio43) {\n                form.find('.btn-googlemap-43').addClass('btn-primary').removeClass('btn-default');\n            }\n            if (ratio169) {\n                form.find('.btn-googlemap-169').addClass('btn-primary').removeClass('btn-default');\n            }\n            form.find('.mapType[value=' + maptype + ']').prop('checked', true);\n            var src = component.find('iframe').attr('src');\n            var iframe = '<iframe class=\"embed-responsive-item\" src=\"' + src + '\"></iframe>';\n            if (!place) {\n                place = 'Hanoi, Vietnam';\n            }\n            form.find('[name=mapAddress]').val(place);\n            form.find('[name=mapEmbedCode]').val(iframe);\n            var firstLoad = component.attr('data-firstLoad');\n            if (maptype === 'manually') {\n                form.find('.manually').removeClass('hide').siblings('.embed').addClass('hide');\n                \n                if (!firstLoad && place) {\n                    var i = setInterval(function () {\n                        if (window.googleMapInitialized) {\n                            clearInterval(i);\n                            self.initAutocomplete(component, form);\n                            setTimeout(function () {\n                                var input = form.find('[name=mapAddress]')[0];\n                                google.maps.event.trigger(input, 'focus')\n                                google.maps.event.trigger(input, 'keydown', {\n                                    keyCode: 13\n                                });\n                                component.attr('data-firstLoad', 'false');\n                            }, 1000);\n                        }\n                    }, 100);\n                }\n            } else {\n                form.find('.manually').addClass('hide').siblings('.embed').removeClass('hide');\n            }\n        },\n        \n        initAutocomplete: function (component, form) {\n            if (!window.googleMapInitialized) {\n                alert('google map is not initialized');\n                return;\n            }\n            var mapdiv = component.find('.kgooglemap')[0];\n            var map = new google.maps.Map(mapdiv, {\n                zoom: 13,\n                mapTypeId: 'roadmap'\n            });\n            // Create the search box and link it to the UI element.\n            var input = form.find('[name=mapAddress]')[0];\n            var searchBox = new google.maps.places.SearchBox(input);\n            //map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n            \n            // Bias the SearchBox results towards current map's viewport.\n            map.addListener('bounds_changed', function () {\n                searchBox.setBounds(map.getBounds());\n            });\n            \n            var markers = [];\n            // Listen for the event fired when the user selects a prediction and retrieve\n            // more details for that place.\n            \n            searchBox.addListener('places_changed', function () {\n                var places = searchBox.getPlaces();\n                \n                if (places.length == 0) {\n                    return;\n                }\n                \n                // Clear out the old markers.\n                markers.forEach(function (marker) {\n                    marker.setMap(null);\n                });\n                markers = [];\n                // For each place, get the icon, name and location.\n                var bounds = new google.maps.LatLngBounds();\n                places.forEach(function (place) {\n                    if (!place.geometry) {\n                        console.log(\"Returned place contains no geometry\");\n                        return;\n                    }\n                    \n                    var icon = {\n                        url: place.icon,\n                        size: new google.maps.Size(71, 71),\n                        origin: new google.maps.Point(0, 0),\n                        anchor: new google.maps.Point(17, 34),\n                        scaledSize: new google.maps.Size(25, 25)\n                    };\n                    \n                    // Create a marker for each place.\n                    markers.push(new google.maps.Marker({\n                        map: map,\n                        icon: icon,\n                        title: place.name,\n                        position: place.geometry.location\n                    }));\n                    \n                    if (place.geometry.viewport) {\n                        // Only geocodes have viewport.\n                        bounds.union(place.geometry.viewport);\n                    } else {\n                        bounds.extend(place.geometry.location);\n                    }\n                });\n                map.fitBounds(bounds);\n                component.attr('data-place', input.value);\n            });\n            \n            component.find('.kgooglemap').data('map', map);\n        }\n    };\n    \n    window.initKeditorMapSetting = function () {\n        window.googleMapInitialized = true;\n    }\n})(jQuery);\n\r\n/**\n * KEditor Jumbotron Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var contentEditor = $.contentEditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['jumbotron'] = {\n        settingEnabled: true,\n        \n        settingTitle: 'Jumbotron Settings',\n        init: function (contentArea, container, component, keditor) {\n            var self = this;\n            var options = keditor.options;\n            \n            var componentContent = component.children('.keditor-component-content');\n            componentContent.prop('contenteditable', true);\n            \n            componentContent.on('input', function (e) {\n                if (typeof options.onComponentChanged === 'function') {\n                    options.onComponentChanged.call(contentArea, e, component);\n                }\n                \n                if (typeof options.onContainerChanged === 'function') {\n                    options.onContainerChanged.call(contentArea, e, container);\n                }\n                \n                if (typeof options.onContentChanged === 'function') {\n                    options.onContentChanged.call(contentArea, e);\n                }\n            });\n            \n            var editor = componentContent.ckeditor(options.ckeditorOptions).editor;\n            editor.on('instanceReady', function () {\n                flog('CKEditor is ready', component);\n                \n                if (typeof options.onComponentReady === 'function') {\n                    options.onComponentReady.call(contentArea, component, editor);\n                }\n            });\n        },\n        \n        getContent: function (component, keditor) {\n            flog('getContent \"jumbotron\" component', component);\n            \n            var componentContent = component.find('.keditor-component-content');\n            var id = componentContent.attr('id');\n            var editor = CKEDITOR.instances[id];\n            if (editor) {\n                return editor.getData();\n            } else {\n                return componentContent.html();\n            }\n        },\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"jumbotron\" settings', form);\n            \n            return $.ajax({\n                url: '/static/keditor/componentJumbotronSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n                    \n                    form.find('.chk-inverse').on('click', function () {\n                        var comp = keditor.getSettingComponent();\n                        comp.find('.jumbotron')[this.checked ? 'addClass' : 'removeClass']('jumbotron-inverse');\n                    });\n                    \n                    form.find('[name=rounded]').on('click', function (e) {\n                        var comp = keditor.getSettingComponent();\n                        if (this.value == 'false') {\n                            comp.find('.jumbotron').css('border-radius', '0');\n                        } else {\n                            comp.find('.jumbotron').css('border-radius', '');\n                        }\n                    });\n                    \n                    var buttonColorPicker = form.find('.button-color-picker');\n                    contentEditor.initSimpleColorPicker(buttonColorPicker, function (color) {\n                        var comp = keditor.getSettingComponent();\n                        comp.find('.jumbotron').css('background-color', color);\n                        comp.attr('data-bgcolor', color);\n                    });\n                    \n                    var paddingSettings = form.find('.paddingSettings');\n                    paddingSettings.on('change', function () {\n                        var paddingValue = this.value || '';\n                        var component = keditor.getSettingComponent();\n                        var paddingProp = $(this).attr('name');\n                        if (paddingValue.trim() === '') {\n                            component.find('.jumbotron').css(paddingProp, '');\n                        } else {\n                            if (isNaN(paddingValue)) {\n                                paddingValue = 0;\n                                this.value = paddingValue;\n                            }\n                            component.find('.jumbotron').css(paddingProp, paddingValue + 'px');\n                        }\n                    });\n                    \n                    var marginSettings = form.find('.marginSettings');\n                    marginSettings.on('change', function () {\n                        var paddingValue = this.value || '';\n                        var component = keditor.getSettingComponent();\n                        var paddingProp = $(this).attr('name');\n                        if (paddingValue.trim() === '') {\n                            component.find('.jumbotron').css(paddingProp, '');\n                        } else {\n                            if (isNaN(paddingValue)) {\n                                paddingValue = 0;\n                                this.value = paddingValue;\n                            }\n                            component.find('.jumbotron').css(paddingProp, paddingValue + 'px');\n                        }\n                    });\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"jumbotron\" component', component);\n            form.find('[name=button-color]').val(component.attr('data-bgcolor')).trigger('update');\n            form.find('.paddingSettings').each(function () {\n                $(this).val(component.find('.jumbotron').css($(this).attr('name')).replace('px', ''));\n            });\n            form.find('.marginSettings').each(function () {\n                $(this).val(component.find('.jumbotron').css($(this).attr('name')).replace('px', ''));\n            });\n            form.find('[name=showButton][value=false]').prop('checked', component.find('a').hasClass('hide'));\n            form.find('[name=rounded][value=false]').prop('checked', component.find('.jumbotron').css('border-radius').replace('px', '') === '0');\n            form.find('.chk-inverse').prop('checked', component.find('.jumbotron').hasClass('jumbotron-inverse'));\n        },\n        \n        destroy: function (component, keditor) {\n            flog('destroy \"text\" component', component);\n            \n            var id = component.find('.keditor-component-content').attr('id');\n            var editor = CKEDITOR.instances[id];\n            if (editor) {\n                editor.destroy();\n            }\n        }\n    };\n    \n})(jQuery);\n\n\r\n/**\n * KEditor SVG Map Component (Australia)\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['ksvgmap'] = {\n        init: function (contentArea, container, component, keditor) {\n            var script = component.find('script');\n            if (script.length) {\n                script.remove();\n            }\n            if (component.attr('data-height')) {\n                component.find('.ksvgmap').css('height', +component.attr('data-height'));\n            }\n            $.getScriptOnce('/static/jquery-jvectormap/jquery-jvectormap-2.0.3.min.js', function () {\n                $.getScriptOnce('/static/jquery-jvectormap/jquery-jvectormap-au-mill.js', function () {\n                    component.find('.ksvgmap').vectorMap({\n                        map: 'au_mill',\n                        backgroundColor: '#fff',\n                        zoomButtons: false,\n                        focusOn: {\n                            x: 0.5,\n                            y: 0.5,\n                            scale: 1\n                        },\n                        regionStyle: {\n                            initial: {\n                                fill: '#efefef'\n                            },\n                            hover: {\n                                fill: \"#00aa90\"\n                            }\n                        },\n                        onRegionTipShow: function (e, el, code) {\n                            if (component.attr('data-' + code))\n                                el.html(el.html() + ' - ' + component.attr('data-' + code));\n                        }\n                    });\n                    var i = setInterval(function () {\n                        try {\n                            var map = component.find('.ksvgmap').vectorMap('get', 'mapObject');\n                            map.updateSize();\n                            clearInterval(i);\n                        } catch (e) {\n                            flog('trying to get jvectormap object');\n                        }\n                    }, 50);\n                });\n            });\n        },\n        getContent: function (component, keditor) {\n            flog('getContent \"svgmap\" component', component);\n            var componentContent = component.children('.keditor-component-content');\n            var script = '<script>$(function(){$(document.body).hasClass(\"content-editor-page\")||$.getScriptOnce(\"/static/jquery-jvectormap/jquery-jvectormap-2.0.3.min.js\",function(){$.getScriptOnce(\"/static/jquery-jvectormap/jquery-jvectormap-au-mill.js\",function(){$(\".ksvgmap\").each(function(){var a=$(this).parents(\"[data-type=component-ksvgmap]\");a.hasClass(\"ksvgInit\")||(a.addClass(\"ksvgInit\"),$(this).vectorMap({map:\"au_mill\",backgroundColor:\"#fff\",zoomButtons:!1,scale:5,regionStyle:{initial:{fill:\"#efefef\"},hover:{fill:\"#00aa90\"}},onRegionTipShow:function(b,c,d){a.attr(\"data-\"+d)&&c.html(\"<span class=\\'vectormap-tip-region-name\\'>\"+c.html()+\"</span><span class=\\'vectormap-tip-separator\\'> - </span><span class=\\'vectormap-tip-region-data\\'>\"+a.attr(\"data-\"+d)+\"</span>\")}}))})})})});</script>';\n            var css = '<link rel=\"stylesheet\" href=\"/static/jquery-jvectormap/jquery-jvectormap-2.0.3.css\">';\n            component.find('.jvectormap-container').remove();\n            var arr = $(document.body).find('[data-type=\"component-ksvgmap\"]:not(.keditor-snippet)');\n            if (arr.length > 0) {\n                if ($(arr[arr.length - 1]).attr('id') === component.attr('id')) {\n                    $(css).insertBefore(component.find('.ksvgmap'));\n                    $(script).insertAfter(component.find('.ksvgmap'));\n                }\n            }\n            \n            return componentContent.html();\n        },\n        \n        settingEnabled: true,\n        \n        settingTitle: 'SVGMap Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"svgmap\" settings', form);\n            \n            return $.ajax({\n                url: '/static/keditor/componentKsvgMapSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n                    \n                    var component = keditor.getSettingComponent();\n                    form.find('.state').on('change', function (e) {\n                        var val = component.attr('data-' + this.value);\n                        form.find('.stateMessage').val(val);\n                    });\n                    form.find('.stateMessage').on('change', function (e) {\n                        var currentState = form.find('.state').val();\n                        component.attr('data-' + currentState, this.value);\n                    });\n                    form.find('.height').on('change', function (e) {\n                        component.attr('data-height', this.value);\n                        component.find('.ksvgmap').css('height', this.value);\n                        var map = component.find('.ksvgmap').vectorMap('get', 'mapObject');\n                        map.updateSize();\n                    });\n                }\n            });\n        },\n        showSettingForm: function (form, component, keditor) {\n            var height = component.attr('data-height');\n            var defaultState = form.find('.state').val();\n            form.find('.height').val(height);\n            form.find('.stateMessage').val(component.attr('data-' + defaultState));\n        }\n    };\n})(jQuery);\n\r\n/**\n * KEditor Photo Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['photo'] = {\n        init: function (contentArea, container, component, keditor) {\n            flog('init \"photo\" component', component);\n            \n            var componentContent = component.children('.keditor-component-content');\n            var img = componentContent.find('img');\n            \n            img.css('display', 'inline-block');\n            if (!img.css('vertical-align')) {\n                img.css('vertical-align', 'middle');\n            }\n            \n            var options = keditor.options;\n            if (typeof options.onComponentReady === 'function') {\n                options.onComponentReady.call(contentArea, component);\n            }\n        },\n        \n        settingEnabled: true,\n        \n        settingTitle: 'Photo Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"photo\" settings', form, keditor);\n            \n            var self = this;\n            var options = keditor.options;\n            \n            return $.ajax({\n                url: '/static/keditor/componentPhotoSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n                    \n                    var txtLink = form.find('#photo-link');\n                    txtLink.on('change', function () {\n                        var link = this.value.trim();\n                        var pattern = new RegExp('^[a-zA-Z0-9_/%:/./-]+$');\n                        var span = txtLink.next();\n                        var formGroup = txtLink.closest('.form-group');\n                        \n                        if (pattern.test(link)) {\n                            keditor.getSettingComponent().find('a').attr('href', link);\n                            span.hide();\n                            formGroup.removeClass('has-error');\n                        } else {\n                            span.show();\n                            formGroup.addClass('has-error');\n                        }\n                    });\n                    \n                    var cbbTarget = form.find('#photo-target');\n                    cbbTarget.on('change', function () {\n                        keditor.getSettingComponent().find('a').attr('target', this.value);\n                    });\n                    \n                    var chkLinkable = form.find('#photo-linkable');\n                    chkLinkable.on('click', function () {\n                        var img = keditor.getSettingComponent().find('img');\n                        \n                        if (chkLinkable.is(':checked')) {\n                            txtLink.prop('disabled', false);\n                            cbbTarget.prop('disabled', false);\n                            img.wrap('<a href=\"\"></a>');\n                        } else {\n                            txtLink.prop('disabled', true);\n                            cbbTarget.prop('disabled', true);\n                            img.unwrap('a');\n                        }\n                    });\n                    \n                    var photoEdit = form.find('#photo-edit');\n                    photoEdit.mselect({\n                        contentTypes: ['image'],\n                        bs3Modal: true,\n                        pagePath: options.pagePath,\n                        basePath: options.basePath,\n                        onSelectFile: function (url, relativeUrl, fileType, hash) {\n                            var img = keditor.getSettingComponent().find('img');\n                            img.attr('src', \"/_hashes/files/\" + hash);\n                            self.showSettingForm(form, keditor.getSettingComponent(), options);\n                        }\n                    });\n                    \n                    var inputAlign = form.find('#photo-align');\n                    inputAlign.on('change', function () {\n                        var panel = keditor.getSettingComponent().find('.photo-panel');\n                        panel.css('text-align', this.value);\n                    });\n                    \n                    var inputVAlign = form.find('#v-align');\n                    inputVAlign.on('change', function () {\n                        var panel = keditor.getSettingComponent().find('.photo-panel').find('img');\n                        panel.css('vertical-align', this.value);\n                    });\n                    \n                    var inputResponsive = form.find('#photo-responsive');\n                    inputResponsive.on('click', function () {\n                        keditor.getSettingComponent().find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\n                    });\n                    \n                    var cbbStyle = form.find('#photo-style');\n                    cbbStyle.on('change', function () {\n                        var img = keditor.getSettingComponent().find('img');\n                        var val = this.value;\n                        \n                        img.removeClass('img-rounded img-circle img-thumbnail');\n                        if (val) {\n                            img.addClass(val);\n                        }\n                    });\n                    \n                    var inputWidth = form.find('#photo-width');\n                    var inputHeight = form.find('#photo-height');\n                    inputWidth.on('change', function () {\n                        var img = keditor.getSettingComponent().find('img');\n                        var newWidth = +this.value;\n                        var newHeight = Math.round(newWidth / self.ratio);\n                        \n                        if (newWidth <= 0) {\n                            newWidth = self.width;\n                            newHeight = self.height;\n                            this.value = newWidth;\n                        }\n                        \n                        img.css({\n                            'width': newWidth,\n                            'height': newHeight\n                        });\n                        inputHeight.val(newHeight);\n                    });\n                    inputHeight.on('change', function () {\n                        var img = keditor.getSettingComponent().find('img');\n                        var newHeight = +this.value;\n                        var newWidth = Math.round(newHeight * self.ratio);\n                        \n                        if (newHeight <= 0) {\n                            newWidth = self.width;\n                            newHeight = self.height;\n                            this.value = newHeight;\n                        }\n                        \n                        img.css({\n                            'height': newHeight,\n                            'width': newWidth\n                        });\n                        inputWidth.val(newWidth);\n                    });\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"photo\" component', component);\n            \n            var self = this;\n            var inputAlign = form.find('#photo-align');\n            var inputVAlign = form.find('#v-align');\n            var inputResponsive = form.find('#photo-responsive');\n            var inputWidth = form.find('#photo-width');\n            var inputHeight = form.find('#photo-height');\n            var cbbStyle = form.find('#photo-style');\n            var txtLink = form.find('#photo-link');\n            var cbbTarget = form.find('#photo-target');\n            var chkLinkable = form.find('#photo-linkable');\n            \n            txtLink.next().hide();\n            txtLink.closest('.form-group').removeClass('has-error');\n            \n            var panel = component.find('.photo-panel');\n            var img = panel.find('img');\n            \n            var a = img.parent('a');\n            if (a.length > 0) {\n                chkLinkable.prop('checked', true);\n                txtLink.prop('disabled', false).val(a.attr('href'));\n                cbbTarget.prop('disabled', false).val(a.attr('target'));\n            } else {\n                chkLinkable.prop('checked', false);\n                txtLink.prop('disabled', true).val('');\n                cbbTarget.prop('disabled', true).val('');\n            }\n            \n            var algin = panel.css('text-align');\n            if (algin !== 'right' || algin !== 'center') {\n                algin = 'left';\n            }\n            \n            var valign = img.css('vertical-align');\n            \n            if (img.hasClass('img-rounded')) {\n                cbbStyle.val('img-rounded');\n            } else if (img.hasClass('img-circle')) {\n                cbbStyle.val('img-circle');\n            } else if (img.hasClass('img-thumbnail')) {\n                cbbStyle.val('img-thumbnail');\n            } else {\n                cbbStyle.val('');\n            }\n            inputAlign.val(algin);\n            inputVAlign.val(valign);\n            inputResponsive.prop('checked', img.hasClass('img-responsive'));\n            inputWidth.val(img.width());\n            inputHeight.val(img.height());\n            \n            $('<img />').attr('src', img.attr('src')).load(function () {\n                self.ratio = this.width / this.height;\n                self.width = this.width;\n                self.height = this.height;\n            });\n        }\n    };\n    \n})(jQuery);\n\r\n/**\r\n * KEditor Text Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var contentEditor = $.contentEditor;\r\n    var flog = KEditor.log;\r\n    \r\n    CKEDITOR.disableAutoInline = true;\r\n    CKEDITOR.dtd.$removeEmpty['i'] = false;\r\n    \r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"text\" component', component);\r\n            \r\n            var options = keditor.options;\r\n            \r\n            var componentContent = component.find('.keditor-component-content');\r\n            var ckeditorPlace = componentContent.find('.keditor-component-text-content-inner');\r\n            \r\n            if (ckeditorPlace.length === 0) {\r\n                var contentHtml = componentContent.html();\r\n                ckeditorPlace = $('<div class=\"keditor-component-text-content-inner clearfix\"></div>');\r\n                componentContent.html(ckeditorPlace);\r\n                ckeditorPlace.html(contentHtml);\r\n                ckeditorPlace.wrap('<div class=\"keditor-component-text-content\"></div>');\r\n            }\r\n            \r\n            if (!ckeditorPlace.attr('id')) {\r\n                ckeditorPlace.attr('id', keditor.generateId('component-text-content-inner'));\r\n            }\r\n            \r\n            ckeditorPlace.prop('contenteditable', true);\r\n            ckeditorPlace.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n                \r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n                \r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n            \r\n            var editor = ckeditorPlace.ckeditor(options.ckeditorOptions).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n                \r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n        \r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"text\" component', component);\r\n            \r\n            var componentContent = component.find('.keditor-component-content');\r\n            var componentTextContent = componentContent.find('.keditor-component-text-content');\r\n            \r\n            var id = componentTextContent.children().attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                componentTextContent.html('<div class=\"keditor-component-text-content-inner clearfix\">' + editor.getData() + '</div>');\r\n            }\r\n            \r\n            return componentContent.html();\r\n        },\r\n        \r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n            \r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Text Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"text\" component');\r\n            \r\n            return $.ajax({\r\n                url: '/static/keditor/componentTextSettings.html',\r\n                type: 'get',\r\n                dataType: 'HTML',\r\n                success: function (resp) {\r\n                    form.html(resp);\r\n                    \r\n                    // =================================================================================\r\n                    // Backgrounds\r\n                    // =================================================================================\r\n                    var basePath = window.location.pathname.replace('contenteditor', '');\r\n                    if (keditor.options.basePath) {\r\n                        basePath = keditor.options.basePath;\r\n                    }\r\n                    form.find('.background-image-edit').mselect({\r\n                        contentTypes: ['image'],\r\n                        bs3Modal: true,\r\n                        pagePath: basePath,\r\n                        basePath: basePath,\r\n                        onSelectFile: function (url, relativeUrl, fileType, hash) {\r\n                            var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                            var imageUrl = 'http://' + window.location.host + '/_hashes/files/' + hash;\r\n                            target.css('background-image', 'url(\"' + imageUrl + '\")');\r\n                            form.find('.background-image-previewer').attr('src', imageUrl);\r\n                        }\r\n                    });\r\n                    form.find('.background-image-delete').on('click', function (e) {\r\n                        e.preventDefault();\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('background-image', '');\r\n                        form.find('.background-image-previewer').attr('src', '/static/images/photo_holder.png');\r\n                    });\r\n                    \r\n                    var colorPicker = form.find('.txt-bg-color');\r\n                    contentEditor.initSimpleColorPicker(colorPicker, function (color) {\r\n                        target.css('background-color', color);\r\n                    });\r\n                    \r\n                    form.find('.select-bg-repeat').on('change', function () {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        \r\n                        target.css('background-repeat', this.value);\r\n                    });\r\n                    \r\n                    form.find('.select-bg-size').on('change', function () {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        \r\n                        target.css('background-size', this.value);\r\n                    });\r\n                    \r\n                    form.find('.select-bg-position').on('change', function () {\r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        \r\n                        target.css('background-position', this.value);\r\n                    });\r\n                    \r\n                    // =================================================================================\r\n                    // Padding\r\n                    // =================================================================================\r\n                    form.find('.txt-padding').each(function () {\r\n                        var txt = $(this);\r\n                        var styleName = txt.attr('data-style-name');\r\n                        \r\n                        txt.on('change', function () {\r\n                            var paddingValue = this.value || '';\r\n                            var target = keditor.getSettingComponent().find('.keditor-component-text-content').get(0);\r\n                            \r\n                            if (paddingValue.trim() === '') {\r\n                                target.style[styleName] = '';\r\n                            } else {\r\n                                if (isNaN(paddingValue)) {\r\n                                    paddingValue = 0;\r\n                                    this.value = paddingValue;\r\n                                }\r\n                                target.style[styleName] = paddingValue + 'px';\r\n                            }\r\n                        });\r\n                    });\r\n                    \r\n                    // =================================================================================\r\n                    // Margin\r\n                    // =================================================================================\r\n                    form.find('.txt-margin').each(function () {\r\n                        var txt = $(this);\r\n                        var styleName = txt.attr('data-style-name');\r\n                        \r\n                        txt.on('change', function () {\r\n                            var marginValue = this.value || '';\r\n                            var target = keditor.getSettingComponent().find('.keditor-component-text-content').get(0);\r\n                            \r\n                            if (marginValue.trim() === '') {\r\n                                target.style[styleName] = '';\r\n                            } else {\r\n                                if (isNaN(marginValue)) {\r\n                                    marginValue = 0;\r\n                                    this.value = marginValue;\r\n                                }\r\n                                target.style[styleName] = marginValue + 'px';\r\n                            }\r\n                        });\r\n                    });\r\n                    \r\n                    // =================================================================================\r\n                    // Width and Height\r\n                    // =================================================================================\r\n                    form.find('.txt-height').on('change', function () {\r\n                        var height = this.value || '';\r\n                        if (isNaN(height)) {\r\n                            height = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('height', height);\r\n                    });\r\n                    \r\n                    form.find('.txt-max-height').on('change', function () {\r\n                        var maxHeight = this.value || '';\r\n                        if (isNaN(maxHeight)) {\r\n                            maxHeight = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('max-height', maxHeight + 'px');\r\n                    });\r\n                    \r\n                    form.find('.txt-width').on('change', function () {\r\n                        var width = this.value || '';\r\n                        if (isNaN(width)) {\r\n                            width = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('width', width);\r\n                    });\r\n                    \r\n                    form.find('.txt-max-width').on('change', function () {\r\n                        var maxWidth = this.value || '';\r\n                        if (isNaN(maxWidth)) {\r\n                            maxWidth = '';\r\n                        }\r\n                        \r\n                        var target = keditor.getSettingComponent().find('.keditor-component-text-content');\r\n                        target.css('max-width', maxWidth + 'px');\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"text\" component', component);\r\n\r\n            var target = component.find('.keditor-component-text-content').get(0);\r\n\r\n            var imageUrl = target.style.backgroundImage;\r\n            imageUrl = (imageUrl || '').replace(/^url\\(['\"]+(.+)['\"]+\\)$/, '$1');\r\n            form.find('.background-image-previewer').attr('src', imageUrl !== 'none' && imageUrl !== '' ? imageUrl : '/static/images/photo_holder.png');\r\n\r\n            form.find('.select-bg-repeat').val(target.style.backgroundRepeat || 'repeat');\r\n            form.find('.select-bg-position').val(target.style.backgroundPosition || '0% 0%');\r\n            form.find('.select-bg-size').val(target.style.backgroundSize || 'auto');\r\n\r\n            form.find('.txt-bg-color').val(target.style.backgroundColor || '').trigger('update')\r\n\r\n            form.find('.txt-padding').each(function () {\r\n                var txt = $(this);\r\n                var styleName = txt.attr('data-style-name');\r\n\r\n                txt.val((target.style[styleName] || '').replace('px', ''));\r\n            });\r\n            form.find('.txt-margin').each(function () {\r\n                var txt = $(this);\r\n                var styleName = txt.attr('data-style-name');\r\n\r\n                txt.val((target.style[styleName] || '').replace('px', ''));\r\n            });\r\n\r\n            form.find('.txt-height').val((target.style.height || '').replace('px', ''));\r\n            form.find('.txt-max-height').val((target.style.maxHeight || '').replace('px', ''));\r\n            form.find('.txt-width').val((target.style.width || '').replace('px', ''));\r\n            form.find('.txt-maxWith').val((target.style.maxWidth || '').replace('px', ''));\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n\r\n/**\n * KEditor Video Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['video'] = {\n        init: function (contentArea, container, component, keditor) {\n            flog('init \"video\" component', component);\n            \n            var self = this;\n            \n            var img = component.find('img[data-video-src]');\n            img.attr('id', keditor.generateId('component-video'));\n            \n            var wrapper = img.parent();\n            if (!wrapper.hasClass('video-wrapper')) {\n                img.wrap('<div class=\"video-wrapper\"></div>');\n                wrapper = img.parent();\n            }\n            \n            wrapper.attr('data-id', img.attr('id'));\n            wrapper.attr('data-autostart', img.attr('data-autostart'));\n            wrapper.attr('data-aspectratio', img.attr('data-aspectratio'));\n            wrapper.attr('data-video-src', img.attr('data-video-src'));\n            wrapper.attr('data-repeat', img.attr('data-repeat'));\n            wrapper.attr('data-controls', img.attr('data-controls'));\n            \n            $.getScriptOnce('/static/jwplayer/6.10/jwplayer.js', function () {\n                jwplayer.key = 'cXefLoB9RQlBo/XvVncatU90OaeJMXMOY/lamKrzOi0=';\n                self.buildJWVideoPlayerPreview(component);\n            });\n        },\n        \n        getContent: function (component) {\n            flog('getContent \"video\" component, component');\n            \n            var wrapper = component.find('.video-wrapper');\n            var html = '<img class=\"video-jw\" ';\n            html += '       id=\"' + this.componentId + '\" ';\n            html += '       src=\"' + wrapper.attr('data-video-src') + '/alt-640-360.png\" ';\n            html += '       data-autostart=\"' + wrapper.attr('data-autostart') + '\" ';\n            html += '       data-aspectratio=\"' + wrapper.attr('data-aspectratio') + '\" ';\n            html += '       data-video-src=\"' + wrapper.attr('data-video-src') + '\" ';\n            html += '       data-repeat=\"' + wrapper.attr('data-repeat') + '\" ';\n            html += '       data-controls=\"' + wrapper.attr('data-controls') + '\" />';\n            wrapper.html(html);\n            \n            return component.find('.keditor-component-content').html();\n        },\n        \n        settingEnabled: true,\n        \n        settingTitle: 'Video Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"video\" settings', form);\n            var self = this;\n            \n            return $.ajax({\n                url: '/static/keditor/componentVideoSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n                    \n                    var selectPicker = form.find('.select-border-style');\n                    selectPicker.selectpicker().on('changed.bs.select', function () {\n                        self.borderStyle = this.value;\n                        keditor.getSettingComponent().find('.video-wrapper').css('border-style', this.value);\n                    });\n                    \n                    var txtBorderWidth = form.find('.border-width');\n                    txtBorderWidth.on('change', function () {\n                        var width = this.value;\n                        if (isNaN(width) || width < 0) {\n                            width = 1;\n                            this.value = width;\n                        }\n                        \n                        self.borderWidth = width;\n                        keditor.getSettingComponent().find('.video-wrapper').css('border-width', width);\n                    });\n                    \n                    var colorPicker = form.find('.color-picker');\n                    var input = colorPicker.find('input');\n                    var previewer = colorPicker.find('.input-group-addon i');\n                    colorPicker.colorpicker({\n                        format: 'hex',\n                        container: colorPicker.parent(),\n                        component: '.input-group-addon',\n                        align: 'left',\n                        colorSelectors: {\n                            'transparent': 'transparent'\n                        }\n                    }).on('changeColor.colorpicker', function (e) {\n                        var colorHex = e.color.toHex();\n                        \n                        if (!input.val() || input.val().trim().length === 0) {\n                            colorHex = '';\n                            previewer.css('background-color', '');\n                        }\n                        \n                        self.borderColor = colorHex;\n                        keditor.getSettingComponent().find('.video-wrapper').css('border-color', colorHex);\n                    });\n                    \n                    form.find('.chk-border').on('click', function () {\n                        selectPicker.prop('disabled', !this.checked).selectpicker('refresh');\n                        txtBorderWidth.prop('disabled', !this.checked);\n                        colorPicker.colorpicker(this.checked ? 'enable' : 'disable');\n                        \n                        if (!this.checked) {\n                            keditor.getSettingComponent().find('.video-wrapper').css('border', '');\n                            selectPicker.selectpicker('val', '');\n                            txtBorderWidth.val('');\n                            colorPicker.colorpicker('setValue', 'transparent');\n                        }\n                    });\n                    \n                    var btnVideoFileInput = form.find('.btn-videoFileInput');\n                    btnVideoFileInput.mselect({\n                        contentTypes: ['video'],\n                        bs3Modal: true,\n                        pagePath: window.location.pathname.replace('contenteditor', ''),\n                        onSelectFile: function (url) {\n                            keditor.getSettingComponent().find('.video-wrapper').attr('data-video-src', url);\n                            self.refreshVideoPlayerPreview(keditor);\n                        }\n                    });\n                    \n                    var autoplayToggle = form.find('#video-autoplay');\n                    autoplayToggle.on('click', function () {\n                        keditor.getSettingComponent().find('.video-wrapper').attr('data-autostart', this.checked);\n                        self.buildJWVideoPlayerPreview(keditor);\n                    });\n                    \n                    var loopToggle = form.find('#video-loop');\n                    loopToggle.on('click', function () {\n                        keditor.getSettingComponent().find('.video-wrapper').attr('data-repeat', this.checked);\n                        self.buildJWVideoPlayerPreview(keditor);\n                    });\n                    \n                    var ratio = form.find('.video-ratio');\n                    ratio.on('click', function (e) {\n                        if (this.checked) {\n                            keditor.getSettingComponent().find('.video-wrapper').attr('data-aspectratio', this.value);\n                            self.buildJWVideoPlayerPreview(keditor);\n                        }\n                    });\n                    \n                    var showcontrolsToggle = form.find('#video-showcontrols');\n                    showcontrolsToggle.on('click', function (e) {\n                        keditor.getSettingComponent().find('.video-wrapper').attr('data-controls', this.checked);\n                        self.buildJWVideoPlayerPreview(keditor);\n                    });\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"video\" component', form, component);\n            \n            var wrapper = component.find('.video-wrapper');\n            var borderWidth = wrapper.css('border-width') || '';\n            var isBorderEnabled = borderWidth !== '0px';\n            \n            var chkBorder = form.find('.chk-border');\n            var txtBorderWidth = form.find('.border-width');\n            var colorPicker = form.find('.color-picker');\n            var selectPicker = form.find('.select-border-style');\n            \n            chkBorder.prop('checked', isBorderEnabled);\n            selectPicker.prop('disabled', !isBorderEnabled).selectpicker('refresh').selectpicker('val', wrapper.css('border-style'));\n            txtBorderWidth.prop('disabled', !isBorderEnabled).val(isBorderEnabled ? borderWidth.replace('px', '') : '');\n            colorPicker.colorpicker(isBorderEnabled ? 'enable' : 'disable').colorpicker('setValue', isBorderEnabled ? wrapper.css('border-color') : '');\n            \n            form.find('#video-autoplay').prop('checked', wrapper.attr('data-autostart') === 'true');\n            form.find('#video-loop').prop('checked', wrapper.attr('data-repeat') === 'true');\n            form.find('.video-ratio').filter('[value=\"' + wrapper.attr('data-aspectratio') + '\"]').prop('checked', true);\n            form.find('#video-showcontrols').prop('checked', wrapper.attr('data-controls') === 'true');\n        },\n        \n        buildJWVideoPlayerPreview: function (component) {\n            if (!component.jquery) {\n                component = component.getSettingComponent();\n            }\n            var wrapper = component.find('.video-wrapper');\n            var src = wrapper.attr('data-video-src');\n            var autostart = wrapper.attr('data-autostart');\n            var repeat = wrapper.attr('data-repeat');\n            var aspectratio = wrapper.attr('data-aspectratio');\n            var controls = wrapper.attr('data-controls');\n            var playerInstance = jwplayer(wrapper.attr('data-id'));\n            var posterHref = src + '/alt-640-360.png';\n            \n            flog(\"buildJWPlayer\", src, \"aspectratio=\", aspectratio);\n            playerInstance.setup({\n                autostart: autostart,\n                repeat: repeat,\n                controls: controls,\n                aspectratio: aspectratio,\n                flashplayer: \"/static/jwplayer/6.10/jwplayer.flash.swf\",\n                html5player: \"/static/jwplayer/6.10/jwplayer.html5.js\",\n                width: \"100%\",\n                androidhls: true, //enable hls on android 4.1+\n                playlist: [{\n                    image: posterHref,\n                    sources: [{\n                        file: src\n                    }\n                        , {\n                            file: src + \"/../alt-640-360.webm\"\n                        }, {\n                            file: src + \"/../alt-640-360.m4v\"\n                        }]\n                }]\n                , primary: \"flash\"\n            });\n            \n            playerInstance.onReady(function () {\n                flog('jwplayer preview init done');\n            });\n        },\n        \n        refreshVideoPlayerPreview: function (keditor) {\n            var wrapper = keditor.getSettingComponent().find('.video-wrapper');\n            var playerInstance = jwplayer(wrapper.attr('data-id'));\n            var src = wrapper.attr('data-video-src');\n            \n            playerInstance.load([{\n                file: src\n            }]);\n            playerInstance.play();\n        }\n    };\n})(jQuery);\n\r\n/**\n * KEditor Vimeo Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['vimeo'] = {\n        getContent: function (component, keditor) {\n            flog('getContent \"vimeo\" component', component);\n            \n            var componentContent = component.children('.keditor-component-content');\n            componentContent.find('.vimeo-cover').remove();\n            \n            return componentContent.html();\n        },\n        \n        settingEnabled: true,\n        \n        settingTitle: 'Vimeo Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"vimeo\" settings', form);\n            \n            return $.ajax({\n                url: '/static/keditor/componentVimeoSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n                    \n                    var btnEdit = form.find('.btn-vimeo-edit');\n                    btnEdit.on('click', function (e) {\n                        e.preventDefault();\n                        \n                        var inputData = prompt('Please enter Vimeo URL in here:');\n                        var vimeoRegex = /https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/;\n                        var match = inputData.match(vimeoRegex);\n                        if (match && match[1]) {\n                            keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://player.vimeo.com/video/' + match[1] + '?byline=0&portrait=0&badge=0');\n                        } else {\n                            alert('Your Vimeo URL is invalid!');\n                        }\n                    });\n                    \n                    var btn169 = form.find('.btn-vimeo-169');\n                    btn169.on('click', function (e) {\n                        e.preventDefault();\n                        \n                        keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\n                    });\n                    \n                    var btn43 = form.find('.btn-vimeo-43');\n                    btn43.on('click', function (e) {\n                        e.preventDefault();\n                        \n                        keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\n                    });\n                    \n                    var chkAutoplay = form.find('#vimeo-autoplay');\n                    chkAutoplay.on('click', function () {\n                        var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\n                        var currentUrl = embedItem.attr('src');\n                        var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?byline=0&portrait=0&badge=0&autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\n                        \n                        flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\n                        embedItem.attr('src', newUrl);\n                    });\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"vimeo\" component', component);\n            \n            var embedItem = component.find('.embed-responsive-item');\n            var chkAutoplay = form.find('#vimeo-autoplay');\n            var src = embedItem.attr('src');\n            \n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\n        }\n    };\n    \n})(jQuery);\n\r\n/**\n * KEditor Youtube Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['youtube'] = {\n        getContent: function (component, keditor) {\n            flog('getContent \"youtube\" component', component);\n            \n            var componentContent = component.children('.keditor-component-content');\n            componentContent.find('.youtube-cover').remove();\n            \n            return componentContent.html();\n        },\n        \n        settingEnabled: true,\n        \n        settingTitle: 'Youtube Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"youtube\" settings', form);\n            \n            return $.ajax({\n                url: '/static/keditor/componentYoutubeSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n                    \n                    var btnEdit = form.find('.btn-youtube-edit');\n                    btnEdit.on('click', function (e) {\n                        e.preventDefault();\n                        \n                        var inputData = prompt('Please enter Youtube URL in here:');\n                        var youtubeRegex = /^(?:http(?:s)?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\\/))([^\\?&\\\"'>]+)/;\n                        var match = inputData.match(youtubeRegex);\n                        if (match && match[1]) {\n                            keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://www.youtube.com/embed/' + match[1]);\n                        } else {\n                            alert('Your Youtube URL is invalid!');\n                        }\n                    });\n                    \n                    var btn169 = form.find('.btn-youtube-169');\n                    btn169.on('click', function (e) {\n                        e.preventDefault();\n                        \n                        keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\n                    });\n                    \n                    var btn43 = form.find('.btn-youtube-43');\n                    btn43.on('click', function (e) {\n                        e.preventDefault();\n                        \n                        keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\n                    });\n                    \n                    var chkAutoplay = form.find('#youtube-autoplay');\n                    chkAutoplay.on('click', function () {\n                        var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\n                        var currentUrl = embedItem.attr('src');\n                        var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\n                        \n                        flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\n                        embedItem.attr('src', newUrl);\n                    });\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"youtube\" component', component);\n            \n            var embedItem = component.find('.embed-responsive-item');\n            var chkAutoplay = form.find('#youtube-autoplay');\n            var src = embedItem.attr('src');\n            \n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\n        }\n    };\n    \n})(jQuery);\n"],"sourceRoot":"/source/"}