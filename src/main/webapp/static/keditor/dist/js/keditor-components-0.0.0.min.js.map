{"version":3,"sources":["keditor-components-0.0.0.js"],"names":["$","KEditor","keditor","flog","log","components","init","contentArea","container","component","this","img","find","componentId","attr","generateId","parent","hasClass","wrap","src","width","autostart","instance","getScriptOnce","jwplayer","key","buildJWAudioPlayerPreview","getContent","html","settingEnabled","settingTitle","initSettingForm","form","append","showSettingForm","btnAudioFileInput","mselect","contentTypes","bs3Modal","pagePath","window","location","pathname","replace","onSelectFile","url","refreshAudioPlayerPreview","autoplayToggle","prop","on","e","checked","audioWidth","val","value","resizeAudioPlayerPreview","playerInstance","setup","file","height","flashplayer","html5player","primary","onReady","load","play","resize","jQuery","componentContent","children","carousel","id","basePath","substr","lastIndexOf","carouselAddImage","carouselImageWrap","self","relUrl","type","hash","addImageToList","addImageToCarousel","getSettingComponent","sortable","handle","items","axis","tolerance","sort","removeClass","update","rearrangeItems","document","body","preventDefault","confirm","btn","closest","siblings","refreshCarousel","remove","comp","each","index","item","isWrap","pause","interval","length","cls","addClass","carouselImageItem","script","removeAttr","place","maptype","trigger","apiKey","mapjs","google","maps","places","not","data","event","initAutocomplete","input","i","setInterval","clearInterval","keyCode","iframe","alert","btn169","btn43","ratio169","ratio43","firstLoad","googleMapInitialized","setTimeout","mapdiv","map","Map","zoom","mapTypeId","searchBox","SearchBox","addListener","setBounds","getBounds","markers","getPlaces","forEach","marker","setMap","bounds","LatLngBounds","geometry","console","icon","size","Size","origin","Point","anchor","scaledSize","push","Marker","title","name","position","viewport","union","extend","fitBounds","initKeditorMapSetting","initColorPicker","target","onChangeHandle","colorPicker","previewer","colorpicker","format","align","colorSelectors","transparent","colorHex","color","toHex","trim","css","options","toolbarGroups","groups","allowedContent","bodyId","templates_replaceContent","enterMode","forceEnterMode","format_tags","removePlugins","removeButtons","minimumChangeMilliseconds","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","onComponentReady","buttonColorPicker","destroy","CKEDITOR","instances","photoEdit","inputAlign","panel","inputResponsive","cbbStyle","inputWidth","inputHeight","newWidth","newHeight","Math","round","ratio","algin","disableAutoInline","dtd","$removeEmpty","getData","aspectratio","repeat","controls","getScript","buildJWVideoPlayerPreview","posterHref","btnVideoFileInput","refreshVideoPlayerPreview","loopToggle","showcontrolsToggle","androidhls","playlist","image","sources","btnEdit","inputData","prompt","vimeoRegex","match","chkAutoplay","embedItem","currentUrl","newUrl","is","indexOf","youtubeRegex"],"mappings":"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","file":"keditor-components-0.0.0.min.js","sourcesContent":["/**\r\n * KEditor Audio Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['audio'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"audio\" component', component);\r\n\r\n            this.component = component;\r\n            var img = component.find('img[data-src]');\r\n            var componentId = '';\r\n            if (!img.attr('id')) {\r\n                componentId = keditor.generateId('component-audio');\r\n                img.attr('id', componentId);\r\n            } else {\r\n                componentId = img.attr('id');\r\n            }\r\n            if (!img.parent().hasClass('audio-wrapper')) {\r\n                img.wrap('<div class=\"audio-wrapper\"></div>');\r\n            }\r\n            this.src = img.attr('data-src');\r\n            this.width = img.attr('data-width');\r\n            this.autostart = img.attr('data-autostart') === 'true';\r\n            var instance = this;\r\n            $.getScriptOnce('/static/jwplayer/6.10/jwplayer.js', function () {\r\n                jwplayer.key = 'cXefLoB9RQlBo/XvVncatU90OaeJMXMOY/lamKrzOi0=';\r\n                instance.buildJWAudioPlayerPreview(componentId);\r\n            });\r\n\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"audio\" component', component);\r\n\r\n            var img = component.find('img[data-src]');\r\n            var componentId = img.attr('id');\r\n\r\n            var html = '<img data-componentId=\"' + componentId + '\" src=\"/theme/apps/content/preview/audio.png\" data-autostart=\"' + this.autostart + '\" data-width=\"' + this.width + '\" data-src=\"' + this.src + '\" data-kaudio=\"' + this.src + '\" />';\r\n            return html;\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Audio settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"audio\" settings', form);\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"audioFileInput\" class=\"col-sm-12\">Audio file</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<div class=\"audio-toolbar\">' +\r\n                '<a href=\"#\" class=\"btn-audioFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n                '<input id=\"audioFileInput\" type=\"file\" style=\"display: none\">' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"audio-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"checkbox\" id=\"audio-autoplay\" />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"audio-width\" class=\"col-sm-12\">Width (px)</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"number\" id=\"audio-width\" min=\"200\" max=\"500\" class=\"form-control\" value=\"300\" />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"audio\" component', form, component);\r\n\r\n            var instance = this;\r\n            var btnAudioFileInput = form.find('.btn-audioFileInput');\r\n            btnAudioFileInput.mselect({\r\n                contentTypes: ['audio'],\r\n                bs3Modal: true,\r\n                pagePath: window.location.pathname.replace('contenteditor', ''),\r\n                onSelectFile: function (url) {\r\n                    instance.src = url;\r\n                    instance.refreshAudioPlayerPreview();\r\n                }\r\n            });\r\n\r\n            var img = component.find('img[data-src]');\r\n            var componentId = img.attr('id');\r\n\r\n            var autoplayToggle = form.find('#audio-autoplay');\r\n            if (this.autostart) {\r\n                autoplayToggle.prop('checked', true);\r\n            }\r\n            autoplayToggle.on('click', function (e) {\r\n                instance.autostart = this.checked;\r\n                instance.buildJWAudioPlayerPreview(componentId);\r\n            });\r\n\r\n            var audioWidth = form.find('#audio-width');\r\n            audioWidth.val(this.width);\r\n            audioWidth.on('change', function () {\r\n                instance.width = this.value;\r\n                instance.resizeAudioPlayerPreview();\r\n            });\r\n        },\r\n\r\n        buildJWAudioPlayerPreview: function (componentId) {\r\n            var width = this.width;\r\n            var src = this.src;\r\n            var autostart = this.autostart;\r\n            var playerInstance = jwplayer(componentId);\r\n            playerInstance.setup({\r\n                file: src,\r\n                width: width,\r\n                height: 30,\r\n                autostart: autostart,\r\n                flashplayer: \"/static/jwplayer/6.10/jwplayer.flash.swf\",\r\n                html5player: \"/static/jwplayer/6.10/jwplayer.html5.js\",\r\n                primary: \"flash\"\r\n            });\r\n            playerInstance.onReady(function () {\r\n                log('jwplayer preview init done');\r\n            });\r\n        },\r\n\r\n        refreshAudioPlayerPreview: function () {\r\n            var instance = this;\r\n            var playerInstance = jwplayer(instance.componentId);\r\n            var src = instance.src;\r\n            playerInstance.load([{\r\n                file: src\r\n            }]);\r\n            playerInstance.play();\r\n        },\r\n\r\n        resizeAudioPlayerPreview: function () {\r\n            var instance = this;\r\n            var playerInstance = jwplayer(instance.componentId);\r\n            var width = instance.width;\r\n\r\n            playerInstance.resize(width, 30);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * Created by Anh on 7/27/2016.\r\n */\r\n/**\r\n * KEditor Carousel Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['carousel'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"carousel\" component', component);\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var carousel = componentContent.find('.carousel');\r\n            var id = keditor.generateId('component-carousel');\r\n            carousel.attr('id', id);\r\n            carousel.find('.carousel-indicators li').attr('data-target', id);\r\n            carousel.find('.carousel-control').attr('href', '#' + id);\r\n        },\r\n        getContent: function (component, keditor) {\r\n            var componentContent = component.children('.keditor-component-content');\r\n            return componentContent.html();\r\n        },\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Carousel settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <div class=\"carouselImageWrap\"></div>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary carouselAddImage\"><i class=\"fa fa-plus\"></i> Add Image</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-responsive\" class=\"col-sm-12\">Cycle continuously</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" class=\"carouselWrap\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-align\" class=\"col-sm-12\">Pause</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select class=\"form-control carouselPause\">' +\r\n                '               <option selected value=\"\">No</option>' +\r\n                '               <option value=\"hover\">Hover</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Interval</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" class=\"form-control carouselInterval\" value=\"5000\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var basePath = window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/') + 1);\r\n            var carouselAddImage = form.find('.carouselAddImage');\r\n            var carouselImageWrap = form.find('.carouselImageWrap');\r\n            var self = this;\r\n\r\n            carouselAddImage.mselect({\r\n                contentTypes: ['image'],\r\n                bs3Modal: true,\r\n                pagePath: basePath,\r\n                basePath: basePath,\r\n                onSelectFile: function (url, relUrl, type, hash) {\r\n                    flog('keditor carousel selected a file', url, hash);\r\n                    self.addImageToList(form, url, hash);\r\n                    self.addImageToCarousel(keditor.getSettingComponent(), url, hash);\r\n                }\r\n            });\r\n\r\n            carouselImageWrap.sortable({\r\n                handle: '.btn-sort-image',\r\n                items: '> .carouselImageItem',\r\n                axis: 'y',\r\n                tolerance: 'pointer',\r\n                sort: function () {\r\n                    $(this).removeClass('ui-state-default');\r\n                },\r\n                update: function () {\r\n                    self.rearrangeItems(keditor.getSettingComponent(),form);\r\n                }\r\n            });\r\n\r\n            $(document.body).on('click', '.carouselImageItem a.btn-remove-image', function (e) {\r\n                e.preventDefault();\r\n\r\n                if (confirm('Are you sure that you want to delete this image?')) {\r\n                    var btn = $(this);\r\n                    var hash = btn.closest('.btn-group').siblings('[data-hash]').attr('data-hash');\r\n\r\n                    self.refreshCarousel(keditor.getSettingComponent(), hash);\r\n                    btn.closest('.carouselImageItem').remove();\r\n                }\r\n            });\r\n\r\n            form.find('.carouselPause').on('change', function (e) {\r\n                e.preventDefault();\r\n                var comp = keditor.getSettingComponent().find('.carousel');\r\n                comp.attr('data-pause', this.value);\r\n            });\r\n\r\n            form.find('.carouselInterval').on('change', function (e) {\r\n                e.preventDefault();\r\n                var comp = keditor.getSettingComponent().find('.carousel');\r\n                comp.attr('data-interval', this.value);\r\n            });\r\n\r\n            form.find('.carouselWrap').on('click', function (e) {\r\n                var comp = keditor.getSettingComponent().find('.carousel');\r\n                if (this.checked) {\r\n                    comp.attr('data-wrap', 'true');\r\n                } else {\r\n                    comp.attr('data-wrap', 'false');\r\n                }\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            var self = this;\r\n            form.find('.carouselImageWrap').html('');\r\n            component.find('.carousel-inner > .item').each(function (index, item) {\r\n                var url = $(item).find('img').attr('src');\r\n                var hash = $(item).attr('data-hash');\r\n                self.addImageToList(form, url, hash);\r\n            });\r\n\r\n            var isWrap = component.find('.carousel').attr('data-wrap');\r\n            var pause = component.find('.carousel').attr('data-pause');\r\n            var interval = component.find('.carousel').attr('data-interval');\r\n\r\n            form.find('.carouselPause').val(pause);\r\n            form.find('.carouselInterval').val(interval);\r\n            form.find('.carouselWrap').prop('checked', isWrap === 'true');\r\n        },\r\n\r\n        addImageToCarousel: function (component, url, hash) {\r\n            var carousel = component.find('.carousel');\r\n            var index = carousel.find('.carousel-indicators').children().length;\r\n            var cls = index === 0 ? 'active' : '';\r\n            carousel.find('.carousel-indicators').append('<li data-target=\"' + carousel.attr('id') + '\" data-slide-to=\"' + index + '\" class=\"' + cls + '\"></li>');\r\n\r\n            carousel.find('.carousel-inner').append(\r\n                '<div data-hash=\"' + hash + '\" class=\"item ' + cls + '\">' +\r\n                '   <img src=\"' + url + '\" alt=\"\" width=\"100%\" height=\"\" />' +\r\n                '   <div class=\"carousel-caption\"></div>' +\r\n                '</div>'\r\n            );\r\n        },\r\n\r\n        addImageToList: function (form, src, hash) {\r\n            form.find('.carouselImageWrap').append(\r\n                '<div class=\"carouselImageItem\">' +\r\n                '   <img class=\"img-responsive\" src=\"' + src + '\" data-hash=\"' + hash + '\" />' +\r\n                '   <div class=\"btn-group btn-group-sm\">' +\r\n                '       <a class=\"btn btn-info btn-sort-image\" href=\"#\"><i class=\"fa fa-sort\"></i></a>' +\r\n                '       <a title=\"Delete this image\" class=\"btn btn-danger btn-remove-image\" href=\"#\"><i class=\"fa fa-trash\"></i></a>' +\r\n                '   </div>' +\r\n                '</div>'\r\n            );\r\n        },\r\n\r\n        refreshCarousel: function (component, hash) {\r\n            component.find('[data-hash=' + hash + ']').remove();\r\n            if (!component.find('.carousel-inner .item.active').length) {\r\n                component.find('.carousel-inner .item:first-child').addClass('active');\r\n            }\r\n            component.find('.carousel-indicators li:last-child').remove();\r\n        },\r\n\r\n        rearrangeItems: function (component, form) {\r\n            var self = this;\r\n            var carousel = component.find('.carousel');\r\n            carousel.find('.carousel-inner').html('');\r\n            carousel.find('.carousel-indicators').html('');\r\n\r\n            form.find('.carouselImageWrap').find('.carouselImageItem').each(function () {\r\n                var carouselImageItem = $(this);\r\n                var img = carouselImageItem.find('img');\r\n\r\n                self.addImageToCarousel(component, img.attr('src'), img.attr('data-hash'));\r\n            });\r\n        }\r\n    }\r\n\r\n})(jQuery);\r\n/**\r\n * KEditor Google Map Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['googlemap'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            var script = component.find('script');\r\n            if (script.length) {\r\n                script.remove();\r\n            }\r\n            component.removeAttr('data-firstLoad');\r\n            var place = component.attr('data-place');\r\n            var maptype = component.attr('data-maptype');\r\n            if (place && maptype === 'manually') {\r\n                $(window).on('load', function () {\r\n                    component.find('.btn-component-setting').trigger('click');\r\n                });\r\n            }\r\n        },\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"googlemap\" component', component);\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.googlemap-cover').remove();\r\n            var place = component.attr('data-place');\r\n            var maptype = component.attr('data-maptype');\r\n            component.find('.kgooglemap').html('');\r\n            var script = '<script>$(function(){if(!$(document.body).hasClass(\"content-editor-page\")){var apiKey=\"AIzaSyBUcuZxwpBXCPztG7ot-rITXJbycPuS7gs\";var s=document.createElement(\"script\");s.type=\"text/javascript\";s.async=true;s.defer=true;s.src=\"https://maps.googleapis.com/maps/api/js?key=\"+apiKey+\"&callback=kgooglemapInit&libraries=places\";$(\"head\").append(s);window.kgooglemapInit=function(){var mapdiv=$(\".kgooglemap\").not(\".hide\");mapdiv.each(function(){var parent=$(this).parents(\"[data-type=component-googlemap]\");if(parent.attr(\"data-maptype\")!==\"manually\")return;var map=new google.maps.Map(this,{zoom:13,mapTypeId:\"roadmap\"});var place=parent.attr(\"data-place\");var input=parent.find(\"input\")[0];input.value=place;var searchBox=new google.maps.places.SearchBox(input);map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);setTimeout(function(){google.maps.event.trigger(input,\"focus\");google.maps.event.trigger(input,\"keydown\",{keyCode:13});},500);map.addListener(\"bounds_changed\",function(){searchBox.setBounds(map.getBounds());});var markers=[];searchBox.addListener(\"places_changed\",function(){var places=searchBox.getPlaces();if(places.length==0){return;}markers.forEach(function(marker){marker.setMap(null);});markers=[];var bounds=new google.maps.LatLngBounds();places.forEach(function(place){if(!place.geometry){console.log(\"Returned place contains no geometry\");return;}var icon={url:place.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};markers.push(new google.maps.Marker({map:map,icon:icon,title:place.name,position:place.geometry.location}));if(place.geometry.viewport){bounds.union(place.geometry.viewport);}else{bounds.extend(place.geometry.location);}});map.fitBounds(bounds);});})}}});</script>';\r\n            component.find('.embed-responsive').append(script);\r\n            return componentContent.html();\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Google Map Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"googlemap\" component');\r\n            var apiKey = 'AIzaSyBUcuZxwpBXCPztG7ot-rITXJbycPuS7gs';\r\n            var mapjs = '<script src=\"https://maps.googleapis.com/maps/api/js?key=' + apiKey + '&callback=initKeditorMapSetting&libraries=places\" async defer></script>';\r\n            if (window.google && window.google.maps && google.maps.places){\r\n                mapjs = '';\r\n            }\r\n            form.append(\r\n                mapjs +\r\n                '<form class=\"form-horizontal\" onsubmit=\"return false;\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Map type</label>' +\r\n                '       <div class=\"radio-inline\">' +\r\n                '           <label class=\"radio-inline\"><input checked type=\"radio\" name=\"mapType\" class=\"mapType\" value=\"embed\"> Embed</label>' +\r\n                '           <label class=\"radio-inline\"><input type=\"radio\" name=\"mapType\" class=\"mapType\" value=\"manually\"> Manually</label>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group embed\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <textarea class=\"form-control\" name=\"mapEmbedCode\" placeholder=\"Embed code\"></textarea>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group manually hide\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input class=\"form-control\" name=\"mapAddress\" placeholder=\"Enter address\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n            form.find('.mapType').on('click', function (e) {\r\n                if (this.checked) {\r\n                    $('.' + this.value).removeClass('hide');\r\n                    var cls = form.find('.mapType').not(this).val();\r\n                    $('.' + cls).addClass('hide');\r\n                    var comp = keditor.getSettingComponent();\r\n                    comp.attr('data-maptype', this.value);\r\n                    if (this.value === 'manually') {\r\n                        comp.find('iframe').addClass('hide');\r\n                        comp.find('.kgooglemap').removeClass('hide');\r\n                        if (comp.find('.kgooglemap').data('map')) {\r\n                            google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\r\n                        } else {\r\n                            self.initAutocomplete(comp, form);\r\n                            var input = form.find('[name=mapAddress]')[0];\r\n                            var i = setInterval(function(){\r\n                                if (comp.find('.kgooglemap').data('map')){\r\n                                    clearInterval(i);\r\n                                    google.maps.event.trigger(input, 'focus')\r\n                                    google.maps.event.trigger(input, 'keydown', {\r\n                                        keyCode: 13\r\n                                    });\r\n                                }\r\n                            },100);\r\n                        }\r\n                    } else {\r\n                        comp.find('iframe').removeClass('hide');\r\n                        comp.find('.kgooglemap').addClass('hide');\r\n                    }\r\n                }\r\n            });\r\n\r\n            var self = this;\r\n            form.find('[name=mapEmbedCode]').on('change', function () {\r\n                var iframe = $(this.value);\r\n                var src = iframe.attr('src');\r\n                if (iframe.length > 0 && src && src.length > 0) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', src);\r\n                } else {\r\n                    alert('Your Google Map embed code is invalid!');\r\n                }\r\n            });\r\n\r\n\r\n            var btn169 = form.find('.btn-googlemap-169');\r\n            var btn43 = form.find('.btn-googlemap-43');\r\n\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n                $(this).addClass('btn-primary').removeClass('btn-default');\r\n                btn43.removeClass('btn-primary').addClass('btn-default');\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n                var comp = keditor.getSettingComponent();\r\n                if (comp.attr('maptype') === 'manually') {\r\n                    if (comp.find('.kgooglemap').data('map')) {\r\n                        google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\r\n                    }\r\n                }\r\n            });\r\n\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n                $(this).addClass('btn-primary').removeClass('btn-default');\r\n                btn169.removeClass('btn-primary').addClass('btn-default');\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n                var comp = keditor.getSettingComponent();\r\n                if (comp.attr('maptype') === 'manually') {\r\n                    if (comp.find('.kgooglemap').data('map')) {\r\n                        google.maps.event.trigger(comp.find('.kgooglemap').data('map'), \"resize\");\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        showSettingForm: function (form, component, keditor) {\r\n            var self = this;\r\n            var maptype = component.attr('data-maptype');\r\n            var place = component.attr('data-place');\r\n            var ratio169 = component.find('.embed-responsive').hasClass('embed-responsive-16by9');\r\n            var ratio43 = component.find('.embed-responsive').hasClass('embed-responsive-4by3');\r\n            if (ratio43){\r\n                form.find('.btn-googlemap-43').addClass('btn-primary').removeClass('btn-default');\r\n            }\r\n            if (ratio169){\r\n                form.find('.btn-googlemap-169').addClass('btn-primary').removeClass('btn-default');\r\n            }\r\n            form.find('.mapType[value=' + maptype + ']').prop('checked', true);\r\n            var src = component.find('iframe').attr('src');\r\n            var iframe = '<iframe class=\"embed-responsive-item\" src=\"' + src + '\"></iframe>';\r\n            if (!place){\r\n                place = 'Hanoi, Vietnam';\r\n            }\r\n            form.find('[name=mapAddress]').val(place);\r\n            form.find('[name=mapEmbedCode]').val(iframe);\r\n            var firstLoad = component.attr('data-firstLoad');\r\n            if (maptype === 'manually') {\r\n                form.find('.manually').removeClass('hide').siblings('.embed').addClass('hide');\r\n\r\n                if (!firstLoad && place) {\r\n                    var i = setInterval(function () {\r\n                        if (window.googleMapInitialized) {\r\n                            clearInterval(i);\r\n                            self.initAutocomplete(component, form);\r\n                            setTimeout(function () {\r\n                                var input = form.find('[name=mapAddress]')[0];\r\n                                google.maps.event.trigger(input, 'focus')\r\n                                google.maps.event.trigger(input, 'keydown', {\r\n                                    keyCode: 13\r\n                                });\r\n                                component.attr('data-firstLoad', 'false');\r\n                            }, 1000);\r\n                        }\r\n                    }, 100);\r\n                }\r\n            } else {\r\n                form.find('.manually').addClass('hide').siblings('.embed').removeClass('hide');\r\n            }\r\n        },\r\n\r\n        initAutocomplete: function (component, form) {\r\n            if (!window.googleMapInitialized) {\r\n                alert('google map is not initialized');\r\n                return;\r\n            }\r\n            var mapdiv = component.find('.kgooglemap')[0];\r\n            var map = new google.maps.Map(mapdiv, {\r\n                zoom: 13,\r\n                mapTypeId: 'roadmap'\r\n            });\r\n            // Create the search box and link it to the UI element.\r\n            var input = form.find('[name=mapAddress]')[0];\r\n            var searchBox = new google.maps.places.SearchBox(input);\r\n            //map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\r\n\r\n            // Bias the SearchBox results towards current map's viewport.\r\n            map.addListener('bounds_changed', function () {\r\n                searchBox.setBounds(map.getBounds());\r\n            });\r\n\r\n            var markers = [];\r\n            // Listen for the event fired when the user selects a prediction and retrieve\r\n            // more details for that place.\r\n\r\n            searchBox.addListener('places_changed', function () {\r\n                var places = searchBox.getPlaces();\r\n\r\n                if (places.length == 0) {\r\n                    return;\r\n                }\r\n\r\n                // Clear out the old markers.\r\n                markers.forEach(function (marker) {\r\n                    marker.setMap(null);\r\n                });\r\n                markers = [];\r\n                // For each place, get the icon, name and location.\r\n                var bounds = new google.maps.LatLngBounds();\r\n                places.forEach(function (place) {\r\n                    if (!place.geometry) {\r\n                        console.log(\"Returned place contains no geometry\");\r\n                        return;\r\n                    }\r\n\r\n                    var icon = {\r\n                        url: place.icon,\r\n                        size: new google.maps.Size(71, 71),\r\n                        origin: new google.maps.Point(0, 0),\r\n                        anchor: new google.maps.Point(17, 34),\r\n                        scaledSize: new google.maps.Size(25, 25)\r\n                    };\r\n\r\n                    // Create a marker for each place.\r\n                    markers.push(new google.maps.Marker({\r\n                        map: map,\r\n                        icon: icon,\r\n                        title: place.name,\r\n                        position: place.geometry.location\r\n                    }));\r\n\r\n                    if (place.geometry.viewport) {\r\n                        // Only geocodes have viewport.\r\n                        bounds.union(place.geometry.viewport);\r\n                    } else {\r\n                        bounds.extend(place.geometry.location);\r\n                    }\r\n                });\r\n                map.fitBounds(bounds);\r\n                component.attr('data-place', input.value);\r\n            });\r\n\r\n            component.find('.kgooglemap').data('map', map);\r\n        }\r\n    };\r\n\r\n    window.initKeditorMapSetting = function () {\r\n        window.googleMapInitialized = true;\r\n    }\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Jumbotron Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['jumbotron'] = {\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Jumbotron Settings',\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']}\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n        init: function(contentArea, container, component, keditor){\r\n            var self = this;\r\n            var options = self.options;\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.ckeditor(self.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"jumbotron\" component');\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '    <div class=\"form-group\">' +\r\n                '       <div class=\"col-md-12\">' +\r\n                '           <label>Background Color</label>' +\r\n                '           <div class=\"input-group button-color-picker\">' +\r\n                '               <span class=\"input-group-addon\"><i></i></span>' +\r\n                '               <input type=\"text\" value=\"\" id=\"button-color\" class=\"form-control\" />' +\r\n                '           </div>' +\r\n                '       </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Rounded</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <div class=\"radio\"><label><input type=\"radio\" name=\"rounded\" value=\"true\" checked> Yes</label></div>' +\r\n                '           <div class=\"radio\"><label><input type=\"radio\" name=\"rounded\" value=\"false\"> No</label></div>' +\r\n                '       </div>' +\r\n                '    </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            form.find('[name=rounded]').on('click', function (e) {\r\n                var comp = keditor.getSettingComponent();\r\n                if (this.value == 'false') {\r\n                    comp.find('.jumbotron').css('border-radius', '0');\r\n                } else {\r\n                    comp.find('.jumbotron').css('border-radius', '');\r\n                }\r\n            });\r\n\r\n            var buttonColorPicker = form.find('.button-color-picker');\r\n            initColorPicker(buttonColorPicker, function (color) {\r\n                var comp = keditor.getSettingComponent();\r\n\r\n                if (color && color !== 'transparent') {\r\n                    comp.find('.jumbotron').css('background-color', color);\r\n                } else {\r\n                    comp.find('.jumbotron').css('background-color', '');\r\n                    form.find('.button-color').val('');\r\n                }\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"jumbotron\" component', component);\r\n\r\n            form.find('[name=showButton][value=false]').prop('checked', component.find('a').hasClass('hide'));\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n    function initColorPicker(target, onChangeHandle) {\r\n        target.each(function () {\r\n            var colorPicker = $(this);\r\n            var input = colorPicker.find('input');\r\n            var previewer = colorPicker.find('.input-group-addon i');\r\n\r\n            colorPicker.colorpicker({\r\n                format: 'hex',\r\n                container: colorPicker.parent(),\r\n                component: '.input-group-addon',\r\n                align: 'left',\r\n                colorSelectors: {\r\n                    'transparent': 'transparent'\r\n                }\r\n            }).on('changeColor.colorpicker', function (e) {\r\n                var colorHex = e.color.toHex();\r\n\r\n                if (!input.val() || input.val().trim().length === 0) {\r\n                    colorHex = '';\r\n                    previewer.css('background-color', '');\r\n                }\r\n\r\n                if (typeof onChangeHandle === 'function') {\r\n                    onChangeHandle(colorHex);\r\n                }\r\n            });\r\n\r\n        });\r\n    }\r\n})(jQuery);\r\n\r\n\r\n/**\r\n * KEditor Photo Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['photo'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"photo\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var img = componentContent.find('img');\r\n\r\n            img.css('display', 'inline-block');\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Photo Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"photo\" component');\r\n            \r\n            var self = this;\r\n            var options = keditor.options;\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-align\" class=\"col-sm-12\">Align</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-align\" class=\"form-control\">' +\r\n                '               <option value=\"left\">Left</option>' +\r\n                '               <option value=\"center\">Center</option>' +\r\n                '               <option value=\"right\">Right</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-style\" class=\"col-sm-12\">Style</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-style\" class=\"form-control\">' +\r\n                '               <option value=\"\">None</option>' +\r\n                '               <option value=\"img-rounded\">Rounded</option>' +\r\n                '               <option value=\"img-circle\">Circle</option>' +\r\n                '               <option value=\"img-thumbnail\">Thumbnail</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-responsive\" class=\"col-sm-12\">Responsive</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"photo-responsive\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-width\" class=\"col-sm-12\">Width</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-width\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var basePath = window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/') + 1);\r\n            var photoEdit = form.find('#photo-edit');\r\n            photoEdit.mselect({\r\n                contentTypes: ['image'],\r\n                bs3Modal: true,\r\n                pagePath: basePath,\r\n                basePath: basePath,\r\n                onSelectFile: function(url) {\r\n                    var img = keditor.getSettingComponent().find('img');\r\n                    img.attr('src', url);\r\n                    self.showSettingForm(form, keditor.getSettingComponent(), options);\r\n                }\r\n            });\r\n\r\n            var inputAlign = form.find('#photo-align');\r\n            inputAlign.on('change', function () {\r\n                var panel = keditor.getSettingComponent().find('.photo-panel');\r\n                panel.css('text-align', this.value);\r\n            });\r\n\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            inputResponsive.on('click', function () {\r\n                keditor.getSettingComponent().find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\r\n            });\r\n\r\n            var cbbStyle = form.find('#photo-style');\r\n            cbbStyle.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var val = this.value;\r\n\r\n                img.removeClass('img-rounded img-circle img-thumbnail');\r\n                if (val) {\r\n                    img.addClass(val);\r\n                }\r\n            });\r\n\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            inputWidth.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var newWidth = +this.value;\r\n                var newHeight = Math.round(newWidth / self.ratio);\r\n\r\n                if (newWidth <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newWidth;\r\n                }\r\n\r\n                img.css({\r\n                    'width': newWidth,\r\n                    'height': newHeight\r\n                });\r\n                inputHeight.val(newHeight);\r\n            });\r\n            inputHeight.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var newHeight = +this.value;\r\n                var newWidth = Math.round(newHeight * self.ratio);\r\n\r\n                if (newHeight <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newHeight;\r\n                }\r\n\r\n                img.css({\r\n                    'height': newHeight,\r\n                    'width': newWidth\r\n                });\r\n                inputWidth.val(newWidth);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"photo\" component', component);\r\n\r\n            var self = this;\r\n            var inputAlign = form.find('#photo-align');\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            var cbbStyle = form.find('#photo-style');\r\n\r\n            var panel = component.find('.photo-panel');\r\n            var img = panel.find('img');\r\n\r\n            var algin = panel.css('text-align');\r\n            if (algin !== 'right' || algin !== 'center') {\r\n                algin = 'left';\r\n            }\r\n\r\n            if (img.hasClass('img-rounded')) {\r\n                cbbStyle.val('img-rounded');\r\n            } else if (img.hasClass('img-circle')) {\r\n                cbbStyle.val('img-circle');\r\n            } else if (img.hasClass('img-thumbnail')) {\r\n                cbbStyle.val('img-thumbnail');\r\n            } else {\r\n                cbbStyle.val('');\r\n            }\r\n\r\n            inputAlign.val(algin);\r\n            inputResponsive.prop('checked', img.hasClass('img-responsive'));\r\n            inputWidth.val(img.width());\r\n            inputHeight.val(img.height());\r\n\r\n            $('<img />').attr('src', img.attr('src')).load(function() {\r\n                self.ratio = this.width / this.height;\r\n                self.width = this.width;\r\n                self.height = this.height;\r\n            });\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Text Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    CKEDITOR.disableAutoInline = true;\r\n    CKEDITOR.dtd.$removeEmpty['i'] = false;\r\n\r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']}\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"text\" component', component);\r\n\r\n            var self = this;\r\n            var options = keditor.options;\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.ckeditor(self.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"text\" component', component);\r\n\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var id = componentContent.attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                return editor.getData();\r\n            } else {\r\n                return componentContent.html();\r\n            }\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Video Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['video'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"video\" component', component);\r\n\r\n            this.component = component;\r\n            var img = component.find('img[data-video-src]');\r\n            if (!img.attr('id')) {\r\n                this.componentId = keditor.generateId('component-video');\r\n                img.attr('id', this.componentId);\r\n            } else {\r\n                this.componentId = img.attr('id');\r\n            }\r\n\r\n            if (!img.parent().hasClass('video-wrapper')) {\r\n                img.wrap('<div class=\"video-wrapper\"></div>');\r\n            }\r\n            this.src = img.attr('data-video-src');\r\n            this.aspectratio = img.attr('data-aspectratio');\r\n            this.repeat = img.attr('data-repeat') === 'true';\r\n            this.controls = img.attr('data-controls') === 'true';\r\n            this.autostart = img.attr('data-autostart') === 'true';\r\n            var instance = this;\r\n            $.getScript('/static/jwplayer/6.10/jwplayer.js', function () {\r\n                jwplayer.key = 'cXefLoB9RQlBo/XvVncatU90OaeJMXMOY/lamKrzOi0=';\r\n                instance.buildJWVideoPlayerPreview();\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"video\" component, component');\r\n            var posterHref = this.src + '/alt-640-360.png';\r\n            var html = '<img id=\"' + this.componentId + '\" class=\"video-jw\" src=\"' + posterHref + '\" data-autostart=\"' + this.autostart + '\" data-aspectratio=\"' + this.aspectratio + '\" data-video-src=\"' + this.src + '\" data-repeat=\"' + this.repeat + '\" data-controls=\"' + this.controls + '\" />';\r\n            return html;\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Video Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"video\" settings', form);\r\n            var self = this;\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"videoFileInput\" class=\"col-sm-12\">Video file</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<div class=\"video-toolbar\">' +\r\n                '<a href=\"#\" class=\"btn-videoFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n                '<input id=\"videoFileInput\" type=\"file\" style=\"display: none\">' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"video-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"checkbox\" id=\"video-autoplay\" />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"video-loop\" class=\"col-sm-12\">Repeat</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"checkbox\" id=\"video-loop\" />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"video-showcontrols\" class=\"col-sm-12\">Show Controls</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"checkbox\" id=\"video-showcontrols\" checked />' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<div class=\"form-group\">' +\r\n                '<label for=\"\" class=\"col-sm-12\">Ratio</label>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"4:3\" checked /> 4:3' +\r\n                '</div>' +\r\n                '<div class=\"col-sm-12\">' +\r\n                '<input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"16:9\" /> 16:9' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"video\" component', form, component);\r\n\r\n            var instance = this;\r\n            var btnVideoFileInput = form.find('.btn-videoFileInput');\r\n            btnVideoFileInput.mselect({\r\n                contentTypes: ['video'],\r\n                bs3Modal: true,\r\n                pagePath: window.location.pathname.replace('contenteditor', ''),\r\n                onSelectFile: function (url) {\r\n                    instance.src = url;\r\n                    instance.refreshVideoPlayerPreview();\r\n                }\r\n            });\r\n\r\n            var autoplayToggle = form.find('#video-autoplay');\r\n            if (this.autostart) {\r\n                autoplayToggle.prop('checked', true);\r\n            }\r\n            autoplayToggle.on('click', function (e) {\r\n                instance.autostart = this.checked;\r\n                instance.buildJWVideoPlayerPreview();\r\n            });\r\n\r\n\r\n            var loopToggle = form.find('#video-loop');\r\n            if (this.repeat) {\r\n                loopToggle.prop('checked', true);\r\n            }\r\n            loopToggle.on('click', function (e) {\r\n                instance.repeat = this.checked;\r\n                instance.buildJWVideoPlayerPreview();\r\n            });\r\n\r\n            var ratio = form.find('.video-ratio');\r\n            form.find('.video-ratio[value=\"' + this.aspectratio + '\"]').prop('checked', true);\r\n            ratio.on('click', function (e) {\r\n                if (this.checked) {\r\n                    instance.aspectratio = this.value;\r\n                    instance.buildJWVideoPlayerPreview();\r\n                }\r\n            });\r\n\r\n            var showcontrolsToggle = form.find('#video-showcontrols');\r\n            if (this.controls) {\r\n                showcontrolsToggle.prop('checked', true);\r\n            }\r\n            showcontrolsToggle.on('click', function (e) {\r\n                instance.controls = this.checked;\r\n                instance.buildJWVideoPlayerPreview();\r\n            });\r\n        },\r\n\r\n        buildJWVideoPlayerPreview: function () {\r\n            var src = this.src;\r\n            var autostart = this.autostart;\r\n            var repeat = this.repeat;\r\n            var aspectratio = this.aspectratio;\r\n            var controls = this.controls;\r\n            var playerInstance = jwplayer(this.componentId);\r\n            var posterHref = src + '/alt-640-360.png';\r\n\r\n            flog(\"buildJWPlayer\", src, \"aspectratio=\", aspectratio);\r\n            playerInstance.setup({\r\n                autostart: autostart,\r\n                repeat: repeat,\r\n                controls: controls,\r\n                aspectratio: aspectratio,\r\n                flashplayer: \"/static/jwplayer/6.10/jwplayer.flash.swf\",\r\n                html5player: \"/static/jwplayer/6.10/jwplayer.html5.js\",\r\n                width: \"100%\",\r\n                androidhls: true, //enable hls on android 4.1+\r\n                playlist: [{\r\n                    image: posterHref,\r\n                    sources: [{\r\n                        file: src\r\n                    }\r\n                        , {\r\n                            file: src + \"/../alt-640-360.webm\"\r\n                        }, {\r\n                            file: src + \"/../alt-640-360.m4v\"\r\n                        }]\r\n                }]\r\n                , primary: \"flash\"\r\n            });\r\n            playerInstance.onReady(function () {\r\n                flog('jwplayer preview init done');\r\n\r\n            });\r\n        },\r\n\r\n        refreshVideoPlayerPreview: function () {\r\n            var playerInstance = jwplayer(this.componentId);\r\n            var src = this.src;\r\n            playerInstance.load([{\r\n                file: src\r\n            }]);\r\n            playerInstance.play();\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Vimeo Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['vimeo'] = {\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"vimeo\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.vimeo-cover').remove();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Vimeo Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"vimeo\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-vimeo-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"vimeo-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-vimeo-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Vimeo URL in here:');\r\n                var vimeoRegex = /https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/;\r\n                var match = inputData.match(vimeoRegex);\r\n                if (match && match[1]) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://player.vimeo.com/video/' + match[1] + '?byline=0&portrait=0&badge=0');\r\n                } else {\r\n                    alert('Your Vimeo URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-vimeo-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-vimeo-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#vimeo-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?byline=0&portrait=0&badge=0&autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"vimeo\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#vimeo-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Youtube Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 0.0.0\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['youtube'] = {\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"youtube\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.youtube-cover').remove();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Youtube Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"youtube\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-youtube-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"youtube-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-youtube-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Youtube URL in here:');\r\n                var youtubeRegex = /^(?:http(?:s)?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\\/))([^\\?&\\\"'>]+)/;\r\n                var match = inputData.match(youtubeRegex);\r\n                if (match && match[1]) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://www.youtube.com/embed/' + match[1]);\r\n                } else {\r\n                    alert('Your Youtube URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-youtube-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-youtube-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"youtube\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}