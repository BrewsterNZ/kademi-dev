/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 0.0.0
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(t){var n=t.keditor,o=t.edmEditor,i=n.log;n.components.button={settingEnabled:!0,settingTitle:"Button Settings",settingFormHtml:'<form class="form-horizontal">    <div class="form-group">       <div class="col-md-12">           <label>Button color</label>           <input type="text" value="" id="button-color" class="form-control" />       </div>    </div>    <div class="form-group">       <label for="button-border-radius" class="col-sm-12">Border Radius</label>       <div class="col-sm-12">           <input type="number" id="button-border-radius" class="form-control" />       </div>    </div>    <div class="form-group">       <div class="col-md-12">           <label>Inner Padding (in px)</label>           <div class="row row-sm text-center">               <div class="col-xs-4 col-xs-offset-4">                   <input type="number" value="" class="button-inner-padding form-control" data-css="padding-top" />                   <small>top</small>               </div>           </div>           <div class="row row-sm text-center">               <div class="col-xs-4">                   <input type="number" value="" class="button-inner-padding form-control" data-css="padding-left" />                   <small>left</small>               </div>               <div class="col-xs-4 col-xs-offset-4">                   <input type="number" value="" class="button-inner-padding form-control" data-css="padding-right" />                   <small>right</small>               </div>           </div>           <div class="row row-sm text-center">               <div class="col-xs-4 col-xs-offset-4">                   <input type="number" value="" class="button-inner-padding form-control" data-css="padding-bottom" />                   <small>bottom</small>               </div>           </div>       </div>    </div>    <div class="form-group">       <label for="button-text" class="col-sm-12">Text</label>       <div class="col-sm-12">           <input type="text" id="button-text" class="form-control" />       </div>    </div>    <div class="form-group button-link">       <label for="button-link" class="col-sm-12">Link</label>       <div class="col-sm-12">           <input type="text" id="button-link" class="form-control" />       </div>    </div>    <div class="form-group">       <div class="col-md-12">           <label>Text color</label>           <input type="text" value="" id="button-text-color" class="form-control" />       </div>    </div>    <div class="form-group">       <label for="button-font-size" class="col-sm-12">Font Size</label>       <div class="col-sm-12">           <input type="number" id="button-font-size" class="form-control" />       </div>    </div>    <div class="form-group">       <label for="button-font-family" class="col-sm-12">Font Family</label>       <div class="col-sm-12">           <select id="button-font-family" class="form-control">               <option value="">None</option>               <option value="arial,helvetica,sans-serif">Arial</option>               <option value="comic sans ms,cursive">Comic Sans MS</option>               <option value="courier new,courier,monospace">Courier New</option>               <option value="lucida sans unicode,lucida grande,sans-serif">Lucida Sans Unicode</option>               <option value="tahoma,geneva,sans-serif">Tahoma</option>               <option value="times new roman,times,serif">Times New Roman</option>               <option value="trebuchet ms,helvetica,sans-serif">Trebuchet MS</option>               <option value="verdana,geneva,sans-serif">Verdana</option>           </select>       </div>    </div>    <div class="form-group">       <label class="col-sm-12">Font Style</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-style btn-bold" data-value="bold" data-prop="fontWeight" name="font-weight"><i class="fa fa-bold"></i></button>           <button type="button" class="btn btn-sm btn-default btn-style btn-italic" data-value="italic" data-prop="fontStyle" name="font-style"><i class="fa fa-italic"></i></button>       </div>    </div>    <div class="form-group">       <label class="col-sm-12">Alignment</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-align" data-value="left"><i class="fa fa-align-left"></i></button>           <button type="button" class="btn btn-sm btn-default btn-align" data-value="center"><i class="fa fa-align-center"></i></button>           <button type="button" class="btn btn-sm btn-default btn-align" data-value="right"><i class="fa fa-align-right"></i></button>           <button type="button" class="btn btn-sm btn-default btn-align" data-value="full"><i class="fa fa-align-justify"></i></button>       </div>    </div></form>',initSettingForm:function(n,e){i('initSettingForm "button" component'),n.append(this.settingFormHtml),n=n.find("form"),o.initDefaultComponentControls(n,e);var a=n.find(".button-color-picker");o.initSimpleColorPicker(a,function(t){var n=e.getSettingComponent().find(".button-wrapper");n.attr("bgcolor",t)});var l=n.find("#button-border-radius");l.on("change",function(){o.setStyles("border-radius",this.value+"px",e.getSettingComponent().find(".button-wrapper"))}),n.find(".button-inner-padding").each(function(){var n=t(this),i=n.attr("data-css");o.initPaddingControl(n,function(t){o.setStyles(i,t,e.getSettingComponent().find(".button-inner"))})});var s=n.find("#button-text");s.on("change",function(){var t=this.value||"";t=t.trim(),e.getSettingComponent().find(".button-wrapper a").text(t)});var r=n.find("#button-link");r.on("change",function(){var t=this.value||"";t=t.trim(),e.getSettingComponent().find(".button-wrapper a").attr("href",t)});var d=n.find(".button-color-text-picker");o.initSimpleColorPicker(d,function(t){var n=e.getSettingComponent().find(".button-wrapper a");o.setStyles("color",t,n)});var c=n.find("#button-font-size");c.on("change",function(){o.setStyles("font-size",(this.value>0?this.value:0)+"px",e.getSettingComponent().find(".button-wrapper a"))});var p=n.find("#button-font-family");p.on("change",function(){o.setStyles("font-family",this.value,e.getSettingComponent().find(".button-wrapper a"))}),n.find(".btn-style").each(function(){var n=t(this),o=n.attr("data-prop");n.on("click",function(t){t.preventDefault();var i=n.attr("data-value");n.hasClass("active")?(n.removeClass("active"),i=""):n.addClass("active"),e.getSettingComponent().find(".button-wrapper a").get(0).style[o]=i})});var f=n.find(".btn-align");f.each(function(){var n=t(this),o=n.attr("data-value");n.on("click",function(t){if(t.preventDefault(),!n.hasClass("active")){var i=e.getSettingComponent().find(".button-wrapper");f.removeClass("active"),n.addClass("active"),"full"===o?i.attr("width","100%").attr("align","center"):i.removeAttr("width").attr("align",o)}})})},showSettingForm:function(n,e,a){i('showSettingForm "button" component',e),o.showDefaultComponentControls(n,e,a);var l=e.find(".button-wrapper"),s=l.find(".button-inner"),r=s.find("a"),d=n.find(".button-color-picker");d.val(l.css("background-color")||"").trigger("update");var c=n.find("#button-border-radius"),p=l.css("border-radius");c.val(p?p.replace("px",""):""),n.find(".button-inner-padding").each(function(){var n=t(this),o=n.attr("data-prop"),i=s.get(0).style[o];n.val(i?i.replace("px",""):"0")});var f=n.find("#button-text");f.val(r.text());var u=n.find("#button-link");u.val(r.attr("href"));var m=n.find(".button-color-text-picker");m.val(r.css("color")||"").trigger("update");var v=n.find("#button-font-size"),g=r.css("font-size");v.val(g?g.replace("px",""):"");var h=n.find("#button-font-family");h.val(r.css("font-family").toLowerCase().replace(/,\s/g,","));var b=n.find(".btn-bold"),C=r.css("font-weight");b["700"===C||"bold"===C?"addClass":"removeClass"]("active");var w=n.find(".btn-italic");w["italic"===r.css("font-style")?"addClass":"removeClass"]("active");var y=l.attr("align");"100%"===l.attr("width")&&(y="full"),n.find(".btn-align").removeClass("active").filter("[data-value="+y+"]").addClass("active")}}}(jQuery),function(t){var n=t.keditor,o=t.edmEditor,i=n.log;n.components.line={settingEnabled:!0,settingTitle:"Line Settings",initSettingForm:function(t,n){i('initSettingForm "line" component'),t.append('<form class="form-horizontal">    <div class="form-group">       <div class="col-md-12">           <label>Color</label>           <input type="text" value="" id="line-color" class="form-control" />       </div>    </div>    <div class="form-group">       <label for="line-height" class="col-sm-12">Width</label>       <div class="col-sm-12">           <input type="number" id="line-width" class="form-control" />       </div>    </div>    <div class="form-group">       <label for="line-height" class="col-sm-12">Height</label>       <div class="col-sm-12">           <input type="number" id="line-height" class="form-control" />       </div>    </div></form>'),t=t.find("form"),o.initDefaultComponentControls(t,n);var e=t.find("#line-height");e.on("change",function(){n.getSettingComponent().find(".wrapper div").css("height",this.value)});var e=t.find("#line-width");e.on("change",function(){n.getSettingComponent().find(".wrapper table").attr("width",this.value)});var a=t.find(".line-color-picker");o.initSimpleColorPicker(a,function(t){var i=n.getSettingComponent().find(".wrapper"),e=i.children("div");o.setStyles("background-color",t,e)})},showSettingForm:function(t,n,e){i('showSettingForm "line" component',n);var a=t.find("#line-height"),l=n.find(".wrapper div").css("height");a.val(l?l.replace("px",""):"0");var s=t.find("#line-width"),r=n.find(".wrapper table").attr("width");s.val(r?r.replace("px",""):"0"),o.showDefaultComponentControls(t,n,e);var d=n.find(".wrapper"),c=d.children("div"),p=t.find(".line-color-picker");p.val(c.css("background-color")||"").trigger("update")}}}(jQuery),function(t){var n=t.keditor,o=t.edmEditor,i=n.log;n.components.photo={init:function(t,n,o,e){i('init "photo" component',o);var a=this,l=o.find("img");a.adjustWidthForImg(l,l.hasClass("full-width"));var s=e.options;"function"==typeof s.onComponentReady&&s.onComponentReady.call(t,o)},settingEnabled:!0,settingTitle:"Photo Settings",initSettingForm:function(t,n){i('initSettingForm "photo" component');var e=this;t.append('<form class="form-horizontal">   <div class="form-group photo-edit-wrapper">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary" id="photo-edit">Change Photo</button>       </div>   </div>   <div class="form-group photo-alt-wrapper">       <label for="photo-alt" class="col-sm-12">Alt text</label>       <div class="col-sm-12">           <input type="text" id="photo-alt" class="form-control" />       </div>   </div>   <div class="form-group">       <label for="photo-fullwidth" class="col-sm-12">Full width</label>       <div class="col-sm-12">           <input type="checkbox" id="photo-fullwidth" />       </div>   </div>   <div class="form-group">       <label for="photo-width" class="col-sm-12">Linkable</label>       <div class="col-sm-12">           <input type="checkbox" id="photo-linkable" />       </div>   </div>   <div class="form-group">       <label for="photo-height" class="col-sm-12">Link</label>       <div class="col-sm-12">           <input type="text" id="photo-link" class="form-control" disabled="disabled" />           <span class="help-block" style="display: none;">Link is invalid</span>       </div>   </div>   <div class="form-group">       <label for="photo-height" class="col-sm-12">Open link in</label>       <div class="col-sm-12">           <select class="form-control" id="photo-target" disabled="disabled">               <option value="" selected="selected">Current tab/window</option>               <option value="_blank">New tab/window</option>           </select>       </div>   </div></form>');var a=t.find("#photo-link");a.on("change",function(){var t=this.value.trim(),o=new RegExp("^[a-zA-Z0-9_/%:/./-]+$"),i=a.next(),e=a.closest(".form-group");o.test(t)?(n.getSettingComponent().find("a").attr("href",t),i.hide(),e.removeClass("has-error")):(i.show(),e.addClass("has-error"))});var l=t.find("#photo-target");l.on("change",function(){n.getSettingComponent().find("a").attr("target",this.value)});var s=t.find("#photo-linkable");s.on("click",function(){var t=n.getSettingComponent().find("img");s.is(":checked")?(a.prop("disabled",!1),l.prop("disabled",!1),t.wrap('<a href="" style="text-decoration: none;"></a>'),t.css("border","0")):(a.prop("disabled",!0),l.prop("disabled",!0),t.unwrap("a"))});var r=t.find("#photo-edit");r.mselect({contentTypes:["image"],bs3Modal:!0,pagePath:n.options.pagePath,basePath:n.options.basePath,onSelectFile:function(t,o,i,a){var l=n.getSettingComponent().find("img");l.attr("src","http://"+window.location.host+"/_hashes/files/"+a),e.adjustWidthForImg(l,!0)}});var d=t.find("#photo-alt");d.on("change",function(){n.getSettingComponent().find("img").attr("alt",this.value)});var c=t.find("#photo-fullwidth");c.on("click",function(){var t=n.getSettingComponent().find("img");t[this.checked?"addClass":"removeClass"]("full-width"),e.adjustWidthForImg(t,this.checked)}),t=t.find("form"),o.initDefaultComponentControls(t,n,{onPaddingChanged:function(t,o){if("padding-left"===t||"padding-right"===t){var i=n.getSettingComponent().find("img");e.adjustWidthForImg(i,i.hasClass("full-width"))}}})},showSettingForm:function(t,n,e){i('showSettingForm "photo" component',n),o.showDefaultComponentControls(t,n,e);var a=n.find("img"),l=t.find("#photo-alt");l.val(a.attr("alt")||"");var s=t.find("#photo-fullwidth");s.prop("checked",a.hasClass("full-width"));var r=t.find("#photo-link"),d=t.find("#photo-target"),c=t.find("#photo-linkable");r.next().hide(),r.closest(".form-group").removeClass("has-error");var p=a.parent("a");p.length>0?(c.prop("checked",!0),r.prop("disabled",!1).val(p.attr("href")),d.prop("disabled",!1).val(p.attr("target"))):(c.prop("checked",!1),r.prop("disabled",!0).val(""),d.prop("disabled",!0).val(""))},adjustWidthForImg:function(n,o){i("adjustWidthForImg",n,o),n.css("display","none"),t("<img />").attr("src",n.attr("src")).load(function(){var t=this.width,i=this.height,e=t/i,a=n.parent();a.is("a")&&(a=a.parent());var l=a.width();n.attr({width:o?l:t,height:o?l/e:i}),n.css("display","block")})},onWithChanged:function(t,n,o){var i=this,e=t.find("img");i.adjustWidthForImg(e,e.hasClass("full-width"))}}}(jQuery),function(t){var n=t.keditor,o=t.edmEditor,i=n.log;n.components.spacer={settingEnabled:!0,settingTitle:"Spacer Settings",initSettingForm:function(t,n){i('initSettingForm "spacer" component'),t.append('<form class="form-horizontal">    <div class="form-group">       <label for="spacer-height" class="col-sm-12">Height</label>       <div class="col-sm-12">           <input type="number" id="spacer-height" class="form-control" />       </div>    </div></form>');var e=t.find("#spacer-height");e.on("change",function(){n.getSettingComponent().find(".spacer").attr("height",this.value)}),t=t.find("form"),o.initDefaultComponentControls(t,n,{hidePadding:!0})},showSettingForm:function(t,n,e){i('showSettingForm "spacer" component',n);var a=t.find("#spacer-height");a.val(n.find(".spacer").attr("height")),o.showDefaultComponentControls(t,n,e)}}}(jQuery),function(t){var n=t.keditor,o=t.edmEditor,i=n.log;CKEDITOR.disableAutoInline=!0,CKEDITOR.isEDM=!0,n.components.text={init:function(n,o,e,a){i('init "text" component',e);var l=a.options,s=e.children(".keditor-component-content"),r=s.find(".text-wrapper"),d=r.html(),c=t('<div class="text-editor" contenteditable="true"></div>').attr("id",a.generateId("text-editor")).html(d);r.html(c);var p=c.ckeditor(a.options.ckeditorOptions).editor;p.on("instanceReady",function(){i("CKEditor is ready",e),"function"==typeof l.onComponentReady&&l.onComponentReady.call(a,e,p,n)}),c.on("input",function(t){"function"==typeof l.onComponentChanged&&l.onComponentChanged.call(a,t,e,n),"function"==typeof l.onContainerChanged&&l.onContainerChanged.call(a,t,o,n),"function"==typeof l.onContentChanged&&l.onContentChanged.call(a,t,n)})},getContent:function(t,n){i('getContent "text" component',t);var o=t.find(".keditor-component-content"),e=o.find(".text-wrapper"),a=o.find(".text-editor"),l=a.attr("id"),s=CKEDITOR.instances[l];return s&&e.html(s.getData()),o.html()},destroy:function(t,n){i('destroy "text" component',t);var o=t.find(".text-editor").attr("id"),e=CKEDITOR.instances[o];e&&e.destroy()},settingEnabled:!0,settingTitle:"Text Settings",initSettingForm:function(t,n){i('initSettingForm "text" component'),t.append('<form class="form-horizontal"></form>'),t=t.find("form"),o.initDefaultComponentControls(t,n)},showSettingForm:function(t,n,e){i('showSettingForm "text" component',n),o.showDefaultComponentControls(t,n,e)}}}(jQuery);
//# sourceMappingURL=keditor-edm-components-0.0.0.min.js.map
