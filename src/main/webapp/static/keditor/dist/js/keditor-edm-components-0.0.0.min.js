!function(t){var o=t.keditor,n=o.log;o.components.button={settingEnabled:!0,settingTitle:"Button Settings",settingFormHtml:'<form class="form-horizontal">    <div class="form-group">       <div class="col-md-12">           <label>Color</label>           <div class="input-group button-color-picker">               <span class="input-group-addon"><i></i></span>               <input type="text" value="" id="button-color" class="form-control" />           </div>       </div>    </div>    <div class="form-group">       <label for="button-border-radius" class="col-sm-12">Border Radius</label>       <div class="col-sm-12">           <input type="number" id="button-border-radius" class="form-control" />       </div>    </div>    <div class="form-group">       <div class="col-md-12">           <label>Inner Padding (in px)</label>           <div class="row row-sm text-center">               <div class="col-xs-4 col-xs-offset-4">                   <input type="number" value="" class="button-inner-padding form-control" data-prop="paddingTop" name="padding-top" />                   <small>top</small>               </div>           </div>           <div class="row row-sm text-center">               <div class="col-xs-4">                   <input type="number" value="" class="button-inner-padding form-control" data-prop="paddingLeft" name="padding-left" />                   <small>left</small>               </div>               <div class="col-xs-4 col-xs-offset-4">                   <input type="number" value="" class="button-inner-padding form-control" data-prop="paddingRight" name="padding-right" />                   <small>right</small>               </div>           </div>           <div class="row row-sm text-center">               <div class="col-xs-4 col-xs-offset-4">                   <input type="number" value="" class="button-inner-padding form-control" data-prop="paddingBottom" name="padding-bottom" />                   <small>bottom</small>               </div>           </div>       </div>    </div>    <div class="form-group">       <label for="button-text" class="col-sm-12">Text</label>       <div class="col-sm-12">           <input type="text" id="button-text" class="form-control" />       </div>    </div>    <div class="form-group button-link">       <label for="button-link" class="col-sm-12">Link</label>       <div class="col-sm-12">           <input type="text" id="button-link" class="form-control" />       </div>    </div>    <div class="form-group">       <div class="col-md-12">           <label>Text color</label>           <div class="input-group button-color-text-picker">               <span class="input-group-addon"><i></i></span>               <input type="text" value="" id="button-text-color" class="form-control" />           </div>       </div>    </div>    <div class="form-group">       <label for="button-font-size" class="col-sm-12">Font Size</label>       <div class="col-sm-12">           <input type="number" id="button-font-size" class="form-control" />       </div>    </div>    <div class="form-group">       <label for="button-font-family" class="col-sm-12">Font Family</label>       <div class="col-sm-12">           <select id="button-font-family" class="form-control">               <option value="">None</option>               <option value="arial,helvetica,sans-serif">Arial</option>               <option value="comic sans ms,cursive">Comic Sans MS</option>               <option value="courier new,courier,monospace">Courier New</option>               <option value="lucida sans unicode,lucida grande,sans-serif">Lucida Sans Unicode</option>               <option value="tahoma,geneva,sans-serif">Tahoma</option>               <option value="times new roman,times,serif">Times New Roman</option>               <option value="trebuchet ms,helvetica,sans-serif">Trebuchet MS</option>               <option value="verdana,geneva,sans-serif">Verdana</option>           </select>       </div>    </div>    <div class="form-group">       <label class="col-sm-12">Font Style</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-style btn-bold" data-value="bold" data-prop="fontWeight" name="font-weight"><i class="fa fa-bold"></i></button>           <button type="button" class="btn btn-sm btn-default btn-style btn-italic" data-value="italic" data-prop="fontStyle" name="font-style"><i class="fa fa-italic"></i></button>       </div>    </div>    <div class="form-group">       <label class="col-sm-12">Alignment</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-align" data-value="left"><i class="fa fa-align-left"></i></button>           <button type="button" class="btn btn-sm btn-default btn-align" data-value="center"><i class="fa fa-align-center"></i></button>           <button type="button" class="btn btn-sm btn-default btn-align" data-value="right"><i class="fa fa-align-right"></i></button>           <button type="button" class="btn btn-sm btn-default btn-align" data-value="full"><i class="fa fa-align-justify"></i></button>       </div>    </div></form>',initSettingForm:function(e,i){n('initSettingForm "button" component'),e.append(this.settingFormHtml),e=e.find("form"),o.initPaddingControls(i,e,"prepend"),o.initBgColorControl(i,e,"prepend");var a=e.find(".button-color-picker");initColorPicker(a,function(t){var o=i.getSettingComponent().find(".button-wrapper");t&&"transparent"!==t?(setStyle(o,"background-color",t),o.attr("bgcolor",t)):(setStyle(o,"background-color",""),o.removeAttr("bgcolor"),e.find(".button-color").val(""))});var l=e.find("#button-border-radius");l.on("change",function(){setStyle(i.getSettingComponent().find(".button-wrapper"),"border-radius",this.value+"px")}),e.find(".button-inner-padding").each(function(){var o=t(this),n=o.attr("data-prop");o.on("change",function(){var t=this.value>0?this.value:0;i.getSettingComponent().find(".button-inner").get(0).style[n]=t+"px"})});var r=e.find("#button-text");r.on("change",function(){var t=this.value||"";t=t.trim(),i.getSettingComponent().find(".button-wrapper a").text(t)});var s=e.find("#button-link");s.on("change",function(){var t=this.value||"";t=t.trim(),i.getSettingComponent().find(".button-wrapper a").attr("href",t)});var d=e.find(".button-color-text-picker");initColorPicker(d,function(t){var o=i.getSettingComponent().find(".button-wrapper a");t&&"transparent"!==t?setStyle(o,"color",t):(setStyle(o,"color",""),e.find(".button-text-color").val(""))});var c=e.find("#button-font-size");c.on("change",function(){setStyle(i.getSettingComponent().find(".button-wrapper a"),"font-size",(this.value>0?this.value:0)+"px")});var p=e.find("#button-font-family");p.on("change",function(){setStyle(i.getSettingComponent().find(".button-wrapper a"),"font-family",this.value)}),e.find(".btn-style").each(function(){var o=t(this),n=o.attr("data-prop");o.on("click",function(t){t.preventDefault();var e=o.attr("data-value");o.hasClass("active")?(o.removeClass("active"),e=""):o.addClass("active"),i.getSettingComponent().find(".button-wrapper a").get(0).style[n]=e})});var u=e.find(".btn-align");u.each(function(){var o=t(this),n=o.attr("data-value");o.on("click",function(t){if(t.preventDefault(),!o.hasClass("active")){var e=i.getSettingComponent().find(".button-wrapper");u.removeClass("active"),o.addClass("active"),"full"===n?e.attr("width","100%").attr("align","center"):e.removeAttr("width").attr("align",n)}})})},showSettingForm:function(e,i,a){n('showSettingForm "button" component',i),o.showBgColorControl(a,e,i),o.showPaddingControls(a,e,i);var l=i.find(".button-wrapper"),r=l.find(".button-inner"),s=r.find("a"),d=e.find(".button-color-picker");d.colorpicker("setValue",l.css("background-color")||"");var c=e.find("#button-border-radius"),p=l.css("border-radius");c.val(p?p.replace("px",""):""),e.find(".button-inner-padding").each(function(){var o=t(this),n=o.attr("data-prop"),e=r.get(0).style[n];o.val(e?e.replace("px",""):"0")});var u=e.find("#button-text");u.val(s.text());var f=e.find("#button-link");f.val(s.attr("href"));var m=e.find(".button-color-text-picker");m.colorpicker("setValue",s.css("color")||"");var g=e.find("#button-font-size"),v=s.css("font-size");g.val(v?v.replace("px",""):"");var b=e.find("#button-font-family");b.val(s.css("font-family").toLowerCase().replace(/,\s/g,","));var h=e.find(".btn-bold"),C=s.css("font-weight");h["700"===C||"bold"===C?"addClass":"removeClass"]("active");var y=e.find(".btn-italic");y["italic"===s.css("font-style")?"addClass":"removeClass"]("active");var w=l.attr("align");"100%"===l.attr("width")&&(w="full"),e.find(".btn-align").removeClass("active").filter("[data-value="+w+"]").addClass("active")}}}(jQuery),function(t){var o=t.keditor,n=o.log;o.components.line={settingEnabled:!0,settingTitle:"Line Settings",initSettingForm:function(t,e){n('initSettingForm "line" component'),t.append('<form class="form-horizontal">    <div class="form-group">       <div class="col-md-12">           <label>Color</label>           <div class="input-group line-color-picker">               <span class="input-group-addon"><i></i></span>               <input type="text" value="" id="line-color" class="form-control" />           </div>       </div>    </div>    <div class="form-group">       <label for="line-height" class="col-sm-12">Height</label>       <div class="col-sm-12">           <input type="number" id="line-height" class="form-control" />       </div>    </div></form>');var i=t.find("#line-height");i.on("change",function(){setStyle(e.getSettingComponent().find(".wrapper div"),"height",this.value)}),t=t.find("form"),o.initPaddingControls(e,t,"prepend"),o.initBgColorControl(e,t,"prepend");var a=t.find(".line-color-picker");initColorPicker(a,function(o){var n=e.getSettingComponent().find(".wrapper"),i=n.children("div");o&&"transparent"!==o?setStyle(i,"background-color",o):(setStyle(i,"background-color",""),t.find("#line-color").val(""))})},showSettingForm:function(t,e,i){n('showSettingForm "line" component',e);var a=t.find("#line-height"),l=e.find(".wrapper > div").css("height");a.val(l?l.replace("px",""):"0"),o.showBgColorControl(i,t,e),o.showPaddingControls(i,t,e);var r=e.find(".wrapper"),s=r.children("div"),d=t.find(".line-color-picker");n(s.css("background-color")),d.colorpicker("setValue",s.css("background-color")||"")}}}(jQuery),function(t){var o=t.keditor,n=o.log;o.components.photo={init:function(t,o,e,i){n('init "photo" component',e);var a=i.options;"function"==typeof a.onComponentReady&&a.onComponentReady.call(t,e)},settingEnabled:!0,settingTitle:"Photo Settings",initSettingForm:function(t,e){n('initSettingForm "photo" component');var i=this;e.options;t.append('<form class="form-horizontal">   <div class="form-group photo-edit-wrapper">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary" id="photo-edit">Change Photo</button>       </div>   </div>   <div class="form-group photo-alt-wrapper">       <label for="photo-alt" class="col-sm-12">Alt text</label>       <div class="col-sm-12">           <input type="text" id="photo-alt" class="form-control" />       </div>   </div>   <div class="form-group">       <label for="photo-fullwidth" class="col-sm-12">Full width</label>       <div class="col-sm-12">           <input type="checkbox" id="photo-fullwidth" />       </div>   </div>   <div class="form-group">       <label for="photo-width" class="col-sm-12">Linkable</label>       <div class="col-sm-12">           <input type="checkbox" id="photo-linkable" />       </div>   </div>   <div class="form-group">       <label for="photo-height" class="col-sm-12">Link</label>       <div class="col-sm-12">           <input type="text" id="photo-link" class="form-control" disabled="disabled" />           <span class="help-block" style="display: none;">Link is invalid</span>       </div>   </div>   <div class="form-group">       <label for="photo-height" class="col-sm-12">Open link in</label>       <div class="col-sm-12">           <select class="form-control" id="photo-target" disabled="disabled">               <option value="" selected="selected">Current tab/window</option>               <option value="_blank">New tab/window</option>           </select>       </div>   </div></form>');var a=t.find("#photo-link");a.on("change",function(){var t=this.value.trim(),o=new RegExp("^[a-zA-Z0-9_/%:/./-]+$"),n=a.next(),i=a.closest(".form-group");o.test(t)?(e.getSettingComponent().find("a").attr("href",t),n.hide(),i.removeClass("has-error")):(n.show(),i.addClass("has-error"))});var l=t.find("#photo-target");l.on("change",function(){e.getSettingComponent().find("a").attr("target",this.value)});var r=t.find("#photo-linkable");r.on("click",function(){var t=e.getSettingComponent().find("img");r.is(":checked")?(a.prop("disabled",!1),l.prop("disabled",!1),t.wrap('<a href="" style="text-decoration: none;"></a>'),t.css("border","0")):(a.prop("disabled",!0),l.prop("disabled",!0),t.unwrap("a"))});var s=t.find("#photo-edit"),d=window.location.pathname.replace("edmeditor","");e.options.basePath&&(d=e.options.basePath),s.mselect({contentTypes:["image"],bs3Modal:!0,pagePath:d,basePath:d,onSelectFile:function(t,o,n,a){var l=e.getSettingComponent().find("img");l.attr("src","http://"+window.location.host+"/_hashes/files/"+a),i.adjustWidthForImg(l,!0)}});var c=t.find("#photo-alt");c.on("change",function(){e.getSettingComponent().find("img").attr("alt",this.value)});var p=t.find("#photo-fullwidth");p.on("click",function(){var t=e.getSettingComponent().find("img");i.adjustWidthForImg(t,p.is(":checked"))}),t=t.find("form"),o.initBgColorControl(e,t,"after",".photo-edit-wrapper"),o.initPaddingControls(e,t,"before",".photo-alt-wrapper")},showSettingForm:function(t,e,i){n('showSettingForm "photo" component',e);var a=e.find("img"),l=t.find("#photo-alt");l.val(a.attr("alt")||""),o.showBgColorControl(i,t,e),o.showPaddingControls(i,t,e);var r=t.find("#photo-fullwidth");r.prop("checked",a.hasClass("full-width"));var s=t.find("#photo-link"),d=t.find("#photo-target"),c=t.find("#photo-linkable");s.next().hide(),s.closest(".form-group").removeClass("has-error");var p=a.parent("a");p.length>0?(c.prop("checked",!0),s.prop("disabled",!1).val(p.attr("href")),d.prop("disabled",!1).val(p.attr("target"))):(c.prop("checked",!1),s.prop("disabled",!0).val(""),d.prop("disabled",!0).val(""))},adjustWidthForImg:function(o,e){n("adjustWidthForImg",o,e),o.css("display","none"),t("<img />").attr("src",o.attr("src")).load(function(){var t=this.width,n=this.height,i=t/n,a=o.parent();a.is("a")&&(a=a.parent());var l=a.width();setTimeout(function(){o.attr({width:e?l:t,height:e?l/i:n}),o.css("display","block")},200)})}}}(jQuery),function(t){var o=t.keditor,n=o.log;o.components.spacer={settingEnabled:!0,settingTitle:"Spacer Settings",initSettingForm:function(t,e){n('initSettingForm "spacer" component'),t.append('<form class="form-horizontal">    <div class="form-group">       <label for="spacer-height" class="col-sm-12">Height</label>       <div class="col-sm-12">           <input type="number" id="spacer-height" class="form-control" />       </div>    </div></form>');var i=t.find("#spacer-height");i.on("change",function(){e.getSettingComponent().find(".spacer").attr("height",this.value)}),t=t.find("form"),o.initBgColorControl(e,t,"prepend")},showSettingForm:function(t,e,i){n('showSettingForm "spacer" component',e);var a=t.find("#spacer-height");a.val(e.find(".spacer").attr("height")),o.showBgColorControl(i,t,e)}}}(jQuery),function(t){var o=t.keditor,n=o.log;CKEDITOR.disableAutoInline=!0,CKEDITOR.isEDM=!0,o.components.text={options:{title:!1,allowedContent:!0,bodyId:"editor",templates_replaceContent:!1,toolbarGroups:[{name:"document",groups:["mode","document","doctools"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"forms",groups:["forms"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"links",groups:["links"]},{name:"insert",groups:["insert"]},"/",{name:"clipboard",groups:["clipboard","undo"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]},{name:"tools",groups:["tools"]},{name:"others",groups:["others"]},{name:"about",groups:["about"]}],extraPlugins:"sourcedialog,lineheight,onchange,fuse-image",removePlugins:"table,magicline,tabletools",removeButtons:"Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor",enterMode:CKEDITOR.ENTER_DIV,forceEnterMode:!0,filebrowserBrowseUrl:"/static/fckfilemanager/browser/default/browser.html?Type=Image&Connector=/fck_connector.html",filebrowserUploadUrl:"/uploader/upload",format_tags:"p;h1;h2;h3;h4;h5;h6",stylesSet:"myStyles:"+stylesPath,line_height:"1;1.2;1.5;2;2.2;2.5"},init:function(o,e,i,a){n('init "text" component',i);var l=this,r=a.options;l.options.skin=editorSkin,l.options.templates_files=[templatesPath];var s=i.children(".keditor-component-content"),d=s.find(".text-wrapper"),c=d.html(),p=t('<div class="text-editor" contenteditable="true"></div>').attr("id",a.generateId("text-editor")).html(c);d.html(p);var u=p.ckeditor(l.options).editor;u.on("instanceReady",function(){n("CKEditor is ready",i),"function"==typeof r.onComponentReady&&r.onComponentReady.call(o,i,u)}),p.on("input",function(t){"function"==typeof r.onComponentChanged&&r.onComponentChanged.call(o,t,i),"function"==typeof r.onContainerChanged&&r.onContainerChanged.call(o,t,e),"function"==typeof r.onContentChanged&&r.onContentChanged.call(o,t)})},getContent:function(t,o){n('getContent "text" component',t);var e=t.find(".keditor-component-content"),i=e.find(".text-wrapper"),a=e.find(".text-editor"),l=a.attr("id"),r=CKEDITOR.instances[l];return r&&i.html(r.getData()),e.html()},destroy:function(t,o){n('destroy "text" component',t);var e=t.find(".text-editor").attr("id"),i=CKEDITOR.instances[e];i&&i.destroy()},settingEnabled:!0,settingTitle:"Text Settings",initSettingForm:function(t,e){n('initSettingForm "text" component'),t.append('<form class="form-horizontal"></form>'),t=t.find("form"),o.initBgColorControl(e,t,"append"),o.initPaddingControls(e,t,"append")},showSettingForm:function(t,e,i){n('showSettingForm "text" component',e),o.showBgColorControl(i,t,e),o.showPaddingControls(i,t,e)}}}(jQuery);
//# sourceMappingURL=keditor-edm-components-0.0.0.min.js.map
