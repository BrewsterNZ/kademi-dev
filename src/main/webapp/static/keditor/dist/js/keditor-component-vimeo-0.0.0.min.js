/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 0.0.0
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(e){var t=e.keditor,n=t.log;t.components.vimeo={getContent:function(e,t){n('getContent "vimeo" component',e);var i=e.children(".keditor-component-content");return i.find(".vimeo-cover").remove(),i.html()},settingEnabled:!0,settingTitle:"Vimeo Settings",initSettingForm:function(t,i){return n('init "vimeo" settings',t),e.ajax({url:"/static/keditor/componentVimeoSettings.html",type:"get",dataType:"HTML",success:function(e){t.html(e);var o=t.find(".btn-vimeo-edit");o.on("click",function(e){e.preventDefault();var t=prompt("Please enter Vimeo URL in here:"),n=/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,o=t.match(n);o&&o[1]?i.getSettingComponent().find(".embed-responsive-item").attr("src","https://player.vimeo.com/video/"+o[1]+"?byline=0&portrait=0&badge=0"):alert("Your Vimeo URL is invalid!")});var r=t.find(".btn-vimeo-169");r.on("click",function(e){e.preventDefault(),i.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-4by3").addClass("embed-responsive-16by9")});var m=t.find(".btn-vimeo-43");m.on("click",function(e){e.preventDefault(),i.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-16by9").addClass("embed-responsive-4by3")});var s=t.find("#vimeo-autoplay");s.on("click",function(){var e=i.getSettingComponent().find(".embed-responsive-item"),t=e.attr("src"),o=t.replace(/(\?.+)+/,"")+"?byline=0&portrait=0&badge=0&autoplay="+(s.is(":checked")?1:0);n("Current url: "+t,"New url: "+o),e.attr("src",o)})}})},showSettingForm:function(e,t,i){n('showSettingForm "vimeo" component',t);var o=t.find(".embed-responsive-item"),r=e.find("#vimeo-autoplay"),m=o.attr("src");r.prop("checked",-1!==m.indexOf("autoplay=1"))}}}(jQuery);
//# sourceMappingURL=keditor-component-vimeo-0.0.0.min.js.map
