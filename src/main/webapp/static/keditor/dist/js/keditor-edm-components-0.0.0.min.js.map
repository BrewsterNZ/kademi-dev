{"version":3,"sources":["keditor-edm-components-0.0.0.js"],"names":["$","KEditor","keditor","edmEditor","flog","log","components","settingEnabled","settingTitle","initSettingForm","form","ajax","url","type","dataType","success","resp","html","find","initDefaultComponentControls","buttonColorPicker","initSimpleColorPicker","color","buttonWrapper","getSettingComponent","attr","txtBorderRadius","on","setStyles","this","value","each","input","dataCss","initPaddingControl","txtText","text","trim","txtLink","href","buttonTextColorPicker","button","txtFontSize","cbbFontFamily","btn","name","e","preventDefault","hasClass","removeClass","addClass","get","style","btnsAlign","table","removeAttr","showSettingForm","component","showDefaultComponentControls","buttonInner","val","css","trigger","borderRadius","replace","propName","fontSize","toLowerCase","btnBold","fontWeight","btnItalic","align","filter","jQuery","lineHeight","lineWidth","prop","lineColorPicker","wrapper","div","height","width","init","contentArea","container","self","img","adjustWidthForImg","options","onComponentReady","call","onPaddingChanged","link","pattern","RegExp","span","next","formGroup","closest","test","hide","show","cbbTarget","chkLinkable","is","wrap","unwrap","photoEdit","mselect","contentTypes","bs3Modal","pagePath","basePath","onSelectFile","relativeUrl","fileType","hash","window","location","host","inputAlt","chkFullWidth","checked","a","parent","length","isFullWidth","load","realWidth","realHeight","ratio","wrapperWidth","onWithChanged","append","hidePadding","spacerHeight","CKEDITOR","disableAutoInline","isEDM","componentContent","children","textWrapper","textHtml","editorDiv","generateId","editor","ckeditor","ckeditorOptions","onComponentChanged","onContainerChanged","onContentChanged","getContent","id","instances","getData","destroy"],"mappings":"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","file":"keditor-edm-components-0.0.0.min.js","sourcesContent":["/**\n * KEditor Button Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var edmEditor = $.edmEditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['button'] = {\n        settingEnabled: true,\n        \n        settingTitle: 'Button Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"button\" settings', form);\n    \n            return $.ajax({\n                url: '/static/keditor/edmComponentButtonSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n    \n                    form = form.find('.form-horizontal');\n                    edmEditor.initDefaultComponentControls(form, keditor);\n    \n                    var buttonColorPicker = form.find('.button-color-picker');\n                    edmEditor.initSimpleColorPicker(buttonColorPicker, function (color) {\n                        var buttonWrapper = keditor.getSettingComponent().find('.button-wrapper');\n                        buttonWrapper.attr('bgcolor', color);\n                    });\n    \n                    var txtBorderRadius = form.find('#button-border-radius');\n                    txtBorderRadius.on('change', function () {\n                        edmEditor.setStyles('border-radius', this.value + 'px', keditor.getSettingComponent().find('.button-wrapper'));\n                    });\n    \n                    form.find('.button-inner-padding').each(function () {\n                        var input = $(this);\n                        var dataCss = input.attr('data-css');\n        \n                        edmEditor.initPaddingControl(input, function (value) {\n                            edmEditor.setStyles(dataCss, value + 'px', keditor.getSettingComponent().find('.button-inner'));\n                        });\n                    });\n    \n                    var txtText = form.find('#button-text');\n                    txtText.on('change', function () {\n                        var text = this.value || '';\n                        text = text.trim();\n        \n                        keditor.getSettingComponent().find('.button-wrapper a').text(text);\n                    });\n    \n                    var txtLink = form.find('#button-link');\n                    txtLink.on('change', function () {\n                        var href = this.value || '';\n                        href = href.trim();\n        \n                        keditor.getSettingComponent().find('.button-wrapper a').attr(\"href\", href);\n                    });\n    \n                    var buttonTextColorPicker = form.find('.button-color-text-picker');\n                    edmEditor.initSimpleColorPicker(buttonTextColorPicker, function (color) {\n                        var button = keditor.getSettingComponent().find('.button-wrapper a');\n                        edmEditor.setStyles('color', color, button);\n                    });\n    \n                    var txtFontSize = form.find('#button-font-size');\n                    txtFontSize.on('change', function () {\n                        edmEditor.setStyles('font-size', (this.value > 0 ? this.value : 0) + 'px', keditor.getSettingComponent().find('.button-wrapper .button-inner'));\n                    });\n    \n                    var cbbFontFamily = form.find('#button-font-family');\n                    cbbFontFamily.on('change', function () {\n                        edmEditor.setStyles('font-family', this.value, keditor.getSettingComponent().find('.button-wrapper .button-inner'));\n                    });\n    \n                    form.find('.btn-style').each(function () {\n                        var btn = $(this);\n                        var name = btn.attr('data-prop');\n        \n                        btn.on('click', function (e) {\n                            e.preventDefault();\n            \n                            var value = btn.attr('data-value');\n                            if (btn.hasClass('active')) {\n                                btn.removeClass('active');\n                                value = '';\n                            } else {\n                                btn.addClass('active');\n                            }\n            \n                            keditor.getSettingComponent().find('.button-wrapper a').get(0).style[name] = value;\n                        });\n                    });\n    \n                    var btnsAlign = form.find('.btn-align');\n                    btnsAlign.each(function () {\n                        var btn = $(this);\n                        var value = btn.attr('data-value');\n        \n                        btn.on('click', function (e) {\n                            e.preventDefault();\n            \n                            if (!btn.hasClass('active')) {\n                                var table = keditor.getSettingComponent().find('.button-wrapper');\n                \n                                btnsAlign.removeClass('active');\n                                btn.addClass('active');\n                \n                                if (value === 'full') {\n                                    table.attr('width', '100%').attr('align', 'center');\n                                } else {\n                                    table.removeAttr('width').attr('align', value);\n                                }\n                            }\n                        });\n                    });\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"button\" component', component);\n            \n            edmEditor.showDefaultComponentControls(form, component, keditor);\n            \n            var buttonWrapper = component.find('.button-wrapper');\n            var buttonInner = buttonWrapper.find('.button-inner');\n            var button = buttonInner.find('a');\n            \n            var buttonColorPicker = form.find('.button-color-picker');\n            buttonColorPicker.val(buttonWrapper.css('background-color') || '').trigger('update');\n            \n            var txtBorderRadius = form.find('#button-border-radius');\n            var borderRadius = buttonWrapper.css('border-radius');\n            txtBorderRadius.val(borderRadius ? borderRadius.replace('px', '') : '');\n            \n            form.find('.button-inner-padding').each(function () {\n                var input = $(this);\n                var propName = input.attr('data-css');\n                var value = buttonInner.css(propName);\n                \n                input.val(value ? value.replace('px', '') : '0');\n            });\n            \n            var txtText = form.find('#button-text');\n            txtText.val(button.text());\n            \n            var txtLink = form.find('#button-link');\n            txtLink.val(button.attr(\"href\"));\n            \n            var buttonTextColorPicker = form.find('.button-color-text-picker');\n            buttonTextColorPicker.val(button.css('color') || '').trigger('update');\n            \n            var txtFontSize = form.find('#button-font-size');\n            var fontSize = buttonInner.css('font-size');\n            txtFontSize.val(fontSize ? fontSize.replace('px', '') : '');\n            \n            var cbbFontFamily = form.find('#button-font-family');\n            cbbFontFamily.val(buttonInner.css('font-family').toLowerCase().replace(/,\\s/g, ',').replace(/\"/g, ''));\n            \n            var btnBold = form.find('.btn-bold');\n            var fontWeight = button.css('font-weight');\n            btnBold[fontWeight === '700' || fontWeight === 'bold' ? 'addClass' : 'removeClass']('active');\n            \n            var btnItalic = form.find('.btn-italic');\n            btnItalic[button.css('font-style') === 'italic' ? 'addClass' : 'removeClass']('active');\n            \n            var align = buttonWrapper.attr('align');\n            if (buttonWrapper.attr('width') === '100%') {\n                align = 'full';\n            }\n            form.find('.btn-align').removeClass('active').filter('[data-value=' + align + ']').addClass('active');\n        }\n    };\n    \n})(jQuery);\n\r\n/**\n * KEditor Line Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var edmEditor = $.edmEditor;\n    var flog = KEditor.log;\n\n    KEditor.components['line'] = {\n        settingEnabled: true,\n\n        settingTitle: 'Line Settings',\n\n        initSettingForm: function (form, keditor) {\n            flog('init \"line\" settings', form);\n    \n            return $.ajax({\n                url: '/static/keditor/edmComponentLineSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n    \n                    form = form.find('.form-horizontal');\n                    edmEditor.initDefaultComponentControls(form, keditor);\n    \n                    var lineHeight = form.find('#line-height');\n                    lineHeight.on('change', function () {\n                        keditor.getSettingComponent().find('.wrapper div').css('height', this.value);\n                    });\n    \n                    var lineWidth = form.find('#line-width');\n                    lineWidth.on('change', function () {\n                        keditor.getSettingComponent().find('.wrapper table').attr('width', this.value);\n                    });\n                    \n                    form.find('[name=width]').on('click', function () {\n                        lineWidth.prop('disabled', this.value);\n                        \n                        if (this.value) {\n                            keditor.getSettingComponent().find('.wrapper table').attr('width', '100%');\n                        }\n                    });\n    \n                    var lineColorPicker = form.find('.line-color-picker');\n                    edmEditor.initSimpleColorPicker(lineColorPicker, function (color) {\n                        var wrapper = keditor.getSettingComponent().find('.wrapper');\n                        var div = wrapper.find('div');\n        \n                        edmEditor.setStyles('background-color', color, div);\n                    });\n                }\n            });\n        },\n\n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"line\" component', component);\n\n            var lineHeight = form.find('#line-height');\n            var height = component.find('.wrapper div').css('height');\n            lineHeight.val(height ? height.replace('px', '') : '0');\n\n            var lineWidth = form.find('#line-width');\n            var width = component.find('.wrapper table').attr('width');\n            form.find('[name=width]')[width === '100%' ? 'filter' : 'not']('[value=\"line-full-width\"]').trigger('click');\n            lineWidth.val(width === '100%' ? '' : width ? width.replace('px', '') : '0');\n            \n            edmEditor.showDefaultComponentControls(form, component, keditor);\n\n            var wrapper = component.find('.wrapper');\n            var div = wrapper.find('div');\n            var lineColorPicker = form.find('.line-color-picker');\n            lineColorPicker.val(div.css('background-color') || '').trigger('update');\n        }\n    };\n\n})(jQuery);\n\r\n/**\n * KEditor Photo Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var edmEditor = $.edmEditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['photo'] = {\n        init: function (contentArea, container, component, keditor) {\n            flog('init \"photo\" component', component);\n            \n            var self = this;\n            var img = component.find('img');\n            self.adjustWidthForImg(img, img.hasClass('full-width'));\n            \n            var options = keditor.options;\n            if (typeof options.onComponentReady === 'function') {\n                options.onComponentReady.call(contentArea, component);\n            }\n        },\n        \n        settingEnabled: true,\n        \n        settingTitle: 'Photo Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"photo\" settings', form);\n            \n            var self = this;\n            return $.ajax({\n                url: '/static/keditor/edmComponentPhotoSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n                    \n                    form = form.find('.form-horizontal');\n                    edmEditor.initDefaultComponentControls(form, keditor, {\n                        onPaddingChanged: function (dataCss, value) {\n                            if (dataCss === 'padding-left' || dataCss === 'padding-right') {\n                                var img = keditor.getSettingComponent().find('img');\n                                self.adjustWidthForImg(img, img.hasClass('full-width'));\n                            }\n                        }\n                    });\n                    \n                    var txtLink = form.find('#photo-link');\n                    txtLink.on('change', function () {\n                        var link = this.value.trim();\n                        var pattern = new RegExp('^[a-zA-Z0-9_/%:/./-]+$');\n                        var span = txtLink.next();\n                        var formGroup = txtLink.closest('.form-group');\n                        \n                        if (pattern.test(link)) {\n                            keditor.getSettingComponent().find('a').attr('href', link);\n                            span.hide();\n                            formGroup.removeClass('has-error');\n                        } else {\n                            span.show();\n                            formGroup.addClass('has-error');\n                        }\n                    });\n                    \n                    var cbbTarget = form.find('#photo-target');\n                    cbbTarget.on('change', function () {\n                        keditor.getSettingComponent().find('a').attr('target', this.value);\n                    });\n                    \n                    var chkLinkable = form.find('#photo-linkable');\n                    chkLinkable.on('click', function () {\n                        var img = keditor.getSettingComponent().find('img');\n                        \n                        if (chkLinkable.is(':checked')) {\n                            txtLink.prop('disabled', false);\n                            cbbTarget.prop('disabled', false);\n                            img.wrap('<a href=\"\" style=\"text-decoration: none;\"></a>');\n                            img.css('border', '0');\n                        } else {\n                            txtLink.prop('disabled', true);\n                            cbbTarget.prop('disabled', true);\n                            img.unwrap('a');\n                        }\n                    });\n                    \n                    var photoEdit = form.find('#photo-edit');\n                    photoEdit.mselect({\n                        contentTypes: ['image'],\n                        bs3Modal: true,\n                        pagePath: keditor.options.pagePath,\n                        basePath: keditor.options.basePath,\n                        onSelectFile: function (url, relativeUrl, fileType, hash) {\n                            var img = keditor.getSettingComponent().find('img');\n                            img.attr('src', \"http://\" + window.location.host + \"/_hashes/files/\" + hash);\n                            self.adjustWidthForImg(img, true);\n                        }\n                    });\n                    \n                    var inputAlt = form.find('#photo-alt');\n                    inputAlt.on('change', function () {\n                        keditor.getSettingComponent().find('img').attr('alt', this.value);\n                    });\n                    \n                    var chkFullWidth = form.find('#photo-fullwidth');\n                    chkFullWidth.on('click', function () {\n                        var img = keditor.getSettingComponent().find('img');\n                        img[this.checked ? 'addClass' : 'removeClass']('full-width');\n                        self.adjustWidthForImg(img, this.checked);\n                    });\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"photo\" component', component);\n            \n            edmEditor.showDefaultComponentControls(form, component, keditor);\n            \n            var img = component.find('img');\n            \n            var inputAlt = form.find('#photo-alt');\n            inputAlt.val(img.attr('alt') || '');\n            \n            var chkFullWidth = form.find('#photo-fullwidth');\n            chkFullWidth.prop('checked', img.hasClass('full-width'));\n            \n            var txtLink = form.find('#photo-link');\n            var cbbTarget = form.find('#photo-target');\n            var chkLinkable = form.find('#photo-linkable');\n            \n            txtLink.next().hide();\n            txtLink.closest('.form-group').removeClass('has-error');\n            \n            var a = img.parent('a');\n            if (a.length > 0) {\n                chkLinkable.prop('checked', true);\n                txtLink.prop('disabled', false).val(a.attr('href'));\n                cbbTarget.prop('disabled', false).val(a.attr('target'));\n            } else {\n                chkLinkable.prop('checked', false);\n                txtLink.prop('disabled', true).val('');\n                cbbTarget.prop('disabled', true).val('');\n            }\n        },\n        \n        adjustWidthForImg: function (img, isFullWidth) {\n            flog('adjustWidthForImg', img, isFullWidth);\n            \n            img.css('display', 'none');\n            \n            $('<img />').attr('src', img.attr('src')).load(function () {\n                var realWidth = this.width;\n                var realHeight = this.height;\n                var ratio = realWidth / realHeight;\n                var wrapper = img.parent();\n                if (wrapper.is('a')) {\n                    wrapper = wrapper.parent();\n                }\n                var wrapperWidth = wrapper.width();\n                img.attr({\n                    width: isFullWidth ? wrapperWidth : realWidth,\n                    height: isFullWidth ? wrapperWidth / ratio : realHeight\n                });\n                img.css('display', 'block');\n            });\n        },\n        \n        onWithChanged: function (component, width, keditor) {\n            var self = this;\n            \n            var img = component.find('img');\n            self.adjustWidthForImg(img, img.hasClass('full-width'));\n        }\n    };\n    \n})(jQuery);\n\r\n/**\n * KEditor Spacer Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var edmEditor = $.edmEditor;\n    var flog = KEditor.log;\n\n    KEditor.components['spacer'] = {\n        settingEnabled: true,\n\n        settingTitle: 'Spacer Settings',\n\n        initSettingForm: function (form, keditor) {\n            flog('initSettingForm \"spacer\" component');\n            form.append(\n                '<div class=\"form-horizontal\">' +\n                '    <div class=\"form-group\">' +\n                '       <label for=\"spacer-height\" class=\"col-sm-12\">Height</label>' +\n                '       <div class=\"col-sm-12\">' +\n                '           <input type=\"number\" id=\"spacer-height\" class=\"form-control\" />' +\n                '       </div>' +\n                '    </div>' +\n                '</div>'\n            );\n    \n            form = form.find('.form-horizontal');\n            edmEditor.initDefaultComponentControls(form, keditor, {\n                hidePadding: true\n            });\n\n            var spacerHeight = form.find('#spacer-height');\n            spacerHeight.on('change', function () {\n                keditor.getSettingComponent().find('.spacer').attr('height', this.value);\n            });\n        },\n\n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"spacer\" component', component);\n\n            var spacerHeight = form.find('#spacer-height');\n            spacerHeight.val(component.find('.spacer').attr('height'));\n    \n            edmEditor.showDefaultComponentControls(form, component, keditor);\n        }\n    };\n\n})(jQuery);\n\r\n/**\n * KEditor Text Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var edmEditor = $.edmEditor;\n    var flog = KEditor.log;\n\n    CKEDITOR.disableAutoInline = true;\n    CKEDITOR.isEDM = true;\n\n    // Text component\n    // ---------------------------------------------------------------------\n    KEditor.components['text'] = {\n        init: function (contentArea, container, component, keditor) {\n            flog('init \"text\" component', component);\n\n            var self = this;\n            var options = keditor.options;\n\n            var componentContent = component.children('.keditor-component-content');\n            var textWrapper = componentContent.find('.text-wrapper');\n            var textHtml = textWrapper.html();\n            var editorDiv = $('<div class=\"text-editor\" contenteditable=\"true\"></div>').attr('id', keditor.generateId('text-editor')).html(textHtml);\n            textWrapper.html(editorDiv);\n\n            var editor = editorDiv.ckeditor(keditor.options.ckeditorOptions).editor;\n            editor.on('instanceReady', function () {\n                flog('CKEditor is ready', component);\n\n                if (typeof options.onComponentReady === 'function') {\n                    options.onComponentReady.call(keditor, component, editor, contentArea);\n                }\n            });\n\n            editorDiv.on('input', function (e) {\n                if (typeof options.onComponentChanged === 'function') {\n                    options.onComponentChanged.call(keditor, e, component, contentArea);\n                }\n\n                if (typeof options.onContainerChanged === 'function') {\n                    options.onContainerChanged.call(keditor, e, container, contentArea);\n                }\n\n                if (typeof options.onContentChanged === 'function') {\n                    options.onContentChanged.call(keditor, e, contentArea);\n                }\n            });\n        },\n\n        getContent: function (component, keditor) {\n            flog('getContent \"text\" component', component);\n\n            var componentContent = component.find('.keditor-component-content');\n            var textWrapper = componentContent.find('.text-wrapper');\n            var editorDiv = componentContent.find('.text-editor');\n            var id = editorDiv.attr('id');\n            var editor = CKEDITOR.instances[id];\n\n            if (editor) {\n                textWrapper.html(editor.getData());\n            }\n\n            return componentContent.html();\n        },\n\n        destroy: function (component, keditor) {\n            flog('destroy \"text\" component', component);\n\n            var id = component.find('.text-editor').attr('id');\n            var editor = CKEDITOR.instances[id];\n            if (editor) {\n                editor.destroy();\n            }\n        },\n\n        settingEnabled: true,\n\n        settingTitle: 'Text Settings',\n\n        initSettingForm: function (form, keditor) {\n            flog('initSettingForm \"text\" component');\n            form.append(\n                '<div class=\"form-horizontal\">' +\n                '</div>'\n            );\n\n            form = form.find('.form-horizontal');\n            edmEditor.initDefaultComponentControls(form, keditor);\n        },\n\n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"text\" component', component);\n    \n            edmEditor.showDefaultComponentControls(form, component, keditor);\n        }\n    };\n\n})(jQuery);\n"],"sourceRoot":"/source/"}