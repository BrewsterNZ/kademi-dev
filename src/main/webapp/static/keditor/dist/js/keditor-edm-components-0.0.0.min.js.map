{"version":3,"sources":["keditor-edm-components-0.0.0.js"],"names":["$","KEditor","keditor","edmEditor","flog","log","components","settingEnabled","settingTitle","settingFormHtml","initSettingForm","form","append","this","find","initDefaultComponentControls","buttonColorPicker","initSimpleColorPicker","color","buttonWrapper","getSettingComponent","attr","txtBorderRadius","on","setStyles","value","each","input","dataCss","initPaddingControl","txtText","text","trim","txtLink","href","buttonTextColorPicker","button","txtFontSize","cbbFontFamily","btn","name","e","preventDefault","hasClass","removeClass","addClass","get","style","btnsAlign","table","removeAttr","showSettingForm","component","showDefaultComponentControls","buttonInner","val","css","trigger","borderRadius","replace","propName","fontSize","toLowerCase","btnBold","fontWeight","btnItalic","align","filter","jQuery","lineHeight","lineColorPicker","wrapper","div","children","height","lineWidth","width","init","contentArea","container","self","img","adjustWidthForImg","options","onComponentReady","call","link","pattern","RegExp","span","next","formGroup","closest","test","hide","show","cbbTarget","chkLinkable","is","prop","wrap","unwrap","photoEdit","mselect","contentTypes","bs3Modal","pagePath","basePath","onSelectFile","url","relativeUrl","fileType","hash","window","location","host","inputAlt","chkFullWidth","checked","onPaddingChanged","a","parent","length","isFullWidth","load","realWidth","realHeight","ratio","wrapperWidth","onWithChanged","spacerHeight","hidePadding","CKEDITOR","disableAutoInline","isEDM","componentContent","textWrapper","textHtml","html","editorDiv","generateId","editor","ckeditor","ckeditorOptions","onComponentChanged","onContainerChanged","onContentChanged","getContent","id","instances","getData","destroy"],"mappings":"CAOA,SAAWA,GACP,GAAIC,GAAUD,EAAEE,QACZC,EAAYH,EAAEG,UACdC,EAAOH,EAAQI,GAEnBJ,GAAQK,WAAmB,QACvBC,gBAAgB,EAEhBC,aAAc,kBAEdC,gBAAiB,ymJAoGjBC,gBAAiB,SAAUC,EAAMT,GAC7BE,EAAK,sCAELO,EAAKC,OAAOC,KAAKJ,iBAEjBE,EAAOA,EAAKG,KAAK,QACjBX,EAAUY,6BAA6BJ,EAAMT,EAE7C,IAAIc,GAAoBL,EAAKG,KAAK,uBAClCX,GAAUc,sBAAsBD,EAAmB,SAAUE,GACzD,GAAIC,GAAgBjB,EAAQkB,sBAAsBN,KAAK,kBACvDK,GAAcE,KAAK,UAAWH,IAGlC,IAAII,GAAkBX,EAAKG,KAAK,wBAChCQ,GAAgBC,GAAG,SAAU,WACzBpB,EAAUqB,UAAU,gBAAiBX,KAAKY,MAAQ,KAAMvB,EAAQkB,sBAAsBN,KAAK,sBAG/FH,EAAKG,KAAK,yBAAyBY,KAAK,WACpC,GAAIC,GAAQ3B,EAAEa,MACVe,EAAUD,EAAMN,KAAK,WAEzBlB,GAAU0B,mBAAmBF,EAAO,SAAUF,GAC1CtB,EAAUqB,UAAUI,EAASH,EAAOvB,EAAQkB,sBAAsBN,KAAK,qBAI/E,IAAIgB,GAAUnB,EAAKG,KAAK,eACxBgB,GAAQP,GAAG,SAAU,WACjB,GAAIQ,GAAOlB,KAAKY,OAAS,EACzBM,GAAOA,EAAKC,OAEZ9B,EAAQkB,sBAAsBN,KAAK,qBAAqBiB,KAAKA,IAGjE,IAAIE,GAAUtB,EAAKG,KAAK,eACxBmB,GAAQV,GAAG,SAAU,WACjB,GAAIW,GAAOrB,KAAKY,OAAS,EACzBS,GAAOA,EAAKF,OAEZ9B,EAAQkB,sBAAsBN,KAAK,qBAAqBO,KAAK,OAAQa,IAGzE,IAAIC,GAAwBxB,EAAKG,KAAK,4BACtCX,GAAUc,sBAAsBkB,EAAuB,SAAUjB,GAC7D,GAAIkB,GAASlC,EAAQkB,sBAAsBN,KAAK,oBAChDX,GAAUqB,UAAU,QAASN,EAAOkB,IAGxC,IAAIC,GAAc1B,EAAKG,KAAK,oBAC5BuB,GAAYd,GAAG,SAAU,WACrBpB,EAAUqB,UAAU,aAAcX,KAAKY,MAAQ,EAAIZ,KAAKY,MAAQ,GAAK,KAAMvB,EAAQkB,sBAAsBN,KAAK,uBAGlH,IAAIwB,GAAgB3B,EAAKG,KAAK,sBAC9BwB,GAAcf,GAAG,SAAU,WACvBpB,EAAUqB,UAAU,cAAeX,KAAKY,MAAOvB,EAAQkB,sBAAsBN,KAAK,wBAGtFH,EAAKG,KAAK,cAAcY,KAAK,WACzB,GAAIa,GAAMvC,EAAEa,MACR2B,EAAOD,EAAIlB,KAAK,YAEpBkB,GAAIhB,GAAG,QAAS,SAAUkB,GACtBA,EAAEC,gBAEF,IAAIjB,GAAQc,EAAIlB,KAAK,aACjBkB,GAAII,SAAS,WACbJ,EAAIK,YAAY,UAChBnB,EAAQ,IAERc,EAAIM,SAAS,UAGjB3C,EAAQkB,sBAAsBN,KAAK,qBAAqBgC,IAAI,GAAGC,MAAMP,GAAQf,KAIrF,IAAIuB,GAAYrC,EAAKG,KAAK,aAC1BkC,GAAUtB,KAAK,WACX,GAAIa,GAAMvC,EAAEa,MACRY,EAAQc,EAAIlB,KAAK,aAErBkB,GAAIhB,GAAG,QAAS,SAAUkB,GAGtB,GAFAA,EAAEC,kBAEGH,EAAII,SAAS,UAAW,CACzB,GAAIM,GAAQ/C,EAAQkB,sBAAsBN,KAAK,kBAE/CkC,GAAUJ,YAAY,UACtBL,EAAIM,SAAS,UAEC,SAAVpB,EACAwB,EAAM5B,KAAK,QAAS,QAAQA,KAAK,QAAS,UAE1C4B,EAAMC,WAAW,SAAS7B,KAAK,QAASI,SAO5D0B,gBAAiB,SAAUxC,EAAMyC,EAAWlD,GACxCE,EAAK,qCAAsCgD,GAE3CjD,EAAUkD,6BAA6B1C,EAAMyC,EAAWlD,EAExD,IAAIiB,GAAgBiC,EAAUtC,KAAK,mBAC/BwC,EAAcnC,EAAcL,KAAK,iBACjCsB,EAASkB,EAAYxC,KAAK,KAE1BE,EAAoBL,EAAKG,KAAK,uBAClCE,GAAkBuC,IAAIpC,EAAcqC,IAAI,qBAAuB,IAAIC,QAAQ,SAE3E,IAAInC,GAAkBX,EAAKG,KAAK,yBAC5B4C,EAAevC,EAAcqC,IAAI,gBACrClC,GAAgBiC,IAAIG,EAAeA,EAAaC,QAAQ,KAAM,IAAM,IAEpEhD,EAAKG,KAAK,yBAAyBY,KAAK,WACpC,GAAIC,GAAQ3B,EAAEa,MACV+C,EAAWjC,EAAMN,KAAK,aACtBI,EAAQ6B,EAAYR,IAAI,GAAGC,MAAMa,EAErCjC,GAAM4B,IAAI9B,EAAQA,EAAMkC,QAAQ,KAAM,IAAM,MAGhD,IAAI7B,GAAUnB,EAAKG,KAAK,eACxBgB,GAAQyB,IAAInB,EAAOL,OAEnB,IAAIE,GAAUtB,EAAKG,KAAK,eACxBmB,GAAQsB,IAAInB,EAAOf,KAAK,QAExB,IAAIc,GAAwBxB,EAAKG,KAAK,4BACtCqB,GAAsBoB,IAAInB,EAAOoB,IAAI,UAAY,IAAIC,QAAQ,SAE7D,IAAIpB,GAAc1B,EAAKG,KAAK,qBACxB+C,EAAWzB,EAAOoB,IAAI,YAC1BnB,GAAYkB,IAAIM,EAAWA,EAASF,QAAQ,KAAM,IAAM,GAExD,IAAIrB,GAAgB3B,EAAKG,KAAK,sBAC9BwB,GAAciB,IAAInB,EAAOoB,IAAI,eAAeM,cAAcH,QAAQ,OAAQ,KAAKA,QAAQ,KAAM,IAE7F,IAAII,GAAUpD,EAAKG,KAAK,aACpBkD,EAAa5B,EAAOoB,IAAI,cAC5BO,GAAuB,QAAfC,GAAuC,SAAfA,EAAwB,WAAa,eAAe,SAEpF,IAAIC,GAAYtD,EAAKG,KAAK,cAC1BmD,GAAuC,WAA7B7B,EAAOoB,IAAI,cAA6B,WAAa,eAAe,SAE9E,IAAIU,GAAQ/C,EAAcE,KAAK,QACK,UAAhCF,EAAcE,KAAK,WACnB6C,EAAQ,QAEZvD,EAAKG,KAAK,cAAc8B,YAAY,UAAUuB,OAAO,eAAiBD,EAAQ,KAAKrB,SAAS,aAIrGuB,QASH,SAAWpE,GACP,GAAIC,GAAUD,EAAEE,QACZC,EAAYH,EAAEG,UACdC,EAAOH,EAAQI,GAEnBJ,GAAQK,WAAiB,MACrBC,gBAAgB,EAEhBC,aAAc,gBAEdE,gBAAiB,SAAUC,EAAMT,GAC7BE,EAAK,oCACLO,EAAKC,OACD,upBAsBJD,EAAOA,EAAKG,KAAK,QACjBX,EAAUY,6BAA6BJ,EAAMT,EAE7C,IAAImE,GAAa1D,EAAKG,KAAK,eAC3BuD,GAAW9C,GAAG,SAAU,WACpBrB,EAAQkB,sBAAsBN,KAAK,gBAAgB0C,IAAI,SAAU3C,KAAKY,QAG1E,IAAI4C,GAAa1D,EAAKG,KAAK,cAC3BuD,GAAW9C,GAAG,SAAU,WACpBrB,EAAQkB,sBAAsBN,KAAK,kBAAkBO,KAAK,QAASR,KAAKY,QAG5E,IAAI6C,GAAkB3D,EAAKG,KAAK,qBAChCX,GAAUc,sBAAsBqD,EAAiB,SAAUpD,GACvD,GAAIqD,GAAUrE,EAAQkB,sBAAsBN,KAAK,YAC7C0D,EAAMD,EAAQE,SAAS,MAE3BtE,GAAUqB,UAAU,mBAAoBN,EAAOsD,MAIvDrB,gBAAiB,SAAUxC,EAAMyC,EAAWlD,GACxCE,EAAK,mCAAoCgD,EAEzC,IAAIiB,GAAa1D,EAAKG,KAAK,gBACvB4D,EAAStB,EAAUtC,KAAK,gBAAgB0C,IAAI,SAChDa,GAAWd,IAAImB,EAASA,EAAOf,QAAQ,KAAM,IAAM,IAEnD,IAAIgB,GAAYhE,EAAKG,KAAK,eACtB8D,EAAQxB,EAAUtC,KAAK,kBAAkBO,KAAK,QAClDsD,GAAUpB,IAAIqB,EAAQA,EAAMjB,QAAQ,KAAM,IAAM,KAEhDxD,EAAUkD,6BAA6B1C,EAAMyC,EAAWlD,EAExD,IAAIqE,GAAUnB,EAAUtC,KAAK,YACzB0D,EAAMD,EAAQE,SAAS,OACvBH,EAAkB3D,EAAKG,KAAK,qBAChCwD,GAAgBf,IAAIiB,EAAIhB,IAAI,qBAAuB,IAAIC,QAAQ,aAIxEW,QASH,SAAWpE,GACP,GAAIC,GAAUD,EAAEE,QACZC,EAAYH,EAAEG,UACdC,EAAOH,EAAQI,GAEnBJ,GAAQK,WAAkB,OACtBuE,KAAM,SAAUC,EAAaC,EAAW3B,EAAWlD,GAC/CE,EAAK,yBAA0BgD,EAE/B,IAAI4B,GAAOnE,KACPoE,EAAM7B,EAAUtC,KAAK,MACzBkE,GAAKE,kBAAkBD,EAAKA,EAAItC,SAAS,cAEzC,IAAIwC,GAAUjF,EAAQiF,OACkB,mBAA7BA,GAAQC,kBACfD,EAAQC,iBAAiBC,KAAKP,EAAa1B,IAInD7C,gBAAgB,EAEhBC,aAAc,iBAEdE,gBAAiB,SAAUC,EAAMT,GAC7BE,EAAK,oCAEL,IAAI4E,GAAOnE,IAEXF,GAAKC,OACD,4iDA2CJ,IAAIqB,GAAUtB,EAAKG,KAAK,cACxBmB,GAAQV,GAAG,SAAU,WACjB,GAAI+D,GAAOzE,KAAKY,MAAMO,OAClBuD,EAAU,GAAIC,QAAO,0BACrBC,EAAOxD,EAAQyD,OACfC,EAAY1D,EAAQ2D,QAAQ,cAE5BL,GAAQM,KAAKP,IACbpF,EAAQkB,sBAAsBN,KAAK,KAAKO,KAAK,OAAQiE,GACrDG,EAAKK,OACLH,EAAU/C,YAAY,eAEtB6C,EAAKM,OACLJ,EAAU9C,SAAS,eAI3B,IAAImD,GAAYrF,EAAKG,KAAK,gBAC1BkF,GAAUzE,GAAG,SAAU,WACnBrB,EAAQkB,sBAAsBN,KAAK,KAAKO,KAAK,SAAUR,KAAKY,QAGhE,IAAIwE,GAActF,EAAKG,KAAK,kBAC5BmF,GAAY1E,GAAG,QAAS,WACpB,GAAI0D,GAAM/E,EAAQkB,sBAAsBN,KAAK,MAEzCmF,GAAYC,GAAG,aACfjE,EAAQkE,KAAK,YAAY,GACzBH,EAAUG,KAAK,YAAY,GAC3BlB,EAAImB,KAAK,kDACTnB,EAAIzB,IAAI,SAAU,OAElBvB,EAAQkE,KAAK,YAAY,GACzBH,EAAUG,KAAK,YAAY,GAC3BlB,EAAIoB,OAAO,OAInB,IAAIC,GAAY3F,EAAKG,KAAK,cAC1BwF,GAAUC,SACNC,cAAe,SACfC,UAAU,EACVC,SAAUxG,EAAQiF,QAAQuB,SAC1BC,SAAUzG,EAAQiF,QAAQwB,SAC1BC,aAAc,SAAUC,EAAKC,EAAaC,EAAUC,GAChD,GAAI/B,GAAM/E,EAAQkB,sBAAsBN,KAAK,MAC7CmE,GAAI5D,KAAK,MAAO,UAAY4F,OAAOC,SAASC,KAAO,kBAAoBH,GACvEhC,EAAKE,kBAAkBD,GAAK,KAIpC,IAAImC,GAAWzG,EAAKG,KAAK,aACzBsG,GAAS7F,GAAG,SAAU,WAClBrB,EAAQkB,sBAAsBN,KAAK,OAAOO,KAAK,MAAOR,KAAKY,QAG/D,IAAI4F,GAAe1G,EAAKG,KAAK,mBAC7BuG,GAAa9F,GAAG,QAAS,WACrB,GAAI0D,GAAM/E,EAAQkB,sBAAsBN,KAAK,MAC7CmE,GAAIpE,KAAKyG,QAAU,WAAa,eAAe,cAC/CtC,EAAKE,kBAAkBD,EAAKpE,KAAKyG,WAGrC3G,EAAOA,EAAKG,KAAK,QACjBX,EAAUY,6BAA6BJ,EAAMT,GACzCqH,iBAAkB,SAAU3F,EAASH,GACjC,GAAgB,iBAAZG,GAA0C,kBAAZA,EAA6B,CAC3D,GAAIqD,GAAM/E,EAAQkB,sBAAsBN,KAAK,MAC7CkE,GAAKE,kBAAkBD,EAAKA,EAAItC,SAAS,oBAMzDQ,gBAAiB,SAAUxC,EAAMyC,EAAWlD,GACxCE,EAAK,oCAAqCgD,GAE1CjD,EAAUkD,6BAA6B1C,EAAMyC,EAAWlD,EAExD,IAAI+E,GAAM7B,EAAUtC,KAAK,OAErBsG,EAAWzG,EAAKG,KAAK,aACzBsG,GAAS7D,IAAI0B,EAAI5D,KAAK,QAAU,GAEhC,IAAIgG,GAAe1G,EAAKG,KAAK,mBAC7BuG,GAAalB,KAAK,UAAWlB,EAAItC,SAAS,cAE1C,IAAIV,GAAUtB,EAAKG,KAAK,eACpBkF,EAAYrF,EAAKG,KAAK,iBACtBmF,EAActF,EAAKG,KAAK,kBAE5BmB,GAAQyD,OAAOI,OACf7D,EAAQ2D,QAAQ,eAAehD,YAAY,YAE3C,IAAI4E,GAAIvC,EAAIwC,OAAO,IACfD,GAAEE,OAAS,GACXzB,EAAYE,KAAK,WAAW,GAC5BlE,EAAQkE,KAAK,YAAY,GAAO5C,IAAIiE,EAAEnG,KAAK,SAC3C2E,EAAUG,KAAK,YAAY,GAAO5C,IAAIiE,EAAEnG,KAAK,aAE7C4E,EAAYE,KAAK,WAAW,GAC5BlE,EAAQkE,KAAK,YAAY,GAAM5C,IAAI,IACnCyC,EAAUG,KAAK,YAAY,GAAM5C,IAAI,MAI7C2B,kBAAmB,SAAUD,EAAK0C,GAC9BvH,EAAK,oBAAqB6E,EAAK0C,GAE/B1C,EAAIzB,IAAI,UAAW,QAEnBxD,EAAE,WAAWqB,KAAK,MAAO4D,EAAI5D,KAAK,QAAQuG,KAAK,WAC3C,GAAIC,GAAYhH,KAAK+D,MACjBkD,EAAajH,KAAK6D,OAClBqD,EAAQF,EAAYC,EACpBvD,EAAUU,EAAIwC,QACdlD,GAAQ2B,GAAG,OACX3B,EAAUA,EAAQkD,SAEtB,IAAIO,GAAezD,EAAQK,OAC3BK,GAAI5D,MACAuD,MAAO+C,EAAcK,EAAeH,EACpCnD,OAAQiD,EAAcK,EAAeD,EAAQD,IAEjD7C,EAAIzB,IAAI,UAAW,YAI3ByE,cAAe,SAAU7E,EAAWwB,EAAO1E,GACvC,GAAI8E,GAAOnE,KAEPoE,EAAM7B,EAAUtC,KAAK,MACzBkE,GAAKE,kBAAkBD,EAAKA,EAAItC,SAAS,kBAIlDyB,QASH,SAAWpE,GACP,GAAIC,GAAUD,EAAEE,QACZC,EAAYH,EAAEG,UACdC,EAAOH,EAAQI,GAEnBJ,GAAQK,WAAmB,QACvBC,gBAAgB,EAEhBC,aAAc,kBAEdE,gBAAiB,SAAUC,EAAMT,GAC7BE,EAAK,sCACLO,EAAKC,OACD,qQAUJ,IAAIsH,GAAevH,EAAKG,KAAK,iBAC7BoH,GAAa3G,GAAG,SAAU,WACtBrB,EAAQkB,sBAAsBN,KAAK,WAAWO,KAAK,SAAUR,KAAKY,SAGtEd,EAAOA,EAAKG,KAAK,QACjBX,EAAUY,6BAA6BJ,EAAMT,GACzCiI,aAAa,KAIrBhF,gBAAiB,SAAUxC,EAAMyC,EAAWlD,GACxCE,EAAK,qCAAsCgD,EAE3C,IAAI8E,GAAevH,EAAKG,KAAK,iBAC7BoH,GAAa3E,IAAIH,EAAUtC,KAAK,WAAWO,KAAK,WAEhDlB,EAAUkD,6BAA6B1C,EAAMyC,EAAWlD,MAIjEkE,QASH,SAAWpE,GACP,GAAIC,GAAUD,EAAEE,QACZC,EAAYH,EAAEG,UACdC,EAAOH,EAAQI,GAEnB+H,UAASC,mBAAoB,EAC7BD,SAASE,OAAQ,EAIjBrI,EAAQK,WAAiB,MACrBuE,KAAM,SAAUC,EAAaC,EAAW3B,EAAWlD,GAC/CE,EAAK,wBAAyBgD,EAE9B,IACI+B,GAAUjF,EAAQiF,QAElBoD,EAAmBnF,EAAUqB,SAAS,8BACtC+D,EAAcD,EAAiBzH,KAAK,iBACpC2H,EAAWD,EAAYE,OACvBC,EAAY3I,EAAE,0DAA0DqB,KAAK,KAAMnB,EAAQ0I,WAAW,gBAAgBF,KAAKD,EAC/HD,GAAYE,KAAKC,EAEjB,IAAIE,GAASF,EAAUG,SAAS5I,EAAQiF,QAAQ4D,iBAAiBF,MACjEA,GAAOtH,GAAG,gBAAiB,WACvBnB,EAAK,oBAAqBgD,GAEc,kBAA7B+B,GAAQC,kBACfD,EAAQC,iBAAiBC,KAAKnF,EAASkD,EAAWyF,EAAQ/D,KAIlE6D,EAAUpH,GAAG,QAAS,SAAUkB,GACc,kBAA/B0C,GAAQ6D,oBACf7D,EAAQ6D,mBAAmB3D,KAAKnF,EAASuC,EAAGW,EAAW0B,GAGjB,kBAA/BK,GAAQ8D,oBACf9D,EAAQ8D,mBAAmB5D,KAAKnF,EAASuC,EAAGsC,EAAWD,GAGnB,kBAA7BK,GAAQ+D,kBACf/D,EAAQ+D,iBAAiB7D,KAAKnF,EAASuC,EAAGqC,MAKtDqE,WAAY,SAAU/F,EAAWlD,GAC7BE,EAAK,8BAA+BgD,EAEpC,IAAImF,GAAmBnF,EAAUtC,KAAK,8BAClC0H,EAAcD,EAAiBzH,KAAK,iBACpC6H,EAAYJ,EAAiBzH,KAAK,gBAClCsI,EAAKT,EAAUtH,KAAK,MACpBwH,EAAST,SAASiB,UAAUD,EAMhC,OAJIP,IACAL,EAAYE,KAAKG,EAAOS,WAGrBf,EAAiBG,QAG5Ba,QAAS,SAAUnG,EAAWlD,GAC1BE,EAAK,2BAA4BgD,EAEjC,IAAIgG,GAAKhG,EAAUtC,KAAK,gBAAgBO,KAAK,MACzCwH,EAAST,SAASiB,UAAUD,EAC5BP,IACAA,EAAOU,WAIfhJ,gBAAgB,EAEhBC,aAAc,gBAEdE,gBAAiB,SAAUC,EAAMT,GAC7BE,EAAK,oCACLO,EAAKC,OACD,yCAIJD,EAAOA,EAAKG,KAAK,QACjBX,EAAUY,6BAA6BJ,EAAMT,IAGjDiD,gBAAiB,SAAUxC,EAAMyC,EAAWlD,GACxCE,EAAK,mCAAoCgD,GAEzCjD,EAAUkD,6BAA6B1C,EAAMyC,EAAWlD,MAIjEkE","file":"keditor-edm-components-0.0.0.min.js","sourcesContent":["/**\r\n * KEditor Button Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var edmEditor = $.edmEditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['button'] = {\r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Button Settings',\r\n        \r\n        settingFormHtml: (\r\n            '<form class=\"form-horizontal\">' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <div class=\"col-md-12\">' +\r\n            '           <label>Button color</label>' +\r\n            '           <input type=\"text\" value=\"\" id=\"button-color\" class=\"form-control button-color-picker\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label for=\"button-border-radius\" class=\"col-sm-12\">Border Radius</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"number\" id=\"button-border-radius\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <div class=\"col-md-12\">' +\r\n            '           <label>Inner Padding (in px)</label>' +\r\n            '           <div class=\"row row-sm text-center\">' +\r\n            '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n            '                   <input type=\"number\" value=\"\" class=\"button-inner-padding form-control\" data-css=\"padding-top\" />' +\r\n            '                   <small>top</small>' +\r\n            '               </div>' +\r\n            '           </div>' +\r\n            '           <div class=\"row row-sm text-center\">' +\r\n            '               <div class=\"col-xs-4\">' +\r\n            '                   <input type=\"number\" value=\"\" class=\"button-inner-padding form-control\" data-css=\"padding-left\" />' +\r\n            '                   <small>left</small>' +\r\n            '               </div>' +\r\n            '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n            '                   <input type=\"number\" value=\"\" class=\"button-inner-padding form-control\" data-css=\"padding-right\" />' +\r\n            '                   <small>right</small>' +\r\n            '               </div>' +\r\n            '           </div>' +\r\n            '           <div class=\"row row-sm text-center\">' +\r\n            '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n            '                   <input type=\"number\" value=\"\" class=\"button-inner-padding form-control\" data-css=\"padding-bottom\" />' +\r\n            '                   <small>bottom</small>' +\r\n            '               </div>' +\r\n            '           </div>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label for=\"button-text\" class=\"col-sm-12\">Text</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"text\" id=\"button-text\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group button-link\">' +\r\n            '       <label for=\"button-link\" class=\"col-sm-12\">Link</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"text\" id=\"button-link\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <div class=\"col-md-12\">' +\r\n            '           <label>Text color</label>' +\r\n            '           <input type=\"text\" value=\"\" id=\"button-text-color\" class=\"form-control button-color-text-picker\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label for=\"button-font-size\" class=\"col-sm-12\">Font Size</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"number\" id=\"button-font-size\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label for=\"button-font-family\" class=\"col-sm-12\">Font Family</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <select id=\"button-font-family\" class=\"form-control\">' +\r\n            '               <option value=\"\">None</option>' +\r\n            '               <option value=\"arial,helvetica,sans-serif\">Arial</option>' +\r\n            '               <option value=\"comic sans ms,cursive\">Comic Sans MS</option>' +\r\n            '               <option value=\"courier new,courier,monospace\">Courier New</option>' +\r\n            '               <option value=\"lucida sans unicode,lucida grande,sans-serif\">Lucida Sans Unicode</option>' +\r\n            '               <option value=\"tahoma,geneva,sans-serif\">Tahoma</option>' +\r\n            '               <option value=\"times new roman,times,serif\">Times New Roman</option>' +\r\n            '               <option value=\"trebuchet ms,helvetica,sans-serif\">Trebuchet MS</option>' +\r\n            '               <option value=\"verdana,geneva,sans-serif\">Verdana</option>' +\r\n            '           </select>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Font Style</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-style btn-bold\" data-value=\"bold\" data-prop=\"fontWeight\" name=\"font-weight\"><i class=\"fa fa-bold\"></i></button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-style btn-italic\" data-value=\"italic\" data-prop=\"fontStyle\" name=\"font-style\"><i class=\"fa fa-italic\"></i></button>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Alignment</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-align\" data-value=\"left\"><i class=\"fa fa-align-left\"></i></button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-align\" data-value=\"center\"><i class=\"fa fa-align-center\"></i></button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-align\" data-value=\"right\"><i class=\"fa fa-align-right\"></i></button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-align\" data-value=\"full\"><i class=\"fa fa-align-justify\"></i></button>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '</form>'\r\n        ),\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"button\" component');\r\n            \r\n            form.append(this.settingFormHtml);\r\n            \r\n            form = form.find('form');\r\n            edmEditor.initDefaultComponentControls(form, keditor);\r\n            \r\n            var buttonColorPicker = form.find('.button-color-picker');\r\n            edmEditor.initSimpleColorPicker(buttonColorPicker, function (color) {\r\n                var buttonWrapper = keditor.getSettingComponent().find('.button-wrapper');\r\n                buttonWrapper.attr('bgcolor', color);\r\n            });\r\n            \r\n            var txtBorderRadius = form.find('#button-border-radius');\r\n            txtBorderRadius.on('change', function () {\r\n                edmEditor.setStyles('border-radius', this.value + 'px', keditor.getSettingComponent().find('.button-wrapper'));\r\n            });\r\n            \r\n            form.find('.button-inner-padding').each(function () {\r\n                var input = $(this);\r\n                var dataCss = input.attr('data-css');\r\n                \r\n                edmEditor.initPaddingControl(input, function (value) {\r\n                    edmEditor.setStyles(dataCss, value, keditor.getSettingComponent().find('.button-inner'));\r\n                });\r\n            });\r\n            \r\n            var txtText = form.find('#button-text');\r\n            txtText.on('change', function () {\r\n                var text = this.value || '';\r\n                text = text.trim();\r\n                \r\n                keditor.getSettingComponent().find('.button-wrapper a').text(text);\r\n            });\r\n            \r\n            var txtLink = form.find('#button-link');\r\n            txtLink.on('change', function () {\r\n                var href = this.value || '';\r\n                href = href.trim();\r\n                \r\n                keditor.getSettingComponent().find('.button-wrapper a').attr(\"href\", href);\r\n            });\r\n            \r\n            var buttonTextColorPicker = form.find('.button-color-text-picker');\r\n            edmEditor.initSimpleColorPicker(buttonTextColorPicker, function (color) {\r\n                var button = keditor.getSettingComponent().find('.button-wrapper a');\r\n                edmEditor.setStyles('color', color, button);\r\n            });\r\n            \r\n            var txtFontSize = form.find('#button-font-size');\r\n            txtFontSize.on('change', function () {\r\n                edmEditor.setStyles('font-size', (this.value > 0 ? this.value : 0) + 'px', keditor.getSettingComponent().find('.button-wrapper a'));\r\n            });\r\n            \r\n            var cbbFontFamily = form.find('#button-font-family');\r\n            cbbFontFamily.on('change', function () {\r\n                edmEditor.setStyles('font-family', this.value, keditor.getSettingComponent().find('.button-wrapper a'));\r\n            });\r\n            \r\n            form.find('.btn-style').each(function () {\r\n                var btn = $(this);\r\n                var name = btn.attr('data-prop');\r\n                \r\n                btn.on('click', function (e) {\r\n                    e.preventDefault();\r\n                    \r\n                    var value = btn.attr('data-value');\r\n                    if (btn.hasClass('active')) {\r\n                        btn.removeClass('active');\r\n                        value = '';\r\n                    } else {\r\n                        btn.addClass('active');\r\n                    }\r\n                    \r\n                    keditor.getSettingComponent().find('.button-wrapper a').get(0).style[name] = value;\r\n                });\r\n            });\r\n            \r\n            var btnsAlign = form.find('.btn-align');\r\n            btnsAlign.each(function () {\r\n                var btn = $(this);\r\n                var value = btn.attr('data-value');\r\n                \r\n                btn.on('click', function (e) {\r\n                    e.preventDefault();\r\n                    \r\n                    if (!btn.hasClass('active')) {\r\n                        var table = keditor.getSettingComponent().find('.button-wrapper');\r\n                        \r\n                        btnsAlign.removeClass('active');\r\n                        btn.addClass('active');\r\n                        \r\n                        if (value === 'full') {\r\n                            table.attr('width', '100%').attr('align', 'center');\r\n                        } else {\r\n                            table.removeAttr('width').attr('align', value);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"button\" component', component);\r\n            \r\n            edmEditor.showDefaultComponentControls(form, component, keditor);\r\n            \r\n            var buttonWrapper = component.find('.button-wrapper');\r\n            var buttonInner = buttonWrapper.find('.button-inner');\r\n            var button = buttonInner.find('a');\r\n            \r\n            var buttonColorPicker = form.find('.button-color-picker');\r\n            buttonColorPicker.val(buttonWrapper.css('background-color') || '').trigger('update');\r\n            \r\n            var txtBorderRadius = form.find('#button-border-radius');\r\n            var borderRadius = buttonWrapper.css('border-radius');\r\n            txtBorderRadius.val(borderRadius ? borderRadius.replace('px', '') : '');\r\n            \r\n            form.find('.button-inner-padding').each(function () {\r\n                var input = $(this);\r\n                var propName = input.attr('data-prop');\r\n                var value = buttonInner.get(0).style[propName];\r\n                \r\n                input.val(value ? value.replace('px', '') : '0');\r\n            });\r\n            \r\n            var txtText = form.find('#button-text');\r\n            txtText.val(button.text());\r\n            \r\n            var txtLink = form.find('#button-link');\r\n            txtLink.val(button.attr(\"href\"));\r\n            \r\n            var buttonTextColorPicker = form.find('.button-color-text-picker');\r\n            buttonTextColorPicker.val(button.css('color') || '').trigger('update');\r\n            \r\n            var txtFontSize = form.find('#button-font-size');\r\n            var fontSize = button.css('font-size');\r\n            txtFontSize.val(fontSize ? fontSize.replace('px', '') : '');\r\n            \r\n            var cbbFontFamily = form.find('#button-font-family');\r\n            cbbFontFamily.val(button.css('font-family').toLowerCase().replace(/,\\s/g, ',').replace(/\"/g, ''));\r\n            \r\n            var btnBold = form.find('.btn-bold');\r\n            var fontWeight = button.css('font-weight');\r\n            btnBold[fontWeight === '700' || fontWeight === 'bold' ? 'addClass' : 'removeClass']('active');\r\n            \r\n            var btnItalic = form.find('.btn-italic');\r\n            btnItalic[button.css('font-style') === 'italic' ? 'addClass' : 'removeClass']('active');\r\n            \r\n            var align = buttonWrapper.attr('align');\r\n            if (buttonWrapper.attr('width') === '100%') {\r\n                align = 'full';\r\n            }\r\n            form.find('.btn-align').removeClass('active').filter('[data-value=' + align + ']').addClass('active');\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Line Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var edmEditor = $.edmEditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['line'] = {\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Line Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"line\" component');\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '    <div class=\"form-group\">' +\r\n                '       <div class=\"col-md-12\">' +\r\n                '           <label>Color</label>' +\r\n                '           <input type=\"text\" value=\"\" id=\"line-color\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '       <label for=\"line-height\" class=\"col-sm-12\">Width</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"line-width\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '       <label for=\"line-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"line-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '    </div>' +\r\n                '</form>'\r\n            );\r\n    \r\n            form = form.find('form');\r\n            edmEditor.initDefaultComponentControls(form, keditor);\r\n\r\n            var lineHeight = form.find('#line-height');\r\n            lineHeight.on('change', function () {\r\n                keditor.getSettingComponent().find('.wrapper div').css('height', this.value);\r\n            });\r\n\r\n            var lineHeight = form.find('#line-width');\r\n            lineHeight.on('change', function () {\r\n                keditor.getSettingComponent().find('.wrapper table').attr('width', this.value);\r\n            });\r\n    \r\n            var lineColorPicker = form.find('.line-color-picker');\r\n            edmEditor.initSimpleColorPicker(lineColorPicker, function (color) {\r\n                var wrapper = keditor.getSettingComponent().find('.wrapper');\r\n                var div = wrapper.children('div');\r\n    \r\n                edmEditor.setStyles('background-color', color, div);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"line\" component', component);\r\n\r\n            var lineHeight = form.find('#line-height');\r\n            var height = component.find('.wrapper div').css('height');\r\n            lineHeight.val(height ? height.replace('px', '') : '0');\r\n\r\n            var lineWidth = form.find('#line-width');\r\n            var width = component.find('.wrapper table').attr('width');\r\n            lineWidth.val(width ? width.replace('px', '') : '0');\r\n            \r\n            edmEditor.showDefaultComponentControls(form, component, keditor);\r\n\r\n            var wrapper = component.find('.wrapper');\r\n            var div = wrapper.children('div');\r\n            var lineColorPicker = form.find('.line-color-picker');\r\n            lineColorPicker.val(div.css('background-color') || '').trigger('update');\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Photo Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var edmEditor = $.edmEditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['photo'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"photo\" component', component);\r\n            \r\n            var self = this;\r\n            var img = component.find('img');\r\n            self.adjustWidthForImg(img, img.hasClass('full-width'));\r\n            \r\n            var options = keditor.options;\r\n            if (typeof options.onComponentReady === 'function') {\r\n                options.onComponentReady.call(contentArea, component);\r\n            }\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Photo Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"photo\" component');\r\n            \r\n            var self = this;\r\n            \r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group photo-edit-wrapper\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group photo-alt-wrapper\">' +\r\n                '       <label for=\"photo-alt\" class=\"col-sm-12\">Alt text</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"text\" id=\"photo-alt\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-fullwidth\" class=\"col-sm-12\">Full width</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"photo-fullwidth\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-width\" class=\"col-sm-12\">Linkable</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"photo-linkable\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Link</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"text\" id=\"photo-link\" class=\"form-control\" disabled=\"disabled\" />' +\r\n                '           <span class=\"help-block\" style=\"display: none;\">Link is invalid</span>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Open link in</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select class=\"form-control\" id=\"photo-target\" disabled=\"disabled\">' +\r\n                '               <option value=\"\" selected=\"selected\">Current tab/window</option>' +\r\n                '               <option value=\"_blank\">New tab/window</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n            \r\n            var txtLink = form.find('#photo-link');\r\n            txtLink.on('change', function () {\r\n                var link = this.value.trim();\r\n                var pattern = new RegExp('^[a-zA-Z0-9_/%:/./-]+$');\r\n                var span = txtLink.next();\r\n                var formGroup = txtLink.closest('.form-group');\r\n                \r\n                if (pattern.test(link)) {\r\n                    keditor.getSettingComponent().find('a').attr('href', link);\r\n                    span.hide();\r\n                    formGroup.removeClass('has-error');\r\n                } else {\r\n                    span.show();\r\n                    formGroup.addClass('has-error');\r\n                }\r\n            });\r\n            \r\n            var cbbTarget = form.find('#photo-target');\r\n            cbbTarget.on('change', function () {\r\n                keditor.getSettingComponent().find('a').attr('target', this.value);\r\n            });\r\n            \r\n            var chkLinkable = form.find('#photo-linkable');\r\n            chkLinkable.on('click', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                \r\n                if (chkLinkable.is(':checked')) {\r\n                    txtLink.prop('disabled', false);\r\n                    cbbTarget.prop('disabled', false);\r\n                    img.wrap('<a href=\"\" style=\"text-decoration: none;\"></a>');\r\n                    img.css('border', '0');\r\n                } else {\r\n                    txtLink.prop('disabled', true);\r\n                    cbbTarget.prop('disabled', true);\r\n                    img.unwrap('a');\r\n                }\r\n            });\r\n            \r\n            var photoEdit = form.find('#photo-edit');\r\n            photoEdit.mselect({\r\n                contentTypes: ['image'],\r\n                bs3Modal: true,\r\n                pagePath: keditor.options.pagePath,\r\n                basePath: keditor.options.basePath,\r\n                onSelectFile: function (url, relativeUrl, fileType, hash) {\r\n                    var img = keditor.getSettingComponent().find('img');\r\n                    img.attr('src', \"http://\" + window.location.host + \"/_hashes/files/\" + hash);\r\n                    self.adjustWidthForImg(img, true);\r\n                }\r\n            });\r\n            \r\n            var inputAlt = form.find('#photo-alt');\r\n            inputAlt.on('change', function () {\r\n                keditor.getSettingComponent().find('img').attr('alt', this.value);\r\n            });\r\n            \r\n            var chkFullWidth = form.find('#photo-fullwidth');\r\n            chkFullWidth.on('click', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                img[this.checked ? 'addClass' : 'removeClass']('full-width');\r\n                self.adjustWidthForImg(img, this.checked);\r\n            });\r\n            \r\n            form = form.find('form');\r\n            edmEditor.initDefaultComponentControls(form, keditor, {\r\n                onPaddingChanged: function (dataCss, value) {\r\n                    if (dataCss === 'padding-left' || dataCss === 'padding-right') {\r\n                        var img = keditor.getSettingComponent().find('img');\r\n                        self.adjustWidthForImg(img, img.hasClass('full-width'));\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"photo\" component', component);\r\n            \r\n            edmEditor.showDefaultComponentControls(form, component, keditor);\r\n            \r\n            var img = component.find('img');\r\n            \r\n            var inputAlt = form.find('#photo-alt');\r\n            inputAlt.val(img.attr('alt') || '');\r\n            \r\n            var chkFullWidth = form.find('#photo-fullwidth');\r\n            chkFullWidth.prop('checked', img.hasClass('full-width'));\r\n            \r\n            var txtLink = form.find('#photo-link');\r\n            var cbbTarget = form.find('#photo-target');\r\n            var chkLinkable = form.find('#photo-linkable');\r\n            \r\n            txtLink.next().hide();\r\n            txtLink.closest('.form-group').removeClass('has-error');\r\n            \r\n            var a = img.parent('a');\r\n            if (a.length > 0) {\r\n                chkLinkable.prop('checked', true);\r\n                txtLink.prop('disabled', false).val(a.attr('href'));\r\n                cbbTarget.prop('disabled', false).val(a.attr('target'));\r\n            } else {\r\n                chkLinkable.prop('checked', false);\r\n                txtLink.prop('disabled', true).val('');\r\n                cbbTarget.prop('disabled', true).val('');\r\n            }\r\n        },\r\n        \r\n        adjustWidthForImg: function (img, isFullWidth) {\r\n            flog('adjustWidthForImg', img, isFullWidth);\r\n    \r\n            img.css('display', 'none');\r\n            \r\n            $('<img />').attr('src', img.attr('src')).load(function () {\r\n                var realWidth = this.width;\r\n                var realHeight = this.height;\r\n                var ratio = realWidth / realHeight;\r\n                var wrapper = img.parent();\r\n                if (wrapper.is('a')) {\r\n                    wrapper = wrapper.parent();\r\n                }\r\n                var wrapperWidth = wrapper.width();\r\n                img.attr({\r\n                    width: isFullWidth ? wrapperWidth : realWidth,\r\n                    height: isFullWidth ? wrapperWidth / ratio : realHeight\r\n                });\r\n                img.css('display', 'block');\r\n            });\r\n        },\r\n        \r\n        onWithChanged: function (component, width, keditor) {\r\n            var self = this;\r\n            \r\n            var img = component.find('img');\r\n            self.adjustWidthForImg(img, img.hasClass('full-width'));\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Spacer Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var edmEditor = $.edmEditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['spacer'] = {\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Spacer Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"spacer\" component');\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '    <div class=\"form-group\">' +\r\n                '       <label for=\"spacer-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"spacer-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '    </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var spacerHeight = form.find('#spacer-height');\r\n            spacerHeight.on('change', function () {\r\n                keditor.getSettingComponent().find('.spacer').attr('height', this.value);\r\n            });\r\n\r\n            form = form.find('form');\r\n            edmEditor.initDefaultComponentControls(form, keditor, {\r\n                hidePadding: true\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"spacer\" component', component);\r\n\r\n            var spacerHeight = form.find('#spacer-height');\r\n            spacerHeight.val(component.find('.spacer').attr('height'));\r\n    \r\n            edmEditor.showDefaultComponentControls(form, component, keditor);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Text Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var edmEditor = $.edmEditor;\r\n    var flog = KEditor.log;\r\n\r\n    CKEDITOR.disableAutoInline = true;\r\n    CKEDITOR.isEDM = true;\r\n\r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"text\" component', component);\r\n\r\n            var self = this;\r\n            var options = keditor.options;\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var textWrapper = componentContent.find('.text-wrapper');\r\n            var textHtml = textWrapper.html();\r\n            var editorDiv = $('<div class=\"text-editor\" contenteditable=\"true\"></div>').attr('id', keditor.generateId('text-editor')).html(textHtml);\r\n            textWrapper.html(editorDiv);\r\n\r\n            var editor = editorDiv.ckeditor(keditor.options.ckeditorOptions).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(keditor, component, editor, contentArea);\r\n                }\r\n            });\r\n\r\n            editorDiv.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(keditor, e, component, contentArea);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(keditor, e, container, contentArea);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(keditor, e, contentArea);\r\n                }\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"text\" component', component);\r\n\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var textWrapper = componentContent.find('.text-wrapper');\r\n            var editorDiv = componentContent.find('.text-editor');\r\n            var id = editorDiv.attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n\r\n            if (editor) {\r\n                textWrapper.html(editor.getData());\r\n            }\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.text-editor').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Text Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"text\" component');\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '</form>'\r\n            );\r\n\r\n            form = form.find('form');\r\n            edmEditor.initDefaultComponentControls(form, keditor);\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"text\" component', component);\r\n    \r\n            edmEditor.showDefaultComponentControls(form, component, keditor);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"]}