{"version":3,"sources":["keditor-edm-component-button-0.0.0.js"],"names":["$","KEditor","keditor","edmEditor","flog","log","components","settingEnabled","settingTitle","initSettingForm","form","ajax","url","type","dataType","success","resp","html","find","initDefaultComponentControls","buttonColorPicker","initSimpleColorPicker","color","buttonWrapper","getSettingComponent","attr","txtBorderRadius","on","setStyles","this","value","each","input","dataCss","initPaddingControl","txtText","text","trim","txtLink","href","buttonTextColorPicker","button","txtFontSize","cbbFontFamily","btn","name","e","preventDefault","hasClass","removeClass","addClass","get","style","btnsAlign","table","removeAttr","showSettingForm","component","showDefaultComponentControls","buttonInner","val","css","trigger","borderRadius","replace","propName","fontSize","toLowerCase","btnBold","fontWeight","btnItalic","align","filter","jQuery"],"mappings":"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","file":"keditor-edm-component-button-0.0.0.min.js","sourcesContent":["/**\n * KEditor Button Component\n * @copyright: Kademi (http://kademi.co)\n * @author: Kademi (http://kademi.co)\n * @version: @{version}\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\n */\n(function ($) {\n    var KEditor = $.keditor;\n    var edmEditor = $.edmEditor;\n    var flog = KEditor.log;\n    \n    KEditor.components['button'] = {\n        settingEnabled: true,\n        \n        settingTitle: 'Button Settings',\n        \n        initSettingForm: function (form, keditor) {\n            flog('init \"button\" settings', form);\n    \n            return $.ajax({\n                url: '/static/keditor/edmComponentButtonSettings.html',\n                type: 'get',\n                dataType: 'HTML',\n                success: function (resp) {\n                    form.html(resp);\n    \n                    form = form.find('.form-horizontal');\n                    edmEditor.initDefaultComponentControls(form, keditor);\n    \n                    var buttonColorPicker = form.find('.button-color-picker');\n                    edmEditor.initSimpleColorPicker(buttonColorPicker, function (color) {\n                        var buttonWrapper = keditor.getSettingComponent().find('.button-wrapper');\n                        buttonWrapper.attr('bgcolor', color);\n                    });\n    \n                    var txtBorderRadius = form.find('#button-border-radius');\n                    txtBorderRadius.on('change', function () {\n                        edmEditor.setStyles('border-radius', this.value + 'px', keditor.getSettingComponent().find('.button-wrapper'));\n                    });\n    \n                    form.find('.button-inner-padding').each(function () {\n                        var input = $(this);\n                        var dataCss = input.attr('data-css');\n        \n                        edmEditor.initPaddingControl(input, function (value) {\n                            edmEditor.setStyles(dataCss, value + 'px', keditor.getSettingComponent().find('.button-inner'));\n                        });\n                    });\n    \n                    var txtText = form.find('#button-text');\n                    txtText.on('change', function () {\n                        var text = this.value || '';\n                        text = text.trim();\n        \n                        keditor.getSettingComponent().find('.button-wrapper a').text(text);\n                    });\n    \n                    var txtLink = form.find('#button-link');\n                    txtLink.on('change', function () {\n                        var href = this.value || '';\n                        href = href.trim();\n        \n                        keditor.getSettingComponent().find('.button-wrapper a').attr(\"href\", href);\n                    });\n    \n                    var buttonTextColorPicker = form.find('.button-color-text-picker');\n                    edmEditor.initSimpleColorPicker(buttonTextColorPicker, function (color) {\n                        var button = keditor.getSettingComponent().find('.button-wrapper a');\n                        edmEditor.setStyles('color', color, button);\n                    });\n    \n                    var txtFontSize = form.find('#button-font-size');\n                    txtFontSize.on('change', function () {\n                        edmEditor.setStyles('font-size', (this.value > 0 ? this.value : 0) + 'px', keditor.getSettingComponent().find('.button-wrapper .button-inner'));\n                    });\n    \n                    var cbbFontFamily = form.find('#button-font-family');\n                    cbbFontFamily.on('change', function () {\n                        edmEditor.setStyles('font-family', this.value, keditor.getSettingComponent().find('.button-wrapper .button-inner'));\n                    });\n    \n                    form.find('.btn-style').each(function () {\n                        var btn = $(this);\n                        var name = btn.attr('data-prop');\n        \n                        btn.on('click', function (e) {\n                            e.preventDefault();\n            \n                            var value = btn.attr('data-value');\n                            if (btn.hasClass('active')) {\n                                btn.removeClass('active');\n                                value = '';\n                            } else {\n                                btn.addClass('active');\n                            }\n            \n                            keditor.getSettingComponent().find('.button-wrapper a').get(0).style[name] = value;\n                        });\n                    });\n    \n                    var btnsAlign = form.find('.btn-align');\n                    btnsAlign.each(function () {\n                        var btn = $(this);\n                        var value = btn.attr('data-value');\n        \n                        btn.on('click', function (e) {\n                            e.preventDefault();\n            \n                            if (!btn.hasClass('active')) {\n                                var table = keditor.getSettingComponent().find('.button-wrapper');\n                \n                                btnsAlign.removeClass('active');\n                                btn.addClass('active');\n                \n                                if (value === 'full') {\n                                    table.attr('width', '100%').attr('align', 'center');\n                                } else {\n                                    table.removeAttr('width').attr('align', value);\n                                }\n                            }\n                        });\n                    });\n                }\n            });\n        },\n        \n        showSettingForm: function (form, component, keditor) {\n            flog('showSettingForm \"button\" component', component);\n            \n            edmEditor.showDefaultComponentControls(form, component, keditor);\n            \n            var buttonWrapper = component.find('.button-wrapper');\n            var buttonInner = buttonWrapper.find('.button-inner');\n            var button = buttonInner.find('a');\n            \n            var buttonColorPicker = form.find('.button-color-picker');\n            buttonColorPicker.val(buttonWrapper.css('background-color') || '').trigger('update');\n            \n            var txtBorderRadius = form.find('#button-border-radius');\n            var borderRadius = buttonWrapper.css('border-radius');\n            txtBorderRadius.val(borderRadius ? borderRadius.replace('px', '') : '');\n            \n            form.find('.button-inner-padding').each(function () {\n                var input = $(this);\n                var propName = input.attr('data-css');\n                var value = buttonInner.css(propName);\n                \n                input.val(value ? value.replace('px', '') : '0');\n            });\n            \n            var txtText = form.find('#button-text');\n            txtText.val(button.text());\n            \n            var txtLink = form.find('#button-link');\n            txtLink.val(button.attr(\"href\"));\n            \n            var buttonTextColorPicker = form.find('.button-color-text-picker');\n            buttonTextColorPicker.val(button.css('color') || '').trigger('update');\n            \n            var txtFontSize = form.find('#button-font-size');\n            var fontSize = buttonInner.css('font-size');\n            txtFontSize.val(fontSize ? fontSize.replace('px', '') : '');\n            \n            var cbbFontFamily = form.find('#button-font-family');\n            cbbFontFamily.val(buttonInner.css('font-family').toLowerCase().replace(/,\\s/g, ',').replace(/\"/g, ''));\n            \n            var btnBold = form.find('.btn-bold');\n            var fontWeight = button.css('font-weight');\n            btnBold[fontWeight === '700' || fontWeight === 'bold' ? 'addClass' : 'removeClass']('active');\n            \n            var btnItalic = form.find('.btn-italic');\n            btnItalic[button.css('font-style') === 'italic' ? 'addClass' : 'removeClass']('active');\n            \n            var align = buttonWrapper.attr('align');\n            if (buttonWrapper.attr('width') === '100%') {\n                align = 'full';\n            }\n            form.find('.btn-align').removeClass('active').filter('[data-value=' + align + ']').addClass('active');\n        }\n    };\n    \n})(jQuery);\n"],"sourceRoot":"/source/"}