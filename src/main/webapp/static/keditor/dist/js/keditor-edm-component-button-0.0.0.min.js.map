{"version":3,"sources":["keditor-edm-component-button-0.0.0.js"],"names":["$","KEditor","keditor","flog","log","components","settingEnabled","settingTitle","settingFormHtml","initSettingForm","form","append","this","find","initPaddingControls","initBgColorControl","buttonColorPicker","initColorPicker","color","buttonWrapper","getSettingComponent","setStyle","attr","removeAttr","val","txtBorderRadius","on","value","each","input","propName","get","style","txtText","text","trim","txtLink","href","buttonTextColorPicker","button","txtFontSize","cbbFontFamily","btn","name","e","preventDefault","hasClass","removeClass","addClass","btnsAlign","table","showSettingForm","component","showBgColorControl","showPaddingControls","buttonInner","colorpicker","css","borderRadius","replace","fontSize","toLowerCase","btnBold","fontWeight","btnItalic","align","filter","jQuery"],"mappings":"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","file":"keditor-edm-component-button-0.0.0.min.js","sourcesContent":["/**\r\n * KEditor Button Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: @{version}\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['button'] = {\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Button Settings',\r\n\r\n        settingFormHtml: (\r\n            '<form class=\"form-horizontal\">' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <div class=\"col-md-12\">' +\r\n            '           <label>Color</label>' +\r\n            '           <div class=\"input-group button-color-picker\">' +\r\n            '               <span class=\"input-group-addon\"><i></i></span>' +\r\n            '               <input type=\"text\" value=\"\" id=\"button-color\" class=\"form-control\" />' +\r\n            '           </div>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label for=\"button-border-radius\" class=\"col-sm-12\">Border Radius</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"number\" id=\"button-border-radius\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <div class=\"col-md-12\">' +\r\n            '           <label>Inner Padding (in px)</label>' +\r\n            '           <div class=\"row row-sm text-center\">' +\r\n            '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n            '                   <input type=\"number\" value=\"\" class=\"button-inner-padding form-control\" data-prop=\"paddingTop\" name=\"padding-top\" />' +\r\n            '                   <small>top</small>' +\r\n            '               </div>' +\r\n            '           </div>' +\r\n            '           <div class=\"row row-sm text-center\">' +\r\n            '               <div class=\"col-xs-4\">' +\r\n            '                   <input type=\"number\" value=\"\" class=\"button-inner-padding form-control\" data-prop=\"paddingLeft\" name=\"padding-left\" />' +\r\n            '                   <small>left</small>' +\r\n            '               </div>' +\r\n            '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n            '                   <input type=\"number\" value=\"\" class=\"button-inner-padding form-control\" data-prop=\"paddingRight\" name=\"padding-right\" />' +\r\n            '                   <small>right</small>' +\r\n            '               </div>' +\r\n            '           </div>' +\r\n            '           <div class=\"row row-sm text-center\">' +\r\n            '               <div class=\"col-xs-4 col-xs-offset-4\">' +\r\n            '                   <input type=\"number\" value=\"\" class=\"button-inner-padding form-control\" data-prop=\"paddingBottom\" name=\"padding-bottom\" />' +\r\n            '                   <small>bottom</small>' +\r\n            '               </div>' +\r\n            '           </div>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label for=\"button-text\" class=\"col-sm-12\">Text</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"text\" id=\"button-text\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group button-link\">' +\r\n            '       <label for=\"button-link\" class=\"col-sm-12\">Link</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"text\" id=\"button-link\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <div class=\"col-md-12\">' +\r\n            '           <label>Text color</label>' +\r\n            '           <div class=\"input-group button-color-text-picker\">' +\r\n            '               <span class=\"input-group-addon\"><i></i></span>' +\r\n            '               <input type=\"text\" value=\"\" id=\"button-text-color\" class=\"form-control\" />' +\r\n            '           </div>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label for=\"button-font-size\" class=\"col-sm-12\">Font Size</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"number\" id=\"button-font-size\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label for=\"button-font-family\" class=\"col-sm-12\">Font Family</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <select id=\"button-font-family\" class=\"form-control\">' +\r\n            '               <option value=\"\">None</option>' +\r\n            '               <option value=\"arial,helvetica,sans-serif\">Arial</option>' +\r\n            '               <option value=\"comic sans ms,cursive\">Comic Sans MS</option>' +\r\n            '               <option value=\"courier new,courier,monospace\">Courier New</option>' +\r\n            '               <option value=\"lucida sans unicode,lucida grande,sans-serif\">Lucida Sans Unicode</option>' +\r\n            '               <option value=\"tahoma,geneva,sans-serif\">Tahoma</option>' +\r\n            '               <option value=\"times new roman,times,serif\">Times New Roman</option>' +\r\n            '               <option value=\"trebuchet ms,helvetica,sans-serif\">Trebuchet MS</option>' +\r\n            '               <option value=\"verdana,geneva,sans-serif\">Verdana</option>' +\r\n            '           </select>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Font Style</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-style btn-bold\" data-value=\"bold\" data-prop=\"fontWeight\" name=\"font-weight\"><i class=\"fa fa-bold\"></i></button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-style btn-italic\" data-value=\"italic\" data-prop=\"fontStyle\" name=\"font-style\"><i class=\"fa fa-italic\"></i></button>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '    <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Alignment</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-align\" data-value=\"left\"><i class=\"fa fa-align-left\"></i></button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-align\" data-value=\"center\"><i class=\"fa fa-align-center\"></i></button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-align\" data-value=\"right\"><i class=\"fa fa-align-right\"></i></button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-align\" data-value=\"full\"><i class=\"fa fa-align-justify\"></i></button>' +\r\n            '       </div>' +\r\n            '    </div>' +\r\n            '</form>'\r\n        ),\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"button\" component');\r\n\r\n            form.append(this.settingFormHtml);\r\n\r\n            form = form.find('form');\r\n            KEditor.initPaddingControls(keditor, form, 'prepend');\r\n            KEditor.initBgColorControl(keditor, form, 'prepend');\r\n\r\n            var buttonColorPicker = form.find('.button-color-picker');\r\n            initColorPicker(buttonColorPicker, function (color) {\r\n                var buttonWrapper = keditor.getSettingComponent().find('.button-wrapper');\r\n\r\n                if (color && color !== 'transparent') {\r\n                    setStyle(buttonWrapper, 'background-color', color);\r\n                    buttonWrapper.attr('bgcolor', color);\r\n                } else {\r\n                    setStyle(buttonWrapper, 'background-color', '');\r\n                    buttonWrapper.removeAttr('bgcolor');\r\n                    form.find('.button-color').val('');\r\n                }\r\n            });\r\n\r\n            var txtBorderRadius = form.find('#button-border-radius');\r\n            txtBorderRadius.on('change', function () {\r\n                setStyle(keditor.getSettingComponent().find('.button-wrapper'), 'border-radius', this.value + 'px');\r\n            });\r\n\r\n            form.find('.button-inner-padding').each(function () {\r\n                var input = $(this);\r\n                var propName = input.attr('data-prop');\r\n\r\n                input.on('change', function () {\r\n                    var value = this.value > 0 ? this.value : 0;\r\n\r\n                    keditor.getSettingComponent().find('.button-inner').get(0).style[propName] = value + 'px';\r\n                });\r\n            });\r\n\r\n            var txtText = form.find('#button-text');\r\n            txtText.on('change', function () {\r\n                var text = this.value || '';\r\n                text = text.trim();\r\n\r\n                keditor.getSettingComponent().find('.button-wrapper a').text(text);\r\n            });\r\n\r\n            var txtLink = form.find('#button-link');\r\n            txtLink.on('change', function () {\r\n                var href = this.value || '';\r\n                href = href.trim();\r\n\r\n                keditor.getSettingComponent().find('.button-wrapper a').attr(\"href\", href);\r\n            });\r\n\r\n            var buttonTextColorPicker = form.find('.button-color-text-picker');\r\n            initColorPicker(buttonTextColorPicker, function (color) {\r\n                var button = keditor.getSettingComponent().find('.button-wrapper a');\r\n\r\n                if (color && color !== 'transparent') {\r\n                    setStyle(button, 'color', color);\r\n                } else {\r\n                    setStyle(button, 'color', '');\r\n                    form.find('.button-text-color').val('');\r\n                }\r\n            });\r\n\r\n            var txtFontSize = form.find('#button-font-size');\r\n            txtFontSize.on('change', function () {\r\n                setStyle(keditor.getSettingComponent().find('.button-wrapper a'), 'font-size', (this.value > 0 ? this.value : 0) + 'px');\r\n            });\r\n\r\n            var cbbFontFamily = form.find('#button-font-family');\r\n            cbbFontFamily.on('change', function () {\r\n                setStyle(keditor.getSettingComponent().find('.button-wrapper a'), 'font-family', this.value);\r\n            });\r\n\r\n            form.find('.btn-style').each(function () {\r\n                var btn = $(this);\r\n                var name = btn.attr('data-prop');\r\n\r\n                btn.on('click', function (e) {\r\n                    e.preventDefault();\r\n\r\n                    var value = btn.attr('data-value');\r\n                    if (btn.hasClass('active')) {\r\n                        btn.removeClass('active');\r\n                        value = '';\r\n                    } else {\r\n                        btn.addClass('active');\r\n                    }\r\n\r\n                    keditor.getSettingComponent().find('.button-wrapper a').get(0).style[name] = value;\r\n                });\r\n            });\r\n\r\n            var btnsAlign = form.find('.btn-align');\r\n            btnsAlign.each(function () {\r\n                var btn = $(this);\r\n                var value = btn.attr('data-value');\r\n\r\n                btn.on('click', function (e) {\r\n                    e.preventDefault();\r\n\r\n                    if (!btn.hasClass('active')) {\r\n                        var table = keditor.getSettingComponent().find('.button-wrapper');\r\n\r\n                        btnsAlign.removeClass('active');\r\n                        btn.addClass('active');\r\n\r\n                        if (value === 'full') {\r\n                            table.attr('width', '100%').attr('align', 'center');\r\n                        } else {\r\n                            table.removeAttr('width').attr('align', value);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"button\" component', component);\r\n\r\n            KEditor.showBgColorControl(keditor, form, component);\r\n            KEditor.showPaddingControls(keditor, form, component);\r\n\r\n            var buttonWrapper = component.find('.button-wrapper');\r\n            var buttonInner = buttonWrapper.find('.button-inner');\r\n            var button = buttonInner.find('a');\r\n\r\n            var buttonColorPicker = form.find('.button-color-picker');\r\n            buttonColorPicker.colorpicker('setValue', buttonWrapper.css('background-color') || '');\r\n\r\n            var txtBorderRadius = form.find('#button-border-radius');\r\n            var borderRadius = buttonWrapper.css('border-radius');\r\n            txtBorderRadius.val(borderRadius ? borderRadius.replace('px', '') : '');\r\n\r\n            form.find('.button-inner-padding').each(function () {\r\n                var input = $(this);\r\n                var propName = input.attr('data-prop');\r\n                var value = buttonInner.get(0).style[propName];\r\n\r\n                input.val(value ? value.replace('px', '') : '0');\r\n            });\r\n\r\n            var txtText = form.find('#button-text');\r\n            txtText.val(button.text());\r\n\r\n            var txtLink = form.find('#button-link');\r\n            txtLink.val(button.attr(\"href\"));\r\n\r\n            var buttonTextColorPicker = form.find('.button-color-text-picker');\r\n            buttonTextColorPicker.colorpicker('setValue', button.css('color') || '');\r\n\r\n            var txtFontSize = form.find('#button-font-size');\r\n            var fontSize = button.css('font-size');\r\n            txtFontSize.val(fontSize ? fontSize.replace('px', '') : '');\r\n\r\n            var cbbFontFamily = form.find('#button-font-family');\r\n            cbbFontFamily.val(button.css('font-family').toLowerCase().replace(/,\\s/g, ','));\r\n\r\n            var btnBold = form.find('.btn-bold');\r\n            var fontWeight = button.css('font-weight');\r\n            btnBold[fontWeight === '700' || fontWeight === 'bold' ? 'addClass' : 'removeClass']('active');\r\n\r\n            var btnItalic = form.find('.btn-italic');\r\n            btnItalic[button.css('font-style') === 'italic' ? 'addClass' : 'removeClass']('active');\r\n\r\n            var align = buttonWrapper.attr('align');\r\n            if (buttonWrapper.attr('width') === '100%') {\r\n                align = 'full';\r\n            }\r\n            form.find('.btn-align').removeClass('active').filter('[data-value=' + align + ']').addClass('active');\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}