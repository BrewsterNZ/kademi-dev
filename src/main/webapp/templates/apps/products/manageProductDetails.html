<html xmlns="http://www.w3.org/1999/xhtml">    <head>        <title>Manage Products</title>        <style>            .delete-image {                position: absolute;                top: 10px;                right: 25px;            }        </style>    </head>    <body class="">        #portlets("beforeManageProductDetails")        <div class="tabbable">            <ul class="nav nav-tabs tab-bricky" id="myTab">                <li role="presentation" class="active"><a data-toggle="tab" href="#panel_details"><i class="green fa fa-home"></i> Details</a></li>                <li role="presentation"><a data-toggle="tab" href="#variants"><i class="green fa fa-list"></i> Variants</a></li>            </ul>            <div class="tab-content">                <div id="panel_details" class="tab-pane active">                    <form action="." method="POST" enctype="multipart/form-data" class="updateProduct form-horizontal" role="form">                        <input type="hidden" name="action" value="update"/>                        <div class="form-group">                            <div class="errorHandler alert alert-danger no-display pageMessage">.</div>                        </div>                        <div class="form-group">                            <label class="col-sm-2 control-label" for="name">Name/Code</label>                            <div class="col-sm-9">                                <input type="text" class="form-control required simpleChars" id="productName" name="name" value="$page.product.name" />                            </div>                        </div>                        <div class="form-group">                            <label class="col-sm-2 control-label" for="title">Title</label>                            <div class="col-sm-9">                                <input type="text" class="form-control required" name="title" value="$page.product.title"/>                            </div>                        </div>                        <div class="form-group">                            <label class="col-sm-2 control-label" for="baseCost">Base Cost</label>                            <div class="col-sm-9">                                <input type="text" class="form-control" name="baseCost" value="$!page.product.baseCost"/>                            </div>                        </div>                        <div class="form-group">                            <label class="col-sm-2 control-label" for="baseCost">Freight Cost</label>                            <div class="col-sm-9">                                <input type="text" class="form-control" name="freightCost" value="$!page.product.freightCost"/>                            </div>                        </div>                        <div class="form-group">                            <label class="col-sm-2 control-label" for="canOrderChk">Allow Ordering?</label>                            <div class="col-sm-9">                                <div class="checkbox">                                    <label>                                        $formatter.checkbox("canOrderChk", "canOrder", $page.product.canOrder)                                        If ticked users will be given ordering options                                    </label>                                </div>                            </div>                        </div>                        <div class="ordering">                            <h4 class="title">Order Form</h4>                            <hr />                            <div class="form-group">                                <label class="col-sm-2 control-label" for="orderForm">Order Form</label>                                <div class="col-sm-9">                                    <textarea class="form-control" name="orderForm">$!{page.orderFormHtml}</textarea>                                    <i>Enter the form html above</i>                                </div>                            </div>                            <div class="form-group">                                <label class="col-sm-2 control-label" for="orderColumns">CSV Columns</label>                                <div class="col-sm-9">                                    <input type="text" name="orderColumns" id="orderColumns" class="form-control" value="$!page.product.orderColumns"/>                                </div>                            </div>                            <div class="form-group">                                <label class="col-sm-2 control-label" for="canOrderQuantityChk">Quantity?</label>                                <div class="col-sm-9">                                    <div class="checkbox">                                        <label>                                            $formatter.checkbox("canOrderQuantityChk", "canOrderQuantity", $page.product.canOrderQuantity)                                            If ticked users will be prompted for a quantity when ordering                                        </label>                                    </div>                                </div>                            </div>                        </div>                        <div class="form-group">                            <label class="col-sm-2 control-label" for="notes">Product Details</label>                            <div class="col-sm-9">                                <textarea id="notes" name="notes" class="htmleditor" cols="100" rows="5">$!page.product.notes</textarea>                                #portlets("insideManageProductDetails")                            </div>                        </div>                        <div class="form-group">                            <div class="col-sm-offset-2 col-sm-9">                                <button type="submit" class="btn btn-sm btn-primary">Save</button>                            </div>                        </div>                    </form>                    <hr/>                    <div class="panel panel-default">                        <div class="panel-heading">                            <i class="clip-pictures"></i>Product images                        </div>                        <div class="panel-body">                            <div class="row">                                <div class="col-xs-4 col-md-2">                                    <button id="btn-change-ava" class="btn btn-success">Add image</button>                                </div>                                <div id="product-images">                                    #foreach($href in $page.imageHrefs)                                    <div class="col-xs-6 col-md-3 product-image-thumb">                                        <a href="$href" target="_blank" class="thumbnail"><img src="$href/alt-150-150.png"/></a>                                        <a class="delete-image btn btn-xs btn-danger" href="$href">                                            <span class="fa fa-times"></span>                                        </a>                                    </div>                                    #end                                </div>                            </div>                        </div>                    </div>                    <hr/>                    #portlets("afterManageProductDetails")                </div>                <div id="variants" class="tab-pane">                    <button class="btn btn-success add-variant-type">Add variant type</button>                    <hr/>                    <div id="variantsList">                    #foreach($pp in $page.productParameters)                    <div class="panel panel-default product-parameter" data-product-parameter-id="$pp.id">                        <div class="panel-heading">                            <i class="clip-pictures"></i>$pp.title                        </div>                        <div class="panel-body">                            <div class="row">                                <a href="pp-$pp.id" title="$pp.title" class="btn btn-danger btn-delete-variant-type pull-right" style="margin-right: 15px">                                    <span class="glyphicon glyphicon-remove-circle"></span>                                    Delete                                </a>                                <div class="col-xs-4 col-md-2">                                    <button class="btn btn-success btn-add-variant">                                        <span class="glyphicon glyphicon-plus-sign"></span>                                        Add variant                                    </button>                                </div>                                <div class="col-xs-4 col-md-2">                                </div>                            </div>                            <table class="table table-striped">                                <colgroup>                                    <col/>                                    <col/>                                    <col/>                                    <col style="width: 100px"/>                                </colgroup>                                <thead>                                    <tr>                                        <th>Name</th>                                        <th>Title</th>                                        <th>Cost</th>                                    </tr>                                </thead>                                <tbody id="product-variants-body">                                    #foreach($opt in $pp.parameterOptions)                                    <tr>                                        <td class="variant-name">$opt.name</td>                                        <td class="variant-title">$opt.title</td>                                        <td class="variant-cost">$!opt.cost</td>                                        <td>                                            <a class="btn btn-default btn-edit-variant" type="button" href="$opt.id">                                                <span class="fa fa-cog"></span>                                            </a>                                            <a title="$opt.title" class="btn btn-danger btn-delete-variant" type="button" href="pp-${pp.id}/$opt.id">                                                <span class="glyphicon glyphicon-remove-circle"></span>                                            </a>                                        </td>                                    </tr>                                    #end                                </tbody>                            </table>                        </div>                    </div>                    #end                    </div>                </div>            </div>        </div>        <div id="modal-product-option" class="modal modal-sm fade" aria-hidden="true" tabindex="-1">            <form method="POST" class="form-horizontal" action="$page.href">                <div class="modal-header">                    <button aria-hidden="true" data-dismiss="modal" class="close" type="button">&times;</button>                    <h4 class="modal-title">Product option</h4>                </div>                <div class="modal-body">                    <input type="hidden" name="productParameterId"/>                    <input type="hidden" name="productOptionId"/>                    <div class="form-group">                        <label class="control-label col-md-3" for="newUserEmail">Code</label>                        <div class="col-md-9">                            <input type="text" name="name" id="" class="simpleChars required form-control" />                        </div>                    </div>                    <div class="form-group">                        <label class="control-label col-md-3" for="newUserEmail">Title</label>                        <div class="col-md-9">                            <input type="text" name="title" id="" class="simpleChars required form-control" />                        </div>                    </div>                    <div class="form-group">                        <label class="control-label col-md-3" for="cost">Cost</label>                        <div class="col-md-9">                            <input type="text" name="cost" id="" class="numeric form-control" />                        </div>                    </div>                </div>                <div class="modal-footer">                    <button class="btn btn-sm btn-default" data-dismiss="modal" type="button">Close</button>                    <button class="btn btn-sm btn-success" type="submit">Save</button>                </div>            </form>        </div>        <script type="text/javascript" src="/static/bootstrap-upcrop-image/1.0/bootstrap-upcrop-image.js">//</script>        <script type="text/javascript" src="/static/js/jquery.milton-upload.js"></script>        <script type="text/javascript" src="/theme/apps/products/manageProductDetails.js"></script>        <script type="text/javascript">            $(function () {                initProductDetails();                $("body").on("click", ".btn-delete-variant-type", function (e) {                    e.preventDefault();                    var id = $(e.target).attr("href");                    var name = $(e.target).attr("title");                    confirmDelete(id, name, function () {                        Msg.success('Variant type deleted');                        $("#variantsList").reloadFragment();                    });                });                $("body").on("click", ".btn-delete-variant", function (e) {                    e.preventDefault();                    var id = $(e.target).attr("href");                    var name = $(e.target).attr("title");                    confirmDelete(id, name, function () {                        Msg.success('Variant deleted');                        $("#variantsList").reloadFragment();                    });                });            });        </script>    </body></html>