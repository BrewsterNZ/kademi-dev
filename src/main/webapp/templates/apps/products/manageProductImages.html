<html xmlns="http://www.w3.org/1999/xhtml">    <head>        <title>Manage Product Images</title>        <link rel="stylesheet" href="/theme/assets/plugins/dropzone/downloads/css/dropzone.css"/>    </head>    <body class="">        <div class="row">            <div class="col-md-6">                <div class="panel panel-default">                    <div id="productsList" class="panel-body">                        <div class="row">                            #foreach($product in $page.find("/products").children.ofType.product)                            <div class="col-xs-6 col-md-3">                                #if( $product.imageHrefs.size() > 0 )                                <div class="thumbnail">                                    <img src='$product.imageHrefs.get(0)' />                                    <div class="caption">                                        <h3>$product.name</h3>                                    </div>                                </div>                                #end                            </div>                            #end                        </div>                    </div>                </div>            </div>            <div class="col-md-6">                <div class="well">                    <form action="${page.href}_DAV/PUT?overwrite=true" class="dropzone dropzone-fullwidth" id="uploadFileDropzone"></form>                </div>            </div>        </div>        <script src="/theme/assets/plugins/dropzone/downloads/dropzone.min.js"></script>        <script type="text/javascript" >            $(function () {                Dropzone.autoDiscover = false;                $(".dropzone").dropzone({                    paramName: "file", // The name that will be used to transfer the file                    maxFilesize: 500.0, // MB                    addRemoveLinks: true,                    parallelUploads: 1,                    uploadMultiple: false                });                flog("dropz", Dropzone);                var dz = Dropzone.forElement("#uploadFileDropzone");                dz.on("success", function (file, response) {                    var resp = JSON.parse(response);                    flog("added file", file, resp);                    if (resp.error) {                        file.previewElement.classList.add("dz-error");                        var node, _i, _len, _ref, _results;                        _ref = file.previewElement.querySelectorAll("[data-dz-errormessage]");                        _results = [];                        for (_i = 0, _len = _ref.length; _i < _len; _i++) {                            node = _ref[_i];                            _results.push(node.textContent = resp.error);                        }                        return _results;                    } else {                        reloadImageList();                    }                });                dz.on("error", function (file, errorMessage) {                    Msg.error("An error occured uploading: " + file.name + " because: " + errorMessage);                });            });            function reloadImageList() {                $("#productsList").reloadFragment();            }        </script>    </body></html>