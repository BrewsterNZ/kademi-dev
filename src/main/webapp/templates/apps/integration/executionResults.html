<html xmlns="http://www.w3.org/1999/xhtml">    <head>        <title>Integration Result</title>        <style>            .icon {                width: 60px;                text-align: center;            }            .icon i {                font-size: 30px;            }        </style>    </head>    <body class="">        <h2>$page.results.executionId / $formatter.formatDateTime($page.results.startDate)            #if(!$page.results.endDate)            <a class="btn btn-danger pull-right btn-stop-exec" href="#">                <span class="glyphicon glyphicon-stop"></span>                Stop            </a>            #end        </h2>        <div id="statusBody">            <table class="table table-bordered table-striped">                <tbody>                    <tr>                        <td>Pipeline</td>                        <td>$page.results.pipelinePath</td>                    </tr>                    <tr>                        <td>Started</td>                        <td>$page.results.startDate</td>                    </tr>                    <tr>                        <td>Finished</td>                        <td>$!page.results.endDate</td>                    </tr>                    <tr>                        <td>Source</td>                        <td>$page.results.source</td>                    </tr>                    <tr>                        <td>Destination</td>                        <td>$formatter.percentDecode( $page.results.destination )</td>                    </tr>                    <tr>                        <td>Website</td>                        <td>$page.results.websiteBranch.repository.name</td>                    </tr>                    #if($page.fileName && $page.results.fileHash)                    <tr>                        <td>File</td>                        <td><a href="/_hashes/files/$page.results.fileHash" download="$page.fileName">$page.fileName</a></td>                    </tr>                    #end                    <tr id="statusMsg" style="display:none;">                        <td>Current Status</td>                        <td id="statusText"></td>                    </tr>                </tbody>            </table>            <div id="failures">                #if( $page.results.failures.length() > 0  )                <h3>Failures</h3>                <pre>$page.results.failures                </pre>                #else                <h3>No failures</h3>                #end            </div>            <div id="warnings">                #if( $page.results.warnings.length() > 0 )                <h3>Warnings</h3>                <pre>$!page.results.warnings                </pre>                #else                <h3>No warnings</h3>                #end            </div>            <div id="infos">                #if( $page.results.Infos.length() > 0 )                <h3>Information</h3>                <pre>$!page.results.Infos                </pre>                #else                <h3>No information</h3>                #end            </div>        </div>        <script type="text/javascript">            var taskName = "$!page.endpointId";            $(function () {                checkUploadStatus();                $('body').on('click', '.btn-stop-exec', function (e) {                    e.preventDefault();                    stopExec();                });            });            function stopExec() {                // stopExec                $.ajax({                    type: 'POST',                    data: {                        stopExec: true                    },                    url: window.location.pathname,                    success: function (result) {                        flog("success", result);                    },                    error: function (resp) {                        flog("error", result);                    }                });            }            function checkUploadStatus() {                flog("checkUploadStatus");                var jobTitle = $(".job-title");                var resultUploadCsv = $('.upload-results');                if (taskName !== "") {                    $.ajax({                        type: 'GET',                        dataType: "json",                        url: "/tasks/" + taskName,                        success: function (result) {                            flog("success", result);                            if (result.data) {                                if (result.data.statusInfo.complete) {                                    // finished                                    $('#statusMsg').hide("");                                    $('.btn-stop-exec').hide();                                    $("#statusBody").reloadFragment();                                    return; // dont poll again                                } else {                                    // running                                    $('#statusMsg').show("");                                    $('#statusText').text(result.messages[0]);                                    if (result.data.state !== null) {                                        // load failures                                        var failures = $('#failures');                                        if (result.data.state.failures.length > 0) {                                            var failureHtml = "<h3>Failures</h3>"                                                    + "<pre>" + result.data.state.failures                                                    + "</pre>";                                            failures.html(failureHtml);                                        } else {                                            failures.html("<h3>No failures</h3>");                                        }                                        // load warning                                        var warnings = $('#warnings');                                        if (result.data.state.warnings.length > 0) {                                            var warningsHtml = "<h3>Warnings</h3>"                                                    + "<pre>" + result.data.state.warnings                                                    + "</pre>";                                            warnings.html(warningsHtml);                                        } else {                                            warnings.html("<h3>No warnings</h3>");                                        }                                        // load infos                                        var infos = $('#infos');                                        if (result.data.state.infos.length > 0) {                                            var infosHtml = "<h3>Information</h3>"                                                    + "<pre>" + result.data.state.infos                                                    + "</pre>";                                            infos.html(infosHtml);                                        } else {                                            infos.html("<h3>No information</h3>");                                        }                                    }                                }                            } else {                                // waiting to start                                $('#statusText').text("Waiting for import job to start ...");                                $('#statusMsg').show("");                            }                            window.setTimeout(checkUploadStatus, 1500);                        },                        error: function (resp) {                            //No job                            $('#statusMsg').hide("");                            $('.btn-stop-exec').hide();                            $("#statusBody").reloadFragment();                        }                    });                }            }        </script>    </body></html>