#if ( !$height )
    #set ( $height = 100 )
#end

#set( $pointsBucket = $applications.rewardStore.findPointsBucket($bucket) )
#if( $pointsBucket )
<div class="panel panel-default">
    <div class="panel-heading">
        <i class="fa fa-table"></i>
        Top balances in
        $pointsBucket.title
    </div>
    <div class="panel-body" style="height: ${height}px; overflow-y: auto;">
        #set( $topBalances = $applications.rewardStore.findTopBalances($bucket, 10) )
                
        #if( $topBalances.size() > 0 )            
            <table class="table table-hover table-striped">
                <thead>
                    <tr>
                        <th>Balance</th>
                        <th>User</th>
                    </tr>
                </thead>
                    <tbody>
                    #foreach( $pt in $topBalances )
                        <tr>
                            <td>$pt.balance</td>
                            <td>
                                #if( $pt.participant.orgId )
                                $pt.participant.title
                                #else
                                $pt.participant.formattedName()
                                #end
                            </td>
                        </tr>
                    #end
                </tbody>
            </table>
        #else
            <p>There are no matching participants</p>
        #end
    </div>
</div>
#else
Points bucket not found - $bucket
#end