#set($fromRange = 0)
#if($params.fromRange)
#set($fromRange = $formatter.toInteger($params.fromRange))
#end

#set($toRange = 100)
#if($params.toRange)
#set($toRange = $formatter.toInteger($params.toRange))
#end

#set( $products = $page.searchProducts( $request.params.q, $fromRange, $toRange, 'title', null ) )
<div id='products-list' class="rewardStoreCategoryProductsComponent">
    #if( $products.hits.hits.size() == 0 )
    <b class=''>No products were found matching the critieria</b>
    #else
    <div class='row'>
        #foreach($p in $products.hits.hits )
        #set($bg = "")
        #if( $p.fields.primaryImageId.value )
        #set($bg = "url($p.fields.product.value/$p.fields.primaryImageId.value/alt-300-300.png)")
        #end

        <div class="col-md-2 product-item">
            <a class="product-tile" href="$p.fields.product.value">
                <div style="background-image: $bg;" class="bg-img"></div>
                <div class="product-tile-inner">
                    <span>$p.fields.title.value</span>
                </div>
                <span class="label priceLabel">$p.fields.finalPoints.value points</span>
            </a>
        </div>
        #end
    </div>
    #end
</div>
#if ($page)
<div id="inifiniteLoader">
    <span class="alert alert-success">
        <img src="/templates/ajax-loader.gif" />
    </span>
</div>
#else
<div class="alert alert-warning">Products go here</div>
<script>
    var contentEditing = true;
</script>
#end


