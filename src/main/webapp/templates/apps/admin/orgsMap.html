<html>    <head>        <title>Organisations map</title>    </head>    <body class="viewOrg">        <div class="" id="dealerSearch">        <form role="form" class="form-horizontal form-search" action="">            <div class="input-group input-group-lg">                <input type="text" name="q" class="form-control" placeholder="Enter keyword to search..." value="#if (!$request.params.isEmpty()) $request.params.q.trim() #end" />                <span class="input-group-btn">                    <button class="btn btn-default" type="submit">Search</button>                </span>            </div>        </form>        <div class="row" style="margin-bottom: 40px;">            <div class="col-md-4" id="list-stores">                <div class="panel panel-default">                    <div class="panel-heading">List stores</div>                    <div class="list-group" id="list-stores-body" style="overflow-y: auto;">                    </div>                </div>            </div>            <div class="col-md-8">                <div class="embed-responsive embed-responsive-16by9" id="map-wrapper">                    <div class="embed-responsive-item" id="map"></div>                </div>            </div>        </div>        </div>        <script type="text/javascript" src="/static/jquery.orgFinder/1.0.0/jquery.orgFinder-1.0.0.js"></script>        <script type="text/javascript">            var win = $(window);            $(function () {                $('#dealerSearch').orgFinder({                    searchUrl: '/organisations',                    googleAPIKey: 'AIzaSyBVZvDadY-bHIaNkl_1wa0UrO-owF6idoM',                    initLatLng: [-33.8147246, 151.033011],                    initZoomLevel: 15,                    initQuery: '$!request.params.q.trim()',                    onReady: function (formSearch, itemsWrapper, mapDiv) {                        win.on('resize', function () {                            var mapWrapper = mapDiv.parent();                            var winWidth = win.width();                            itemsWrapper.css('height', '');                            itemsWrapper.css('max-height', '');                            mapWrapper.css('padding-bottom', '');                            if (winWidth < 768) {                                mapWrapper.css('padding-bottom', '120%');                                itemsWrapper.css('max-height', 200);                            } else if (winWidth < 992) {                                itemsWrapper.css('max-height', 300);                            } else {                                itemsWrapper.css('height', mapWrapper.innerHeight() - 39);                            }                        }).trigger('resize');                    },                    onSearch: function (query) {                        history.pushState(null, 'Search', window.location.pathname + '?q=' + encodeURIComponent(query));                    }                });            });        </script>            </body></html>